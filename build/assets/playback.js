(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(typeof self !== 'undefined' ? self : this, function() {
return webpackJsonp([0],{

/***/ 141:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.selenium=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();/*\n * Copyright 2017 SideeX committers\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */var _webextensionPolyfill=__webpack_require__(11);var _webextensionPolyfill2=_interopRequireDefault(_webextensionPolyfill);__webpack_require__(80);var _targetSelector=__webpack_require__(390);var _targetSelector2=_interopRequireDefault(_targetSelector);var _seleniumApi=__webpack_require__(231);var _seleniumApi2=_interopRequireDefault(_seleniumApi);var _seleniumBrowserbot=__webpack_require__(232);var _seleniumBrowserbot2=_interopRequireDefault(_seleniumBrowserbot);var _locatorBuilders=__webpack_require__(234);var _locatorBuilders2=_interopRequireDefault(_locatorBuilders);var _region=__webpack_require__(393);var _promptInjector=__webpack_require__(394);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var selenium=exports.selenium=new _seleniumApi2.default(_seleniumBrowserbot2.default.createForWindow(window,true));var locatorBuilders=new _locatorBuilders2.default(window);var contentSideexTabId=window.contentSideexTabId;var targetSelector=void 0;(0,_promptInjector.attach)(selenium);function doCommands(request,_sender,sendResponse){if(request.commands){if(request.commands=='waitPreparation'){selenium['doWaitPreparation']('',selenium.preprocessParameter(''));sendResponse({});}else if(request.commands=='prePageWait'){selenium['doPrePageWait']('',selenium.preprocessParameter(''));sendResponse({new_page:window.sideex_new_page});}else if(request.commands=='pageWait'){selenium['doPageWait']('',selenium.preprocessParameter(''));sendResponse({page_done:window.sideex_page_done});}else if(request.commands=='ajaxWait'){selenium['doAjaxWait']('',selenium.preprocessParameter(''));sendResponse({ajax_done:window.sideex_ajax_done});}else if(request.commands=='domWait'){selenium['doDomWait']('',selenium.preprocessParameter(''));sendResponse({dom_time:window.sideex_new_page});}else if(request.commands==='evaluateConditional'){try{var value=selenium['doEvaluateConditional'](request.target);sendResponse({result:'success',value:value});}catch(e){sendResponse({result:e.message});}}else{var upperCase=request.commands.charAt(0).toUpperCase()+request.commands.slice(1);if(selenium['do'+upperCase]!=null){try{document.body.setAttribute('SideeXPlayingFlag',true);var returnValue=selenium['do'+upperCase](selenium.preprocessParameter(request.target),selenium.preprocessParameter(request.value));if(returnValue instanceof Promise){// The command is a asynchronous function\nreturnValue.then(function(){// Asynchronous command completed successfully\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:'success'});}).catch(function(reason){// Asynchronous command failed\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:reason});});}else{// Synchronous command completed successfully\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:'success'});}}catch(e){// Synchronous command failed\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:e.message});}}else{sendResponse({result:'Unknown command: '+request.commands});}}//do every command need giving sideex id\nif(contentSideexTabId===-1){contentSideexTabId=request.mySideexTabId;}return true;}if(request.prepareToInteract){sendResponse({result:'success',rect:selenium.prepareToInteract_(request.locator)});}if(request.buildLocators){try{var element=selenium.browserbot.findElement(request.locator);var locators=locatorBuilders.buildAll(element);sendResponse({result:'success',locators:locators});}catch(e){sendResponse({result:e.message});}}if(request.resolveLocator){try{var _element=selenium.browserbot.findElement(request.locator);var locator=locatorBuilders.buildAll(_element).find(function(_ref){var _ref2=_slicedToArray(_ref,2),loc=_ref2[0],strat=_ref2[1];return /^xpath/.test(strat);})[0];//eslint-disable-line no-unused-vars\nsendResponse({result:'success',locator:locator});}catch(e){sendResponse({result:e.message});}}if(request.selectMode){sendResponse(true);if(request.selecting&&request.element){targetSelector=new _targetSelector2.default(function(element,win){if(element&&win){var target=locatorBuilders.buildAll(element);locatorBuilders.detach();if(target!=null&&target instanceof Array){if(target){//self.editor.treeView.updateCurrentCommand('targetCandidates', target);\n_webextensionPolyfill2.default.runtime.sendMessage({selectTarget:true,target:target,selectNext:request.selectNext});}}}targetSelector=null;},function(){_webextensionPolyfill2.default.runtime.sendMessage({cancelSelectTarget:true});});}else if(request.selecting&&request.region){(0,_region.editRegion)(request.rect,function(target){if(target){_webextensionPolyfill2.default.runtime.sendMessage({selectTarget:true,target:[[target]],selectNext:request.selectNext});}else{_webextensionPolyfill2.default.runtime.sendMessage({cancelSelectTarget:true,selectNext:request.selectNext});}});}else{if(targetSelector){targetSelector.cleanup();targetSelector=null;return;}else{(0,_region.removeRegion)();return;}}}}// show element\nfunction startShowElement(message){if(message.showElement){try{var result=selenium['doShowElement'](message.targetValue);return Promise.resolve({result:result});}catch(e){// If we didn't find the element, it means that another frame might have found it,\n// so we don't resolve the promise. If no frame finds it, then the promise will\n// get rejected.\n}}}if(!window._listener){window._listener=doCommands;_webextensionPolyfill2.default.runtime.onMessage.addListener(startShowElement);_webextensionPolyfill2.default.runtime.onMessage.addListener(doCommands);};var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(selenium,'selenium','/opt/selenium-ide/packages/selenium-ide/src/content/commands-api.js');__REACT_HOT_LOADER__.register(locatorBuilders,'locatorBuilders','/opt/selenium-ide/packages/selenium-ide/src/content/commands-api.js');__REACT_HOT_LOADER__.register(contentSideexTabId,'contentSideexTabId','/opt/selenium-ide/packages/selenium-ide/src/content/commands-api.js');__REACT_HOT_LOADER__.register(targetSelector,'targetSelector','/opt/selenium-ide/packages/selenium-ide/src/content/commands-api.js');__REACT_HOT_LOADER__.register(doCommands,'doCommands','/opt/selenium-ide/packages/selenium-ide/src/content/commands-api.js');__REACT_HOT_LOADER__.register(startShowElement,'startShowElement','/opt/selenium-ide/packages/selenium-ide/src/content/commands-api.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9jb21tYW5kcy1hcGkuanM/MDkxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLnNlbGVuaXVtPXVuZGVmaW5lZDt2YXIgX3NsaWNlZFRvQXJyYXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFycixpKXt2YXIgX2Fycj1bXTt2YXIgX249dHJ1ZTt2YXIgX2Q9ZmFsc2U7dmFyIF9lPXVuZGVmaW5lZDt0cnl7Zm9yKHZhciBfaT1hcnJbU3ltYm9sLml0ZXJhdG9yXSgpLF9zOyEoX249KF9zPV9pLm5leHQoKSkuZG9uZSk7X249dHJ1ZSl7X2Fyci5wdXNoKF9zLnZhbHVlKTtpZihpJiZfYXJyLmxlbmd0aD09PWkpYnJlYWs7fX1jYXRjaChlcnIpe19kPXRydWU7X2U9ZXJyO31maW5hbGx5e3RyeXtpZighX24mJl9pW1wicmV0dXJuXCJdKV9pW1wicmV0dXJuXCJdKCk7fWZpbmFsbHl7aWYoX2QpdGhyb3cgX2U7fX1yZXR1cm4gX2Fycjt9cmV0dXJuIGZ1bmN0aW9uKGFycixpKXtpZihBcnJheS5pc0FycmF5KGFycikpe3JldHVybiBhcnI7fWVsc2UgaWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKXtyZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsaSk7fWVsc2V7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7fX07fSgpOy8qXG4gKiBDb3B5cmlnaHQgMjAxNyBTaWRlZVggY29tbWl0dGVyc1xuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi92YXIgX3dlYmV4dGVuc2lvblBvbHlmaWxsPXJlcXVpcmUoJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCcpO3ZhciBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYmV4dGVuc2lvblBvbHlmaWxsKTtyZXF1aXJlKCcuL2Nsb3N1cmUtcG9seWZpbGwnKTt2YXIgX3RhcmdldFNlbGVjdG9yPXJlcXVpcmUoJy4vdGFyZ2V0U2VsZWN0b3InKTt2YXIgX3RhcmdldFNlbGVjdG9yMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90YXJnZXRTZWxlY3Rvcik7dmFyIF9zZWxlbml1bUFwaT1yZXF1aXJlKCcuL3NlbGVuaXVtLWFwaScpO3ZhciBfc2VsZW5pdW1BcGkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVuaXVtQXBpKTt2YXIgX3NlbGVuaXVtQnJvd3NlcmJvdD1yZXF1aXJlKCcuL3NlbGVuaXVtLWJyb3dzZXJib3QnKTt2YXIgX3NlbGVuaXVtQnJvd3NlcmJvdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZW5pdW1Ccm93c2VyYm90KTt2YXIgX2xvY2F0b3JCdWlsZGVycz1yZXF1aXJlKCcuL2xvY2F0b3JCdWlsZGVycycpO3ZhciBfbG9jYXRvckJ1aWxkZXJzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2NhdG9yQnVpbGRlcnMpO3ZhciBfcmVnaW9uPXJlcXVpcmUoJy4vcmVnaW9uJyk7dmFyIF9wcm9tcHRJbmplY3Rvcj1yZXF1aXJlKCcuL3Byb21wdC1pbmplY3RvcicpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfTt9dmFyIHNlbGVuaXVtPWV4cG9ydHMuc2VsZW5pdW09bmV3IF9zZWxlbml1bUFwaTIuZGVmYXVsdChfc2VsZW5pdW1Ccm93c2VyYm90Mi5kZWZhdWx0LmNyZWF0ZUZvcldpbmRvdyh3aW5kb3csdHJ1ZSkpO3ZhciBsb2NhdG9yQnVpbGRlcnM9bmV3IF9sb2NhdG9yQnVpbGRlcnMyLmRlZmF1bHQod2luZG93KTt2YXIgY29udGVudFNpZGVleFRhYklkPXdpbmRvdy5jb250ZW50U2lkZWV4VGFiSWQ7dmFyIHRhcmdldFNlbGVjdG9yPXZvaWQgMDsoMCxfcHJvbXB0SW5qZWN0b3IuYXR0YWNoKShzZWxlbml1bSk7ZnVuY3Rpb24gZG9Db21tYW5kcyhyZXF1ZXN0LF9zZW5kZXIsc2VuZFJlc3BvbnNlKXtpZihyZXF1ZXN0LmNvbW1hbmRzKXtpZihyZXF1ZXN0LmNvbW1hbmRzPT0nd2FpdFByZXBhcmF0aW9uJyl7c2VsZW5pdW1bJ2RvV2FpdFByZXBhcmF0aW9uJ10oJycsc2VsZW5pdW0ucHJlcHJvY2Vzc1BhcmFtZXRlcignJykpO3NlbmRSZXNwb25zZSh7fSk7fWVsc2UgaWYocmVxdWVzdC5jb21tYW5kcz09J3ByZVBhZ2VXYWl0Jyl7c2VsZW5pdW1bJ2RvUHJlUGFnZVdhaXQnXSgnJyxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKCcnKSk7c2VuZFJlc3BvbnNlKHtuZXdfcGFnZTp3aW5kb3cuc2lkZWV4X25ld19wYWdlfSk7fWVsc2UgaWYocmVxdWVzdC5jb21tYW5kcz09J3BhZ2VXYWl0Jyl7c2VsZW5pdW1bJ2RvUGFnZVdhaXQnXSgnJyxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKCcnKSk7c2VuZFJlc3BvbnNlKHtwYWdlX2RvbmU6d2luZG93LnNpZGVleF9wYWdlX2RvbmV9KTt9ZWxzZSBpZihyZXF1ZXN0LmNvbW1hbmRzPT0nYWpheFdhaXQnKXtzZWxlbml1bVsnZG9BamF4V2FpdCddKCcnLHNlbGVuaXVtLnByZXByb2Nlc3NQYXJhbWV0ZXIoJycpKTtzZW5kUmVzcG9uc2Uoe2FqYXhfZG9uZTp3aW5kb3cuc2lkZWV4X2FqYXhfZG9uZX0pO31lbHNlIGlmKHJlcXVlc3QuY29tbWFuZHM9PSdkb21XYWl0Jyl7c2VsZW5pdW1bJ2RvRG9tV2FpdCddKCcnLHNlbGVuaXVtLnByZXByb2Nlc3NQYXJhbWV0ZXIoJycpKTtzZW5kUmVzcG9uc2Uoe2RvbV90aW1lOndpbmRvdy5zaWRlZXhfbmV3X3BhZ2V9KTt9ZWxzZSBpZihyZXF1ZXN0LmNvbW1hbmRzPT09J2V2YWx1YXRlQ29uZGl0aW9uYWwnKXt0cnl7dmFyIHZhbHVlPXNlbGVuaXVtWydkb0V2YWx1YXRlQ29uZGl0aW9uYWwnXShyZXF1ZXN0LnRhcmdldCk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLHZhbHVlOnZhbHVlfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319ZWxzZXt2YXIgdXBwZXJDYXNlPXJlcXVlc3QuY29tbWFuZHMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrcmVxdWVzdC5jb21tYW5kcy5zbGljZSgxKTtpZihzZWxlbml1bVsnZG8nK3VwcGVyQ2FzZV0hPW51bGwpe3RyeXtkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnU2lkZWVYUGxheWluZ0ZsYWcnLHRydWUpO3ZhciByZXR1cm5WYWx1ZT1zZWxlbml1bVsnZG8nK3VwcGVyQ2FzZV0oc2VsZW5pdW0ucHJlcHJvY2Vzc1BhcmFtZXRlcihyZXF1ZXN0LnRhcmdldCksc2VsZW5pdW0ucHJlcHJvY2Vzc1BhcmFtZXRlcihyZXF1ZXN0LnZhbHVlKSk7aWYocmV0dXJuVmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKXsvLyBUaGUgY29tbWFuZCBpcyBhIGFzeW5jaHJvbm91cyBmdW5jdGlvblxucmV0dXJuVmFsdWUudGhlbihmdW5jdGlvbigpey8vIEFzeW5jaHJvbm91cyBjb21tYW5kIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcbmRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycpO3NlbmRSZXNwb25zZSh7cmVzdWx0OidzdWNjZXNzJ30pO30pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7Ly8gQXN5bmNocm9ub3VzIGNvbW1hbmQgZmFpbGVkXG5kb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnU2lkZWVYUGxheWluZ0ZsYWcnKTtzZW5kUmVzcG9uc2Uoe3Jlc3VsdDpyZWFzb259KTt9KTt9ZWxzZXsvLyBTeW5jaHJvbm91cyBjb21tYW5kIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcbmRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycpO3NlbmRSZXNwb25zZSh7cmVzdWx0OidzdWNjZXNzJ30pO319Y2F0Y2goZSl7Ly8gU3luY2hyb25vdXMgY29tbWFuZCBmYWlsZWRcbmRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycpO3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319ZWxzZXtzZW5kUmVzcG9uc2Uoe3Jlc3VsdDonVW5rbm93biBjb21tYW5kOiAnK3JlcXVlc3QuY29tbWFuZHN9KTt9fS8vZG8gZXZlcnkgY29tbWFuZCBuZWVkIGdpdmluZyBzaWRlZXggaWRcbmlmKGNvbnRlbnRTaWRlZXhUYWJJZD09PS0xKXtjb250ZW50U2lkZWV4VGFiSWQ9cmVxdWVzdC5teVNpZGVleFRhYklkO31yZXR1cm4gdHJ1ZTt9aWYocmVxdWVzdC5wcmVwYXJlVG9JbnRlcmFjdCl7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLHJlY3Q6c2VsZW5pdW0ucHJlcGFyZVRvSW50ZXJhY3RfKHJlcXVlc3QubG9jYXRvcil9KTt9aWYocmVxdWVzdC5idWlsZExvY2F0b3JzKXt0cnl7dmFyIGVsZW1lbnQ9c2VsZW5pdW0uYnJvd3NlcmJvdC5maW5kRWxlbWVudChyZXF1ZXN0LmxvY2F0b3IpO3ZhciBsb2NhdG9ycz1sb2NhdG9yQnVpbGRlcnMuYnVpbGRBbGwoZWxlbWVudCk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLGxvY2F0b3JzOmxvY2F0b3JzfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319aWYocmVxdWVzdC5yZXNvbHZlTG9jYXRvcil7dHJ5e3ZhciBfZWxlbWVudD1zZWxlbml1bS5icm93c2VyYm90LmZpbmRFbGVtZW50KHJlcXVlc3QubG9jYXRvcik7dmFyIGxvY2F0b3I9bG9jYXRvckJ1aWxkZXJzLmJ1aWxkQWxsKF9lbGVtZW50KS5maW5kKGZ1bmN0aW9uKF9yZWYpe3ZhciBfcmVmMj1fc2xpY2VkVG9BcnJheShfcmVmLDIpLGxvYz1fcmVmMlswXSxzdHJhdD1fcmVmMlsxXTtyZXR1cm4gL154cGF0aC8udGVzdChzdHJhdCk7fSlbMF07Ly9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5zZW5kUmVzcG9uc2Uoe3Jlc3VsdDonc3VjY2VzcycsbG9jYXRvcjpsb2NhdG9yfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319aWYocmVxdWVzdC5zZWxlY3RNb2RlKXtzZW5kUmVzcG9uc2UodHJ1ZSk7aWYocmVxdWVzdC5zZWxlY3RpbmcmJnJlcXVlc3QuZWxlbWVudCl7dGFyZ2V0U2VsZWN0b3I9bmV3IF90YXJnZXRTZWxlY3RvcjIuZGVmYXVsdChmdW5jdGlvbihlbGVtZW50LHdpbil7aWYoZWxlbWVudCYmd2luKXt2YXIgdGFyZ2V0PWxvY2F0b3JCdWlsZGVycy5idWlsZEFsbChlbGVtZW50KTtsb2NhdG9yQnVpbGRlcnMuZGV0YWNoKCk7aWYodGFyZ2V0IT1udWxsJiZ0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSl7aWYodGFyZ2V0KXsvL3NlbGYuZWRpdG9yLnRyZWVWaWV3LnVwZGF0ZUN1cnJlbnRDb21tYW5kKCd0YXJnZXRDYW5kaWRhdGVzJywgdGFyZ2V0KTtcbl93ZWJleHRlbnNpb25Qb2x5ZmlsbDIuZGVmYXVsdC5ydW50aW1lLnNlbmRNZXNzYWdlKHtzZWxlY3RUYXJnZXQ6dHJ1ZSx0YXJnZXQ6dGFyZ2V0LHNlbGVjdE5leHQ6cmVxdWVzdC5zZWxlY3ROZXh0fSk7fX19dGFyZ2V0U2VsZWN0b3I9bnVsbDt9LGZ1bmN0aW9uKCl7X3dlYmV4dGVuc2lvblBvbHlmaWxsMi5kZWZhdWx0LnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2NhbmNlbFNlbGVjdFRhcmdldDp0cnVlfSk7fSk7fWVsc2UgaWYocmVxdWVzdC5zZWxlY3RpbmcmJnJlcXVlc3QucmVnaW9uKXsoMCxfcmVnaW9uLmVkaXRSZWdpb24pKHJlcXVlc3QucmVjdCxmdW5jdGlvbih0YXJnZXQpe2lmKHRhcmdldCl7X3dlYmV4dGVuc2lvblBvbHlmaWxsMi5kZWZhdWx0LnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3NlbGVjdFRhcmdldDp0cnVlLHRhcmdldDpbW3RhcmdldF1dLHNlbGVjdE5leHQ6cmVxdWVzdC5zZWxlY3ROZXh0fSk7fWVsc2V7X3dlYmV4dGVuc2lvblBvbHlmaWxsMi5kZWZhdWx0LnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2NhbmNlbFNlbGVjdFRhcmdldDp0cnVlLHNlbGVjdE5leHQ6cmVxdWVzdC5zZWxlY3ROZXh0fSk7fX0pO31lbHNle2lmKHRhcmdldFNlbGVjdG9yKXt0YXJnZXRTZWxlY3Rvci5jbGVhbnVwKCk7dGFyZ2V0U2VsZWN0b3I9bnVsbDtyZXR1cm47fWVsc2V7KDAsX3JlZ2lvbi5yZW1vdmVSZWdpb24pKCk7cmV0dXJuO319fX0vLyBzaG93IGVsZW1lbnRcbmZ1bmN0aW9uIHN0YXJ0U2hvd0VsZW1lbnQobWVzc2FnZSl7aWYobWVzc2FnZS5zaG93RWxlbWVudCl7dHJ5e3ZhciByZXN1bHQ9c2VsZW5pdW1bJ2RvU2hvd0VsZW1lbnQnXShtZXNzYWdlLnRhcmdldFZhbHVlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtyZXN1bHQ6cmVzdWx0fSk7fWNhdGNoKGUpey8vIElmIHdlIGRpZG4ndCBmaW5kIHRoZSBlbGVtZW50LCBpdCBtZWFucyB0aGF0IGFub3RoZXIgZnJhbWUgbWlnaHQgaGF2ZSBmb3VuZCBpdCxcbi8vIHNvIHdlIGRvbid0IHJlc29sdmUgdGhlIHByb21pc2UuIElmIG5vIGZyYW1lIGZpbmRzIGl0LCB0aGVuIHRoZSBwcm9taXNlIHdpbGxcbi8vIGdldCByZWplY3RlZC5cbn19fWlmKCF3aW5kb3cuX2xpc3RlbmVyKXt3aW5kb3cuX2xpc3RlbmVyPWRvQ29tbWFuZHM7X3dlYmV4dGVuc2lvblBvbHlmaWxsMi5kZWZhdWx0LnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKHN0YXJ0U2hvd0VsZW1lbnQpO193ZWJleHRlbnNpb25Qb2x5ZmlsbDIuZGVmYXVsdC5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihkb0NvbW1hbmRzKTt9O3ZhciBfdGVtcD1mdW5jdGlvbigpe2lmKHR5cGVvZiBfX1JFQUNUX0hPVF9MT0FERVJfXz09PSd1bmRlZmluZWQnKXtyZXR1cm47fV9fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKHNlbGVuaXVtLCdzZWxlbml1bScsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9jb21tYW5kcy1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcihsb2NhdG9yQnVpbGRlcnMsJ2xvY2F0b3JCdWlsZGVycycsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9jb21tYW5kcy1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcihjb250ZW50U2lkZWV4VGFiSWQsJ2NvbnRlbnRTaWRlZXhUYWJJZCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9jb21tYW5kcy1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcih0YXJnZXRTZWxlY3RvciwndGFyZ2V0U2VsZWN0b3InLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvY29tbWFuZHMtYXBpLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoZG9Db21tYW5kcywnZG9Db21tYW5kcycsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9jb21tYW5kcy1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihzdGFydFNob3dFbGVtZW50LCdzdGFydFNob3dFbGVtZW50JywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L2NvbW1hbmRzLWFwaS5qcycpO30oKTs7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L2NvbW1hbmRzLWFwaS5qc1xuLy8gbW9kdWxlIGlkID0gMTQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///141\n");

/***/ }),

/***/ 152:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__ = __webpack_require__(153);\n\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\n\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n\n  var canSmoothScroll = 'scrollBehavior' in document.body.style;\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\n\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n\n  if (isOptionsObject(options)) {\n    return options;\n  }\n\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\n\nfunction scrollIntoView(target, options) {\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(Object(__WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__[\"a\" /* default */])(target, options));\n  }\n\n  var computeOptions = getOptions(options);\n  return defaultBehavior(Object(__WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__[\"a\" /* default */])(target, computeOptions), computeOptions.behavior);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (scrollIntoView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZC9lcy9pbmRleC5qcz9hODc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21wdXRlIGZyb20gJ2NvbXB1dGUtc2Nyb2xsLWludG8tdmlldyc7XG5cbmZ1bmN0aW9uIGlzT3B0aW9uc09iamVjdChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zID09PSBPYmplY3Qob3B0aW9ucykgJiYgT2JqZWN0LmtleXMob3B0aW9ucykubGVuZ3RoICE9PSAwO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmVoYXZpb3IoYWN0aW9ucywgYmVoYXZpb3IpIHtcbiAgaWYgKGJlaGF2aW9yID09PSB2b2lkIDApIHtcbiAgICBiZWhhdmlvciA9ICdhdXRvJztcbiAgfVxuXG4gIHZhciBjYW5TbW9vdGhTY3JvbGwgPSAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbCA9IF9yZWYuZWwsXG4gICAgICAgIHRvcCA9IF9yZWYudG9wLFxuICAgICAgICBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgaWYgKGVsLnNjcm9sbCAmJiBjYW5TbW9vdGhTY3JvbGwpIHtcbiAgICAgIGVsLnNjcm9sbCh7XG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICBiZWhhdmlvcjogYmVoYXZpb3JcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICBlbC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrOiAnZW5kJyxcbiAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykpIHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmxvY2s6ICdzdGFydCcsXG4gICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcodGFyZ2V0LCBvcHRpb25zKSB7XG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykgJiYgdHlwZW9mIG9wdGlvbnMuYmVoYXZpb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5iZWhhdmlvcihjb21wdXRlKHRhcmdldCwgb3B0aW9ucykpO1xuICB9XG5cbiAgdmFyIGNvbXB1dGVPcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgcmV0dXJuIGRlZmF1bHRCZWhhdmlvcihjb21wdXRlKHRhcmdldCwgY29tcHV0ZU9wdGlvbnMpLCBjb21wdXRlT3B0aW9ucy5iZWhhdmlvcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEludG9WaWV3O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9zY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZC9lcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///152\n");

/***/ }),

/***/ 153:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function isElement(el) {\n  return el != null && typeof el === 'object' && (el.nodeType === 1 || el.nodeType === 11);\n}\n\nfunction canOverflow(overflow, skipOverflowHiddenElements) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false;\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip';\n}\n\nfunction isScrollable(el, skipOverflowHiddenElements) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    var style = getComputedStyle(el, null);\n    return canOverflow(style.overflowY, skipOverflowHiddenElements) || canOverflow(style.overflowX, skipOverflowHiddenElements);\n  }\n\n  return false;\n}\n\nfunction alignNearest(scrollingEdgeStart, scrollingEdgeEnd, scrollingSize, scrollingBorderStart, scrollingBorderEnd, elementEdgeStart, elementEdgeEnd, elementSize) {\n  if (elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd || elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd) {\n    return 0;\n  }\n\n  if (elementEdgeStart < scrollingEdgeStart && elementSize < scrollingSize || elementEdgeEnd > scrollingEdgeEnd && elementSize > scrollingSize) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n  }\n\n  if (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize || elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n  }\n\n  return 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target, options) {\n  var scrollMode = options.scrollMode,\n      block = options.block,\n      inline = options.inline,\n      boundary = options.boundary,\n      skipOverflowHiddenElements = options.skipOverflowHiddenElements;\n  var checkBoundary = typeof boundary === 'function' ? boundary : function (node) {\n    return node !== boundary;\n  };\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target');\n  }\n\n  var scrollingElement = document.scrollingElement || document.documentElement;\n  var frames = [];\n  var cursor = target;\n\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    cursor = cursor.parentNode || cursor.host;\n\n    if (cursor === scrollingElement) {\n      frames.push(cursor);\n      break;\n    }\n\n    if (cursor === document.body && isScrollable(cursor) && !isScrollable(document.documentElement)) {\n      continue;\n    }\n\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor);\n    }\n  }\n\n  var viewportWidth = window.visualViewport ? visualViewport.width : innerWidth;\n  var viewportHeight = window.visualViewport ? visualViewport.height : innerHeight;\n  var viewportX = window.scrollX || pageXOffset;\n  var viewportY = window.scrollY || pageYOffset;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      targetHeight = _target$getBoundingCl.height,\n      targetWidth = _target$getBoundingCl.width,\n      targetTop = _target$getBoundingCl.top,\n      targetRight = _target$getBoundingCl.right,\n      targetBottom = _target$getBoundingCl.bottom,\n      targetLeft = _target$getBoundingCl.left;\n\n  var targetBlock = block === 'start' || block === 'nearest' ? targetTop : block === 'end' ? targetBottom : targetTop + targetHeight / 2;\n  var targetInline = inline === 'center' ? targetLeft + targetWidth / 2 : inline === 'end' ? targetRight : targetLeft;\n  var computations = [];\n\n  for (var index = 0; index < frames.length; index++) {\n    var frame = frames[index];\n\n    var _frame$getBoundingCli = frame.getBoundingClientRect(),\n        _height = _frame$getBoundingCli.height,\n        _width = _frame$getBoundingCli.width,\n        _top = _frame$getBoundingCli.top,\n        right = _frame$getBoundingCli.right,\n        bottom = _frame$getBoundingCli.bottom,\n        _left = _frame$getBoundingCli.left;\n\n    if (scrollMode === 'if-needed' && targetTop >= 0 && targetLeft >= 0 && targetBottom <= viewportHeight && targetRight <= viewportWidth && targetTop >= _top && targetBottom <= bottom && targetLeft >= _left && targetRight <= right) {\n      return computations;\n    }\n\n    var frameStyle = getComputedStyle(frame);\n    var borderLeft = parseInt(frameStyle.borderLeftWidth, 10);\n    var borderTop = parseInt(frameStyle.borderTopWidth, 10);\n    var borderRight = parseInt(frameStyle.borderRightWidth, 10);\n    var borderBottom = parseInt(frameStyle.borderBottomWidth, 10);\n    var blockScroll = 0;\n    var inlineScroll = 0;\n    var scrollbarWidth = 'offsetWidth' in frame ? frame.offsetWidth - frame.clientWidth - borderLeft - borderRight : 0;\n    var scrollbarHeight = 'offsetHeight' in frame ? frame.offsetHeight - frame.clientHeight - borderTop - borderBottom : 0;\n\n    if (scrollingElement === frame) {\n      if (block === 'start') {\n        blockScroll = targetBlock;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(viewportY, viewportY + viewportHeight, viewportHeight, borderTop, borderBottom, viewportY + targetBlock, viewportY + targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - viewportHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth;\n      } else {\n        inlineScroll = alignNearest(viewportX, viewportX + viewportWidth, viewportWidth, borderLeft, borderRight, viewportX + targetInline, viewportX + targetInline + targetWidth, targetWidth);\n      }\n\n      blockScroll = Math.max(0, blockScroll + viewportY);\n      inlineScroll = Math.max(0, inlineScroll + viewportX);\n    } else {\n      if (block === 'start') {\n        blockScroll = targetBlock - _top - borderTop;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(_top, bottom, _height, borderTop, borderBottom + scrollbarHeight, targetBlock, targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - (_top + _height / 2) + scrollbarHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - _left - borderLeft;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (_left + _width / 2) + scrollbarWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth;\n      } else {\n        inlineScroll = alignNearest(_left, right, _width, borderLeft, borderRight + scrollbarWidth, targetInline, targetInline + targetWidth, targetWidth);\n      }\n\n      var scrollLeft = frame.scrollLeft,\n          scrollTop = frame.scrollTop;\n      blockScroll = Math.max(0, Math.min(scrollTop + blockScroll, frame.scrollHeight - _height + scrollbarHeight));\n      inlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, frame.scrollWidth - _width + scrollbarWidth));\n      targetBlock += scrollTop - blockScroll;\n      targetInline += scrollLeft - inlineScroll;\n    }\n\n    computations.push({\n      el: frame,\n      top: blockScroll,\n      left: inlineScroll\n    });\n  }\n\n  return computations;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZXMvaW5kZXguanM/MTRmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpc0VsZW1lbnQoZWwpIHtcbiAgcmV0dXJuIGVsICE9IG51bGwgJiYgdHlwZW9mIGVsID09PSAnb2JqZWN0JyAmJiAoZWwubm9kZVR5cGUgPT09IDEgfHwgZWwubm9kZVR5cGUgPT09IDExKTtcbn1cblxuZnVuY3Rpb24gY2FuT3ZlcmZsb3cob3ZlcmZsb3csIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSB7XG4gIGlmIChza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cyAmJiBvdmVyZmxvdyA9PT0gJ2hpZGRlbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gb3ZlcmZsb3cgIT09ICd2aXNpYmxlJyAmJiBvdmVyZmxvdyAhPT0gJ2NsaXAnO1xufVxuXG5mdW5jdGlvbiBpc1Njcm9sbGFibGUoZWwsIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSB7XG4gIGlmIChlbC5jbGllbnRIZWlnaHQgPCBlbC5zY3JvbGxIZWlnaHQgfHwgZWwuY2xpZW50V2lkdGggPCBlbC5zY3JvbGxXaWR0aCkge1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICAgIHJldHVybiBjYW5PdmVyZmxvdyhzdHlsZS5vdmVyZmxvd1ksIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSB8fCBjYW5PdmVyZmxvdyhzdHlsZS5vdmVyZmxvd1gsIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWxpZ25OZWFyZXN0KHNjcm9sbGluZ0VkZ2VTdGFydCwgc2Nyb2xsaW5nRWRnZUVuZCwgc2Nyb2xsaW5nU2l6ZSwgc2Nyb2xsaW5nQm9yZGVyU3RhcnQsIHNjcm9sbGluZ0JvcmRlckVuZCwgZWxlbWVudEVkZ2VTdGFydCwgZWxlbWVudEVkZ2VFbmQsIGVsZW1lbnRTaXplKSB7XG4gIGlmIChlbGVtZW50RWRnZVN0YXJ0IDwgc2Nyb2xsaW5nRWRnZVN0YXJ0ICYmIGVsZW1lbnRFZGdlRW5kID4gc2Nyb2xsaW5nRWRnZUVuZCB8fCBlbGVtZW50RWRnZVN0YXJ0ID4gc2Nyb2xsaW5nRWRnZVN0YXJ0ICYmIGVsZW1lbnRFZGdlRW5kIDwgc2Nyb2xsaW5nRWRnZUVuZCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGVsZW1lbnRFZGdlU3RhcnQgPCBzY3JvbGxpbmdFZGdlU3RhcnQgJiYgZWxlbWVudFNpemUgPCBzY3JvbGxpbmdTaXplIHx8IGVsZW1lbnRFZGdlRW5kID4gc2Nyb2xsaW5nRWRnZUVuZCAmJiBlbGVtZW50U2l6ZSA+IHNjcm9sbGluZ1NpemUpIHtcbiAgICByZXR1cm4gZWxlbWVudEVkZ2VTdGFydCAtIHNjcm9sbGluZ0VkZ2VTdGFydCAtIHNjcm9sbGluZ0JvcmRlclN0YXJ0O1xuICB9XG5cbiAgaWYgKGVsZW1lbnRFZGdlRW5kID4gc2Nyb2xsaW5nRWRnZUVuZCAmJiBlbGVtZW50U2l6ZSA8IHNjcm9sbGluZ1NpemUgfHwgZWxlbWVudEVkZ2VTdGFydCA8IHNjcm9sbGluZ0VkZ2VTdGFydCAmJiBlbGVtZW50U2l6ZSA+IHNjcm9sbGluZ1NpemUpIHtcbiAgICByZXR1cm4gZWxlbWVudEVkZ2VFbmQgLSBzY3JvbGxpbmdFZGdlRW5kICsgc2Nyb2xsaW5nQm9yZGVyRW5kO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gIHZhciBzY3JvbGxNb2RlID0gb3B0aW9ucy5zY3JvbGxNb2RlLFxuICAgICAgYmxvY2sgPSBvcHRpb25zLmJsb2NrLFxuICAgICAgaW5saW5lID0gb3B0aW9ucy5pbmxpbmUsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cyA9IG9wdGlvbnMuc2tpcE92ZXJmbG93SGlkZGVuRWxlbWVudHM7XG4gIHZhciBjaGVja0JvdW5kYXJ5ID0gdHlwZW9mIGJvdW5kYXJ5ID09PSAnZnVuY3Rpb24nID8gYm91bmRhcnkgOiBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlICE9PSBib3VuZGFyeTtcbiAgfTtcblxuICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0YXJnZXQnKTtcbiAgfVxuXG4gIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciBmcmFtZXMgPSBbXTtcbiAgdmFyIGN1cnNvciA9IHRhcmdldDtcblxuICB3aGlsZSAoaXNFbGVtZW50KGN1cnNvcikgJiYgY2hlY2tCb3VuZGFyeShjdXJzb3IpKSB7XG4gICAgY3Vyc29yID0gY3Vyc29yLnBhcmVudE5vZGUgfHwgY3Vyc29yLmhvc3Q7XG5cbiAgICBpZiAoY3Vyc29yID09PSBzY3JvbGxpbmdFbGVtZW50KSB7XG4gICAgICBmcmFtZXMucHVzaChjdXJzb3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGN1cnNvciA9PT0gZG9jdW1lbnQuYm9keSAmJiBpc1Njcm9sbGFibGUoY3Vyc29yKSAmJiAhaXNTY3JvbGxhYmxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc1Njcm9sbGFibGUoY3Vyc29yLCBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cykpIHtcbiAgICAgIGZyYW1lcy5wdXNoKGN1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgdmFyIHZpZXdwb3J0V2lkdGggPSB3aW5kb3cudmlzdWFsVmlld3BvcnQgPyB2aXN1YWxWaWV3cG9ydC53aWR0aCA6IGlubmVyV2lkdGg7XG4gIHZhciB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCA/IHZpc3VhbFZpZXdwb3J0LmhlaWdodCA6IGlubmVySGVpZ2h0O1xuICB2YXIgdmlld3BvcnRYID0gd2luZG93LnNjcm9sbFggfHwgcGFnZVhPZmZzZXQ7XG4gIHZhciB2aWV3cG9ydFkgPSB3aW5kb3cuc2Nyb2xsWSB8fCBwYWdlWU9mZnNldDtcblxuICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgdGFyZ2V0SGVpZ2h0ID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLmhlaWdodCxcbiAgICAgIHRhcmdldFdpZHRoID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLndpZHRoLFxuICAgICAgdGFyZ2V0VG9wID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLnRvcCxcbiAgICAgIHRhcmdldFJpZ2h0ID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLnJpZ2h0LFxuICAgICAgdGFyZ2V0Qm90dG9tID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLmJvdHRvbSxcbiAgICAgIHRhcmdldExlZnQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wubGVmdDtcblxuICB2YXIgdGFyZ2V0QmxvY2sgPSBibG9jayA9PT0gJ3N0YXJ0JyB8fCBibG9jayA9PT0gJ25lYXJlc3QnID8gdGFyZ2V0VG9wIDogYmxvY2sgPT09ICdlbmQnID8gdGFyZ2V0Qm90dG9tIDogdGFyZ2V0VG9wICsgdGFyZ2V0SGVpZ2h0IC8gMjtcbiAgdmFyIHRhcmdldElubGluZSA9IGlubGluZSA9PT0gJ2NlbnRlcicgPyB0YXJnZXRMZWZ0ICsgdGFyZ2V0V2lkdGggLyAyIDogaW5saW5lID09PSAnZW5kJyA/IHRhcmdldFJpZ2h0IDogdGFyZ2V0TGVmdDtcbiAgdmFyIGNvbXB1dGF0aW9ucyA9IFtdO1xuXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBmcmFtZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGZyYW1lID0gZnJhbWVzW2luZGV4XTtcblxuICAgIHZhciBfZnJhbWUkZ2V0Qm91bmRpbmdDbGkgPSBmcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgX2hlaWdodCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS5oZWlnaHQsXG4gICAgICAgIF93aWR0aCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS53aWR0aCxcbiAgICAgICAgX3RvcCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS50b3AsXG4gICAgICAgIHJpZ2h0ID0gX2ZyYW1lJGdldEJvdW5kaW5nQ2xpLnJpZ2h0LFxuICAgICAgICBib3R0b20gPSBfZnJhbWUkZ2V0Qm91bmRpbmdDbGkuYm90dG9tLFxuICAgICAgICBfbGVmdCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS5sZWZ0O1xuXG4gICAgaWYgKHNjcm9sbE1vZGUgPT09ICdpZi1uZWVkZWQnICYmIHRhcmdldFRvcCA+PSAwICYmIHRhcmdldExlZnQgPj0gMCAmJiB0YXJnZXRCb3R0b20gPD0gdmlld3BvcnRIZWlnaHQgJiYgdGFyZ2V0UmlnaHQgPD0gdmlld3BvcnRXaWR0aCAmJiB0YXJnZXRUb3AgPj0gX3RvcCAmJiB0YXJnZXRCb3R0b20gPD0gYm90dG9tICYmIHRhcmdldExlZnQgPj0gX2xlZnQgJiYgdGFyZ2V0UmlnaHQgPD0gcmlnaHQpIHtcbiAgICAgIHJldHVybiBjb21wdXRhdGlvbnM7XG4gICAgfVxuXG4gICAgdmFyIGZyYW1lU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGZyYW1lKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHBhcnNlSW50KGZyYW1lU3R5bGUuYm9yZGVyTGVmdFdpZHRoLCAxMCk7XG4gICAgdmFyIGJvcmRlclRvcCA9IHBhcnNlSW50KGZyYW1lU3R5bGUuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICB2YXIgYm9yZGVyUmlnaHQgPSBwYXJzZUludChmcmFtZVN0eWxlLmJvcmRlclJpZ2h0V2lkdGgsIDEwKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gcGFyc2VJbnQoZnJhbWVTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCwgMTApO1xuICAgIHZhciBibG9ja1Njcm9sbCA9IDA7XG4gICAgdmFyIGlubGluZVNjcm9sbCA9IDA7XG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gJ29mZnNldFdpZHRoJyBpbiBmcmFtZSA/IGZyYW1lLm9mZnNldFdpZHRoIC0gZnJhbWUuY2xpZW50V2lkdGggLSBib3JkZXJMZWZ0IC0gYm9yZGVyUmlnaHQgOiAwO1xuICAgIHZhciBzY3JvbGxiYXJIZWlnaHQgPSAnb2Zmc2V0SGVpZ2h0JyBpbiBmcmFtZSA/IGZyYW1lLm9mZnNldEhlaWdodCAtIGZyYW1lLmNsaWVudEhlaWdodCAtIGJvcmRlclRvcCAtIGJvcmRlckJvdHRvbSA6IDA7XG5cbiAgICBpZiAoc2Nyb2xsaW5nRWxlbWVudCA9PT0gZnJhbWUpIHtcbiAgICAgIGlmIChibG9jayA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrO1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ2VuZCcpIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ25lYXJlc3QnKSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gYWxpZ25OZWFyZXN0KHZpZXdwb3J0WSwgdmlld3BvcnRZICsgdmlld3BvcnRIZWlnaHQsIHZpZXdwb3J0SGVpZ2h0LCBib3JkZXJUb3AsIGJvcmRlckJvdHRvbSwgdmlld3BvcnRZICsgdGFyZ2V0QmxvY2ssIHZpZXdwb3J0WSArIHRhcmdldEJsb2NrICsgdGFyZ2V0SGVpZ2h0LCB0YXJnZXRIZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIHZpZXdwb3J0SGVpZ2h0IC8gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlubGluZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmU7XG4gICAgICB9IGVsc2UgaWYgKGlubGluZSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgaW5saW5lU2Nyb2xsID0gdGFyZ2V0SW5saW5lIC0gdmlld3BvcnRXaWR0aCAvIDI7XG4gICAgICB9IGVsc2UgaWYgKGlubGluZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgaW5saW5lU2Nyb2xsID0gdGFyZ2V0SW5saW5lIC0gdmlld3BvcnRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IGFsaWduTmVhcmVzdCh2aWV3cG9ydFgsIHZpZXdwb3J0WCArIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0V2lkdGgsIGJvcmRlckxlZnQsIGJvcmRlclJpZ2h0LCB2aWV3cG9ydFggKyB0YXJnZXRJbmxpbmUsIHZpZXdwb3J0WCArIHRhcmdldElubGluZSArIHRhcmdldFdpZHRoLCB0YXJnZXRXaWR0aCk7XG4gICAgICB9XG5cbiAgICAgIGJsb2NrU2Nyb2xsID0gTWF0aC5tYXgoMCwgYmxvY2tTY3JvbGwgKyB2aWV3cG9ydFkpO1xuICAgICAgaW5saW5lU2Nyb2xsID0gTWF0aC5tYXgoMCwgaW5saW5lU2Nyb2xsICsgdmlld3BvcnRYKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJsb2NrID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gdGFyZ2V0QmxvY2sgLSBfdG9wIC0gYm9yZGVyVG9wO1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ2VuZCcpIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIGJvdHRvbSArIGJvcmRlckJvdHRvbSArIHNjcm9sbGJhckhlaWdodDtcbiAgICAgIH0gZWxzZSBpZiAoYmxvY2sgPT09ICduZWFyZXN0Jykge1xuICAgICAgICBibG9ja1Njcm9sbCA9IGFsaWduTmVhcmVzdChfdG9wLCBib3R0b20sIF9oZWlnaHQsIGJvcmRlclRvcCwgYm9yZGVyQm90dG9tICsgc2Nyb2xsYmFySGVpZ2h0LCB0YXJnZXRCbG9jaywgdGFyZ2V0QmxvY2sgKyB0YXJnZXRIZWlnaHQsIHRhcmdldEhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrIC0gKF90b3AgKyBfaGVpZ2h0IC8gMikgKyBzY3JvbGxiYXJIZWlnaHQgLyAyO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5saW5lID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IHRhcmdldElubGluZSAtIF9sZWZ0IC0gYm9yZGVyTGVmdDtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lID09PSAnY2VudGVyJykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmUgLSAoX2xlZnQgKyBfd2lkdGggLyAyKSArIHNjcm9sbGJhcldpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lID09PSAnZW5kJykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmUgLSByaWdodCArIGJvcmRlclJpZ2h0ICsgc2Nyb2xsYmFyV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSBhbGlnbk5lYXJlc3QoX2xlZnQsIHJpZ2h0LCBfd2lkdGgsIGJvcmRlckxlZnQsIGJvcmRlclJpZ2h0ICsgc2Nyb2xsYmFyV2lkdGgsIHRhcmdldElubGluZSwgdGFyZ2V0SW5saW5lICsgdGFyZ2V0V2lkdGgsIHRhcmdldFdpZHRoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNjcm9sbExlZnQgPSBmcmFtZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IGZyYW1lLnNjcm9sbFRvcDtcbiAgICAgIGJsb2NrU2Nyb2xsID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsVG9wICsgYmxvY2tTY3JvbGwsIGZyYW1lLnNjcm9sbEhlaWdodCAtIF9oZWlnaHQgKyBzY3JvbGxiYXJIZWlnaHQpKTtcbiAgICAgIGlubGluZVNjcm9sbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNjcm9sbExlZnQgKyBpbmxpbmVTY3JvbGwsIGZyYW1lLnNjcm9sbFdpZHRoIC0gX3dpZHRoICsgc2Nyb2xsYmFyV2lkdGgpKTtcbiAgICAgIHRhcmdldEJsb2NrICs9IHNjcm9sbFRvcCAtIGJsb2NrU2Nyb2xsO1xuICAgICAgdGFyZ2V0SW5saW5lICs9IHNjcm9sbExlZnQgLSBpbmxpbmVTY3JvbGw7XG4gICAgfVxuXG4gICAgY29tcHV0YXRpb25zLnB1c2goe1xuICAgICAgZWw6IGZyYW1lLFxuICAgICAgdG9wOiBibG9ja1Njcm9sbCxcbiAgICAgIGxlZnQ6IGlubGluZVNjcm9sbFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNvbXB1dGF0aW9ucztcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///153\n");

/***/ }),

/***/ 154:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.unescapeHtml=unescapeHtml;exports.escapeHTML=escapeHTML;/*\n * Copyright 2017 SideeX committers\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */// change HTML entities to sign\nfunction unescapeHtml(str){return str.replace(/&amp;/gi,'&').replace(/&quot;/gi,'\"').replace(/&lt;/gi,'<').replace(/&gt;/gi,'>').replace(/&#39;/gi,\"'\");}function escapeAttr(str){var spaceS=0;var spaceE=-1;var tempStr=str;var tempAttr='';var tempValue='';var processedTag='';var flag=false;var finishedProcessing=false;do{spaceS=str.indexOf(' ');spaceE=str.indexOf(' ',spaceS+1);if(spaceE>=0){while(str.charAt(spaceE-1)!=\"'\"&&str.charAt(spaceE-1)!='\"'){spaceE=str.indexOf(' ',spaceE+1);if(spaceE<0)break;}}//if there is space, then split string\nif(spaceS>=0&&spaceE>=0){tempAttr=str.substring(spaceS+1,spaceE);tempStr=str.substring(0,spaceS+1);str=str.substring(spaceE);}else if(spaceS>=0&&spaceE<0){tempAttr=str.substring(spaceS+1,str.length-1);tempStr=str.substring(0,spaceS+1);str='';}else{//flag is check that has string been processed\nif(flag)processedTag+='>';else processedTag=str;finishedProcessing=true;break;}flag=true;var equal=tempAttr.indexOf('=');if(tempAttr.charAt(equal+1)==\"'\"){//divide the single quote\nif(tempAttr.indexOf(\"'\")!=-1){var quotS=tempAttr.indexOf(\"'\");var quotE=tempAttr.lastIndexOf(\"'\");tempValue=tempAttr.substring(quotS+1,quotE);tempAttr=tempAttr.substring(0,quotS+1);tempValue=replaceChar(tempValue);tempAttr+=tempValue+\"'\";}}if(tempAttr.charAt(equal+1)=='\"'){//divide the double quote\nif(tempAttr.indexOf('\"')!=-1){var dquotS=tempAttr.indexOf('\"');var dquotE=tempAttr.lastIndexOf('\"');tempValue=tempAttr.substring(dquotS+1,dquotE);tempAttr=tempAttr.substring(0,dquotS+1);tempValue=replaceChar(tempValue);tempAttr+=tempValue+'\"';}}//merge the splited string\nprocessedTag+=tempStr+tempAttr;}while(!finishedProcessing);return processedTag;}//escape the character \"<\".\">\".\"&\".\"'\".'\"'\nfunction doEscape(str){return str.replace(/[&\"'<>]/g,function(m){return{'&':'&amp;','\"':'&quot;',\"'\":'&#39;','<':'&lt;','>':'&gt;'}[m];});}//append\nfunction checkType(cutStr,replaceStr,mode){switch(mode){case 1:return cutStr+=replaceStr+'&amp;';case 2:return cutStr+=replaceStr+'&quot;';case 3:return cutStr+=replaceStr+'&#39;';case 4:return cutStr+=replaceStr+'&lt;';case 5:return cutStr+=replaceStr+'&gt;';default:return cutStr;}}//avoid &amp; to escape &amp;amp;\nfunction replaceChar(str){//escape the character\nvar pos=-1;var cutStr='';var replaceStr='';var doFlag=0;var charType=void 0;var ampersandExists=true;while(ampersandExists){pos=str.indexOf('&',pos+1);charType=0;if(pos!=-1){if(str.substring(pos,pos+5)=='&amp;'){charType=1;replaceStr=str.substring(0,pos);str=str.substring(pos+5);}else if(str.substring(pos,pos+6)=='&quot;'){charType=2;replaceStr=str.substring(0,pos);str=str.substring(pos+6);}else if(str.substring(pos,pos+5)=='&#39;'){charType=3;replaceStr=str.substring(0,pos);str=str.substring(pos+5);}else if(str.substring(pos,pos+4)=='&lt;'){charType=4;replaceStr=str.substring(0,pos);str=str.substring(pos+4);}else if(str.substring(pos,pos+4)=='&gt;'){charType=5;replaceStr=str.substring(0,pos);str=str.substring(pos+4);}if(charType!=0){pos=-1;replaceStr=doEscape(replaceStr);cutStr=checkType(cutStr,replaceStr,charType);doFlag=1;}}else{cutStr+=str;ampersandExists=false;}}if(doFlag==0)return doEscape(str);else return cutStr;}//check the HTML value\nfunction escapeHTML(str){var smallIndex=str.indexOf('<');var greatIndex=str.indexOf('>');var tempStr='';var tempTag='';var processed='';var tempSmallIndex=0;var tagsExists=true;while(tagsExists){//find the less target\nif(smallIndex>=0){//find the greater target\nif(greatIndex>=0){do{//split foreward string\nsmallIndex+=tempSmallIndex;tempStr=str.substring(0,smallIndex);//split the tags\ntempTag=str.substring(smallIndex,greatIndex+1);tempSmallIndex=tempTag.lastIndexOf('<');}while(tempSmallIndex!=0);//escape attributes in the tag\ntempTag=escapeAttr(tempTag);str=str.substring(greatIndex+1);//check if the tag is script\n// if(tempTag.toLowerCase().indexOf(\"script\")>=0)\n// tempTag = replaceChar(tempTag);\n//merge them up\nprocessed+=replaceChar(tempStr)+tempTag;}else{replaceChar(str);tagsExists=false;break;}}else{replaceChar(str);tagsExists=false;break;}//going to do next tag\nsmallIndex=str.indexOf('<');greatIndex=0;do{//avoid other >\ngreatIndex=str.indexOf('>',greatIndex+1);}while(greatIndex<smallIndex&&greatIndex!=-1);}if(str!='')processed+=replaceChar(str);return processed;}window.unescapeHtml=unescapeHtml;window.escapeHTML=escapeHTML;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(unescapeHtml,'unescapeHtml','/opt/selenium-ide/packages/selenium-ide/src/content/escape.js');__REACT_HOT_LOADER__.register(escapeAttr,'escapeAttr','/opt/selenium-ide/packages/selenium-ide/src/content/escape.js');__REACT_HOT_LOADER__.register(doEscape,'doEscape','/opt/selenium-ide/packages/selenium-ide/src/content/escape.js');__REACT_HOT_LOADER__.register(checkType,'checkType','/opt/selenium-ide/packages/selenium-ide/src/content/escape.js');__REACT_HOT_LOADER__.register(replaceChar,'replaceChar','/opt/selenium-ide/packages/selenium-ide/src/content/escape.js');__REACT_HOT_LOADER__.register(escapeHTML,'escapeHTML','/opt/selenium-ide/packages/selenium-ide/src/content/escape.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9lc2NhcGUuanM/NzE0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLnVuZXNjYXBlSHRtbD11bmVzY2FwZUh0bWw7ZXhwb3J0cy5lc2NhcGVIVE1MPWVzY2FwZUhUTUw7LypcbiAqIENvcHlyaWdodCAyMDE3IFNpZGVlWCBjb21taXR0ZXJzXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqLy8vIGNoYW5nZSBIVE1MIGVudGl0aWVzIHRvIHNpZ25cbmZ1bmN0aW9uIHVuZXNjYXBlSHRtbChzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvJmFtcDsvZ2ksJyYnKS5yZXBsYWNlKC8mcXVvdDsvZ2ksJ1wiJykucmVwbGFjZSgvJmx0Oy9naSwnPCcpLnJlcGxhY2UoLyZndDsvZ2ksJz4nKS5yZXBsYWNlKC8mIzM5Oy9naSxcIidcIik7fWZ1bmN0aW9uIGVzY2FwZUF0dHIoc3RyKXt2YXIgc3BhY2VTPTA7dmFyIHNwYWNlRT0tMTt2YXIgdGVtcFN0cj1zdHI7dmFyIHRlbXBBdHRyPScnO3ZhciB0ZW1wVmFsdWU9Jyc7dmFyIHByb2Nlc3NlZFRhZz0nJzt2YXIgZmxhZz1mYWxzZTt2YXIgZmluaXNoZWRQcm9jZXNzaW5nPWZhbHNlO2Rve3NwYWNlUz1zdHIuaW5kZXhPZignICcpO3NwYWNlRT1zdHIuaW5kZXhPZignICcsc3BhY2VTKzEpO2lmKHNwYWNlRT49MCl7d2hpbGUoc3RyLmNoYXJBdChzcGFjZUUtMSkhPVwiJ1wiJiZzdHIuY2hhckF0KHNwYWNlRS0xKSE9J1wiJyl7c3BhY2VFPXN0ci5pbmRleE9mKCcgJyxzcGFjZUUrMSk7aWYoc3BhY2VFPDApYnJlYWs7fX0vL2lmIHRoZXJlIGlzIHNwYWNlLCB0aGVuIHNwbGl0IHN0cmluZ1xuaWYoc3BhY2VTPj0wJiZzcGFjZUU+PTApe3RlbXBBdHRyPXN0ci5zdWJzdHJpbmcoc3BhY2VTKzEsc3BhY2VFKTt0ZW1wU3RyPXN0ci5zdWJzdHJpbmcoMCxzcGFjZVMrMSk7c3RyPXN0ci5zdWJzdHJpbmcoc3BhY2VFKTt9ZWxzZSBpZihzcGFjZVM+PTAmJnNwYWNlRTwwKXt0ZW1wQXR0cj1zdHIuc3Vic3RyaW5nKHNwYWNlUysxLHN0ci5sZW5ndGgtMSk7dGVtcFN0cj1zdHIuc3Vic3RyaW5nKDAsc3BhY2VTKzEpO3N0cj0nJzt9ZWxzZXsvL2ZsYWcgaXMgY2hlY2sgdGhhdCBoYXMgc3RyaW5nIGJlZW4gcHJvY2Vzc2VkXG5pZihmbGFnKXByb2Nlc3NlZFRhZys9Jz4nO2Vsc2UgcHJvY2Vzc2VkVGFnPXN0cjtmaW5pc2hlZFByb2Nlc3Npbmc9dHJ1ZTticmVhazt9ZmxhZz10cnVlO3ZhciBlcXVhbD10ZW1wQXR0ci5pbmRleE9mKCc9Jyk7aWYodGVtcEF0dHIuY2hhckF0KGVxdWFsKzEpPT1cIidcIil7Ly9kaXZpZGUgdGhlIHNpbmdsZSBxdW90ZVxuaWYodGVtcEF0dHIuaW5kZXhPZihcIidcIikhPS0xKXt2YXIgcXVvdFM9dGVtcEF0dHIuaW5kZXhPZihcIidcIik7dmFyIHF1b3RFPXRlbXBBdHRyLmxhc3RJbmRleE9mKFwiJ1wiKTt0ZW1wVmFsdWU9dGVtcEF0dHIuc3Vic3RyaW5nKHF1b3RTKzEscXVvdEUpO3RlbXBBdHRyPXRlbXBBdHRyLnN1YnN0cmluZygwLHF1b3RTKzEpO3RlbXBWYWx1ZT1yZXBsYWNlQ2hhcih0ZW1wVmFsdWUpO3RlbXBBdHRyKz10ZW1wVmFsdWUrXCInXCI7fX1pZih0ZW1wQXR0ci5jaGFyQXQoZXF1YWwrMSk9PSdcIicpey8vZGl2aWRlIHRoZSBkb3VibGUgcXVvdGVcbmlmKHRlbXBBdHRyLmluZGV4T2YoJ1wiJykhPS0xKXt2YXIgZHF1b3RTPXRlbXBBdHRyLmluZGV4T2YoJ1wiJyk7dmFyIGRxdW90RT10ZW1wQXR0ci5sYXN0SW5kZXhPZignXCInKTt0ZW1wVmFsdWU9dGVtcEF0dHIuc3Vic3RyaW5nKGRxdW90UysxLGRxdW90RSk7dGVtcEF0dHI9dGVtcEF0dHIuc3Vic3RyaW5nKDAsZHF1b3RTKzEpO3RlbXBWYWx1ZT1yZXBsYWNlQ2hhcih0ZW1wVmFsdWUpO3RlbXBBdHRyKz10ZW1wVmFsdWUrJ1wiJzt9fS8vbWVyZ2UgdGhlIHNwbGl0ZWQgc3RyaW5nXG5wcm9jZXNzZWRUYWcrPXRlbXBTdHIrdGVtcEF0dHI7fXdoaWxlKCFmaW5pc2hlZFByb2Nlc3NpbmcpO3JldHVybiBwcm9jZXNzZWRUYWc7fS8vZXNjYXBlIHRoZSBjaGFyYWN0ZXIgXCI8XCIuXCI+XCIuXCImXCIuXCInXCIuJ1wiJ1xuZnVuY3Rpb24gZG9Fc2NhcGUoc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1smXCInPD5dL2csZnVuY3Rpb24obSl7cmV0dXJueycmJzonJmFtcDsnLCdcIic6JyZxdW90OycsXCInXCI6JyYjMzk7JywnPCc6JyZsdDsnLCc+JzonJmd0Oyd9W21dO30pO30vL2FwcGVuZFxuZnVuY3Rpb24gY2hlY2tUeXBlKGN1dFN0cixyZXBsYWNlU3RyLG1vZGUpe3N3aXRjaChtb2RlKXtjYXNlIDE6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJmFtcDsnO2Nhc2UgMjpyZXR1cm4gY3V0U3RyKz1yZXBsYWNlU3RyKycmcXVvdDsnO2Nhc2UgMzpyZXR1cm4gY3V0U3RyKz1yZXBsYWNlU3RyKycmIzM5Oyc7Y2FzZSA0OnJldHVybiBjdXRTdHIrPXJlcGxhY2VTdHIrJyZsdDsnO2Nhc2UgNTpyZXR1cm4gY3V0U3RyKz1yZXBsYWNlU3RyKycmZ3Q7JztkZWZhdWx0OnJldHVybiBjdXRTdHI7fX0vL2F2b2lkICZhbXA7IHRvIGVzY2FwZSAmYW1wO2FtcDtcbmZ1bmN0aW9uIHJlcGxhY2VDaGFyKHN0cil7Ly9lc2NhcGUgdGhlIGNoYXJhY3RlclxudmFyIHBvcz0tMTt2YXIgY3V0U3RyPScnO3ZhciByZXBsYWNlU3RyPScnO3ZhciBkb0ZsYWc9MDt2YXIgY2hhclR5cGU9dm9pZCAwO3ZhciBhbXBlcnNhbmRFeGlzdHM9dHJ1ZTt3aGlsZShhbXBlcnNhbmRFeGlzdHMpe3Bvcz1zdHIuaW5kZXhPZignJicscG9zKzEpO2NoYXJUeXBlPTA7aWYocG9zIT0tMSl7aWYoc3RyLnN1YnN0cmluZyhwb3MscG9zKzUpPT0nJmFtcDsnKXtjaGFyVHlwZT0xO3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzUpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys2KT09JyZxdW90Oycpe2NoYXJUeXBlPTI7cmVwbGFjZVN0cj1zdHIuc3Vic3RyaW5nKDAscG9zKTtzdHI9c3RyLnN1YnN0cmluZyhwb3MrNik7fWVsc2UgaWYoc3RyLnN1YnN0cmluZyhwb3MscG9zKzUpPT0nJiMzOTsnKXtjaGFyVHlwZT0zO3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzUpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys0KT09JyZsdDsnKXtjaGFyVHlwZT00O3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzQpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys0KT09JyZndDsnKXtjaGFyVHlwZT01O3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzQpO31pZihjaGFyVHlwZSE9MCl7cG9zPS0xO3JlcGxhY2VTdHI9ZG9Fc2NhcGUocmVwbGFjZVN0cik7Y3V0U3RyPWNoZWNrVHlwZShjdXRTdHIscmVwbGFjZVN0cixjaGFyVHlwZSk7ZG9GbGFnPTE7fX1lbHNle2N1dFN0cis9c3RyO2FtcGVyc2FuZEV4aXN0cz1mYWxzZTt9fWlmKGRvRmxhZz09MClyZXR1cm4gZG9Fc2NhcGUoc3RyKTtlbHNlIHJldHVybiBjdXRTdHI7fS8vY2hlY2sgdGhlIEhUTUwgdmFsdWVcbmZ1bmN0aW9uIGVzY2FwZUhUTUwoc3RyKXt2YXIgc21hbGxJbmRleD1zdHIuaW5kZXhPZignPCcpO3ZhciBncmVhdEluZGV4PXN0ci5pbmRleE9mKCc+Jyk7dmFyIHRlbXBTdHI9Jyc7dmFyIHRlbXBUYWc9Jyc7dmFyIHByb2Nlc3NlZD0nJzt2YXIgdGVtcFNtYWxsSW5kZXg9MDt2YXIgdGFnc0V4aXN0cz10cnVlO3doaWxlKHRhZ3NFeGlzdHMpey8vZmluZCB0aGUgbGVzcyB0YXJnZXRcbmlmKHNtYWxsSW5kZXg+PTApey8vZmluZCB0aGUgZ3JlYXRlciB0YXJnZXRcbmlmKGdyZWF0SW5kZXg+PTApe2Rvey8vc3BsaXQgZm9yZXdhcmQgc3RyaW5nXG5zbWFsbEluZGV4Kz10ZW1wU21hbGxJbmRleDt0ZW1wU3RyPXN0ci5zdWJzdHJpbmcoMCxzbWFsbEluZGV4KTsvL3NwbGl0IHRoZSB0YWdzXG50ZW1wVGFnPXN0ci5zdWJzdHJpbmcoc21hbGxJbmRleCxncmVhdEluZGV4KzEpO3RlbXBTbWFsbEluZGV4PXRlbXBUYWcubGFzdEluZGV4T2YoJzwnKTt9d2hpbGUodGVtcFNtYWxsSW5kZXghPTApOy8vZXNjYXBlIGF0dHJpYnV0ZXMgaW4gdGhlIHRhZ1xudGVtcFRhZz1lc2NhcGVBdHRyKHRlbXBUYWcpO3N0cj1zdHIuc3Vic3RyaW5nKGdyZWF0SW5kZXgrMSk7Ly9jaGVjayBpZiB0aGUgdGFnIGlzIHNjcmlwdFxuLy8gaWYodGVtcFRhZy50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJzY3JpcHRcIik+PTApXG4vLyB0ZW1wVGFnID0gcmVwbGFjZUNoYXIodGVtcFRhZyk7XG4vL21lcmdlIHRoZW0gdXBcbnByb2Nlc3NlZCs9cmVwbGFjZUNoYXIodGVtcFN0cikrdGVtcFRhZzt9ZWxzZXtyZXBsYWNlQ2hhcihzdHIpO3RhZ3NFeGlzdHM9ZmFsc2U7YnJlYWs7fX1lbHNle3JlcGxhY2VDaGFyKHN0cik7dGFnc0V4aXN0cz1mYWxzZTticmVhazt9Ly9nb2luZyB0byBkbyBuZXh0IHRhZ1xuc21hbGxJbmRleD1zdHIuaW5kZXhPZignPCcpO2dyZWF0SW5kZXg9MDtkb3svL2F2b2lkIG90aGVyID5cbmdyZWF0SW5kZXg9c3RyLmluZGV4T2YoJz4nLGdyZWF0SW5kZXgrMSk7fXdoaWxlKGdyZWF0SW5kZXg8c21hbGxJbmRleCYmZ3JlYXRJbmRleCE9LTEpO31pZihzdHIhPScnKXByb2Nlc3NlZCs9cmVwbGFjZUNoYXIoc3RyKTtyZXR1cm4gcHJvY2Vzc2VkO313aW5kb3cudW5lc2NhcGVIdG1sPXVuZXNjYXBlSHRtbDt3aW5kb3cuZXNjYXBlSFRNTD1lc2NhcGVIVE1MOzt2YXIgX3RlbXA9ZnVuY3Rpb24oKXtpZih0eXBlb2YgX19SRUFDVF9IT1RfTE9BREVSX189PT0ndW5kZWZpbmVkJyl7cmV0dXJuO31fX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcih1bmVzY2FwZUh0bWwsJ3VuZXNjYXBlSHRtbCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9lc2NhcGUuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcihlc2NhcGVBdHRyLCdlc2NhcGVBdHRyJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L2VzY2FwZS5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGRvRXNjYXBlLCdkb0VzY2FwZScsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9lc2NhcGUuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihjaGVja1R5cGUsJ2NoZWNrVHlwZScsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9lc2NhcGUuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihyZXBsYWNlQ2hhciwncmVwbGFjZUNoYXInLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvZXNjYXBlLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoZXNjYXBlSFRNTCwnZXNjYXBlSFRNTCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9lc2NhcGUuanMnKTt9KCk7O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9lc2NhcGUuanNcbi8vIG1vZHVsZSBpZCA9IDE1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgNiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///154\n");

/***/ }),

/***/ 231:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=undefined;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _webextensionPolyfill=__webpack_require__(11);var _webextensionPolyfill2=_interopRequireDefault(_webextensionPolyfill);var _scrollIntoViewIfNeeded=__webpack_require__(152);var _scrollIntoViewIfNeeded2=_interopRequireDefault(_scrollIntoViewIfNeeded);var _SeleniumError=__webpack_require__(110);var _SeleniumError2=_interopRequireDefault(_SeleniumError);var _commandsApi=__webpack_require__(141);var _escape=__webpack_require__(154);var _seleniumBrowserbot=__webpack_require__(232);var _seleniumBrowserbot2=_interopRequireDefault(_seleniumBrowserbot);var _closurePolyfill=__webpack_require__(80);var _closurePolyfill2=_interopRequireDefault(_closurePolyfill);var _PatternMatcher=__webpack_require__(233);var _PatternMatcher2=_interopRequireDefault(_PatternMatcher);var _utils=__webpack_require__(111);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/*\n * Copyright 2011 Software Freedom Conservancy\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */// TODO: stop navigating this.browserbot.document() ... it breaks encapsulation\nvar Selenium=/**\n   * Defines an object that runs Selenium commands.\n   *\n   * <h3><a name=\"locators\"></a>Element Locators</h3>\n   * <p>\n   * Element Locators tell Selenium which HTML element a command refers to.\n   * The format of a locator is:</p>\n   * <blockquote>\n   * <em>locatorType</em><strong>=</strong><em>argument</em>\n   * </blockquote>\n   *\n   * <p>\n   * We support the following strategies for locating elements:\n   * </p>\n   *\n   * <ul>\n   * <li><strong>identifier</strong>=<em>id</em>:\n   * Select the element with the specified &#064;id attribute. If no match is\n   * found, select the first element whose &#064;name attribute is <em>id</em>.\n   * (This is normally the default; see below.)</li>\n   * <li><strong>id</strong>=<em>id</em>:\n   * Select the element with the specified &#064;id attribute.</li>\n   *\n   * <li><strong>name</strong>=<em>name</em>:\n   * Select the first element with the specified &#064;name attribute.\n   * <ul class=\"first last simple\">\n   * <li>username</li>\n   * <li>name=username</li>\n   * </ul>\n   *\n   * <p>The name may optionally be followed by one or more <em>element-filters</em>, separated from the name by whitespace.  If the <em>filterType</em> is not specified, <strong>value</strong> is assumed.</p>\n   *\n   * <ul class=\"first last simple\">\n   * <li>name=flavour value=chocolate</li>\n   * </ul>\n   * </li>\n   * <li><strong>dom</strong>=<em>javascriptExpression</em>:\n   *\n   * Find an element by evaluating the specified string.  This allows you to traverse the HTML Document Object\n   * Model using JavaScript.  Note that you must not return a value in this string; simply make it the last expression in the block.\n   * <ul class=\"first last simple\">\n   * <li>dom=document.forms['myForm'].myDropdown</li>\n   * <li>dom=document.images[56]</li>\n   * <li>dom=function foo() { return document.links[1]; }; foo();</li>\n   * </ul>\n   *\n   * </li>\n   *\n   * <li><strong>xpath</strong>=<em>xpathExpression</em>:\n   * Locate an element using an XPath expression.\n   * <ul class=\"first last simple\">\n   * <li>xpath=//img[&#064;alt='The image alt text']</li>\n   * <li>xpath=//table[&#064;id='table1']//tr[4]/td[2]</li>\n   * <li>xpath=//a[contains(&#064;href,'#id1')]</li>\n   * <li>xpath=//a[contains(&#064;href,'#id1')]/&#064;class</li>\n   * <li>xpath=(//table[&#064;class='stylee'])//th[text()='theHeaderText']/../td</li>\n   * <li>xpath=//input[&#064;name='name2' and &#064;value='yes']</li>\n   * <li>xpath=//*[text()=\"right\"]</li>\n   *\n   * </ul>\n   * </li>\n   * <li><strong>link</strong>=<em>textPattern</em>:\n   * Select the link (anchor) element which contains text matching the\n   * specified <em>pattern</em>.\n   * <ul class=\"first last simple\">\n   * <li>link=The link text</li>\n   * </ul>\n   *\n   * </li>\n   *\n   * <li><strong>css</strong>=<em>cssSelectorSyntax</em>:\n   * Select the element using css selectors. Please refer to <a href=\"http://www.w3.org/TR/REC-CSS2/selector.html\">CSS2 selectors</a>, <a href=\"http://www.w3.org/TR/2001/CR-css3-selectors-20011113/\">CSS3 selectors</a> for more information. You can also check the TestCssLocators test in the selenium test suite for an example of usage, which is included in the downloaded selenium core package.\n   * <ul class=\"first last simple\">\n   * <li>css=a[href=\"#id3\"]</li>\n   * <li>css=span#firstChild + span</li>\n   * </ul>\n   * <p>Currently the css selector locator supports all css1, css2 and css3 selectors except namespace in css3, some pseudo classes(:nth-of-type, :nth-last-of-type, :first-of-type, :last-of-type, :only-of-type, :visited, :hover, :active, :focus, :indeterminate) and pseudo elements(::first-line, ::first-letter, ::selection, ::before, ::after). </p>\n   * </li>\n   *\n   * <li><strong>ui</strong>=<em>uiSpecifierString</em>:\n   * Locate an element by resolving the UI specifier string to another locator, and evaluating it. See the <a href=\"http://svn.openqa.org/fisheye/browse/~raw,r=trunk/selenium/trunk/src/main/resources/core/scripts/ui-doc.html\">Selenium UI-Element Reference</a> for more details.\n   * <ul class=\"first last simple\">\n   * <li>ui=loginPages::loginButton()</li>\n   * <li>ui=settingsPages::toggle(label=Hide Email)</li>\n   * <li>ui=forumPages::postBody(index=2)//a[2]</li>\n   * </ul>\n   * </li>\n   *\n   * </ul>\n   *\n   * <p>\n   * Without an explicit locator prefix, Selenium uses the following default\n   * strategies:\n   * </p>\n   *\n   * <ul class=\"simple\">\n   * <li><strong>dom</strong>, for locators starting with &quot;document.&quot;</li>\n   * <li><strong>xpath</strong>, for locators starting with &quot;//&quot;</li>\n   * <li><strong>identifier</strong>, otherwise</li>\n   * </ul>\n   *\n   * <h3><a name=\"element-filters\">Element Filters</a></h3>\n   * <blockquote>\n   * <p>Element filters can be used with a locator to refine a list of candidate elements.  They are currently used only in the 'name' element-locator.</p>\n   * <p>Filters look much like locators, ie.</p>\n   * <blockquote>\n   * <em>filterType</em><strong>=</strong><em>argument</em></blockquote>\n   *\n   * <p>Supported element-filters are:</p>\n   * <p><strong>value=</strong><em>valuePattern</em></p>\n   * <blockquote>\n   * Matches elements based on their values.  This is particularly useful for refining a list of similarly-named toggle-buttons.</blockquote>\n   * <p><strong>index=</strong><em>index</em></p>\n   * <blockquote>\n   * Selects a single element based on its position in the list (offset from zero).</blockquote>\n   * </blockquote>\n   *\n   * <h3><a name=\"patterns\"></a>String-match Patterns</h3>\n   *\n   * <p>\n   * Various Pattern syntaxes are available for matching string values:\n   * </p>\n   * <ul>\n   * <li><strong>glob:</strong><em>pattern</em>:\n   * Match a string against a \"glob\" (aka \"wildmat\") pattern. \"Glob\" is a\n   * kind of limited regular-expression syntax typically used in command-line\n   * shells. In a glob pattern, \"*\" represents any sequence of characters, and \"?\"\n   * represents any single character. Glob patterns match against the entire\n   * string.</li>\n   * <li><strong>regexp:</strong><em>regexp</em>:\n   * Match a string using a regular-expression. The full power of JavaScript\n   * regular-expressions is available.</li>\n   * <li><strong>regexpi:</strong><em>regexpi</em>:\n   * Match a string using a case-insensitive regular-expression.</li>\n   * <li><strong>exact:</strong><em>string</em>:\n   *\n   * Match a string exactly, verbatim, without any of that fancy wildcard\n   * stuff.</li>\n   * </ul>\n   * <p>\n   * If no pattern prefix is specified, Selenium assumes that it's a \"glob\"\n   * pattern.\n   * </p>\n   * <p>\n   * For commands that return multiple values (such as verifySelectOptions),\n   * the string being matched is a comma-separated list of the return values,\n   * where both commas and backslashes in the values are backslash-escaped.\n   * When providing a pattern, the optional matching syntax (i.e. glob,\n   * regexp, etc.) is specified once, as usual, at the beginning of the\n   * pattern.\n   * </p>\n   */function Selenium(browserbot){_classCallCheck(this,Selenium);this.browserbot=browserbot;this.optionLocatorFactory=new OptionLocatorFactory();// DGF for backwards compatibility\nthis.page=function(){return browserbot;};this.defaultTimeout=Selenium.DEFAULT_TIMEOUT;this.mouseSpeed=Selenium.DEFAULT_MOUSE_SPEED;};exports.default=Selenium;Selenium.DEFAULT_TIMEOUT=30*1000;Selenium.DEFAULT_MOUSE_SPEED=10;Selenium.RIGHT_MOUSE_CLICK=2;Selenium.decorateFunctionWithTimeout=function(f,timeout,callback){if(f==null){return null;}var timeoutTime=(0,_utils.getTimeoutTime)(timeout);return function(){if(new Date().getTime()>timeoutTime){if(callback!=null){callback();}throw new _SeleniumError2.default('Timed out after '+timeout+'ms');}return f();};};Selenium.createForWindow=function(window,proxyInjectionMode){if(!window.location){throw'error: not a window!';}return Selenium(_seleniumBrowserbot2.default.createForWindow(window,proxyInjectionMode));};Selenium.prototype.reset=function(){this.defaultTimeout=Selenium.DEFAULT_TIMEOUT;// todo: this.browserbot.reset()\nthis.browserbot.selectWindow('null');this.browserbot.resetPopups();};Selenium.prototype.eval=function(script){var argv=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var scoped=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var isExpression=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;// we are still stringifying here, but we are not supporting passing HTMLElements anyway :)\n// Single quotes are important! JSON.stringifies uses double quotes, to avoid syntax error we use single quotes!!\nif(isExpression){return window.eval(scoped?'((...arguments) => ('+script+'))(...JSON.parse(\\''+JSON.stringify(argv)+'\\'))':script);}else{return window.eval(scoped?'((...arguments) => {'+script+'})(...JSON.parse(\\''+JSON.stringify(argv)+'\\'))':script);}};Selenium.prototype.doEvaluateConditional=function(script){return!!this.eval(script.script,script.argv,true,true);};Selenium.prototype.doVerifyChecked=function(locator){var element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error('Element with locator '+locator+' is not a checkbox nor a radio button');}else if(!element.checked){throw new Error('Element with locator '+locator+' is not checked');}};Selenium.prototype.doVerifyNotChecked=function(locator){var element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error('Element with locator '+locator+' is not a checkbox nor a radio button');}else if(element.checked){throw new Error('Element with locator '+locator+' is checked');}};Selenium.prototype.doVerifyEditable=function(locator){if(!this.isEditable(locator)){throw new Error('Element with locator '+locator+' is not editable');}};Selenium.prototype.doVerifyNotEditable=function(locator){if(this.isEditable(locator)){throw new Error('Element with locator '+locator+' is editable');}};Selenium.prototype.doVerifySelectedValue=function(locator,value){var element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error('Element with locator '+locator+' is not a select');}else if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyNotSelectedValue=function(locator,value){var element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error('Element with locator '+locator+' is not a select');}else if(element.value===value){throw new Error(\"Actual value '\"+element.value+\"' did match\");}};Selenium.prototype.doVerifyText=function(locator,value){this.doAssertText(locator,value);};Selenium.prototype.doVerifyNotText=function(locator,value){this.doAssertNotText(locator,value);};Selenium.prototype.doVerifyValue=function(locator,value){var element=this.browserbot.findElement(locator);if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyTitle=function(value){if(_closurePolyfill2.default.string.normalizeSpaces(this.getTitle())!==value){throw new Error(\"Actual value '\"+_closurePolyfill2.default.string.normalizeSpaces(this.getTitle())+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyElementPresent=function(locator){try{this.browserbot.findElement(locator);}catch(error){if(error.message.match(/Element[\\s\\S]*?not found/)){throw new Error('Element with locator '+locator+' could not be found');}else{throw error;}}};Selenium.prototype.doVerifyElementNotPresent=function(locator){try{this.browserbot.findElement(locator);throw new Error('Element with locator '+locator+' was found');}catch(error){if(!error.message.match(/Element[\\s\\S]*?not found/)){throw error;}}};Selenium.prototype.doVerify=function(variableName,expected){return this.doAssert(variableName,expected);};Selenium.prototype.doAssert=function(variableName,expected){return new Promise(function(res,rej){_webextensionPolyfill2.default.runtime.sendMessage({getVar:true,variable:variableName}).then(function(actual){if(''+actual!=expected){return rej(\"Actual value '\"+actual+\"' did not match '\"+expected+\"'\");}return res();});});};Selenium.prototype.doAssertChecked=function(locator){var element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error('Element with locator '+locator+' is not a checkbox nor a radio button');}else if(!element.checked){throw new Error('Element with locator '+locator+' is not checked');}};Selenium.prototype.doAssertNotChecked=function(locator){var element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error('Element with locator '+locator+' is not a checkbox nor a radio button');}else if(element.checked){throw new Error('Element with locator '+locator+' is checked');}};Selenium.prototype.doAssertEditable=function(locator){if(!this.isEditable(locator)){throw new Error('Element with locator '+locator+' is not editable');}};Selenium.prototype.doAssertNotEditable=function(locator){if(this.isEditable(locator)){throw new Error('Element with locator '+locator+' is editable');}};Selenium.prototype.doAssertSelectedValue=function(locator,value){var element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error('Element with locator '+locator+' is not a select');}else if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifySelectedLabel=function(selectLocator,value){var selectedLabel=this.findSelectedOptionProperty(selectLocator,'text');if(selectedLabel!==value){throw new Error(\"Actual label '\"+selectedLabel+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertSelectedLabel=function(selectLocator,value){var selectedLabel=this.findSelectedOptionProperty(selectLocator,'text');if(selectedLabel!==value){throw new Error(\"Actual label '\"+selectedLabel+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertNotSelectedValue=function(locator,value){var element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error('Element with locator '+locator+' is not a select');}else if(element.value===value){throw new Error(\"Actual value '\"+element.value+\"' did match\");}};Selenium.prototype.findElementVisible=function(locator){var element=this.browserbot.findElement(locator);if(!_closurePolyfill.bot.dom.isShown(element))throw new Error('Element '+locator+' not visible');return element;};Selenium.prototype.doAssertText=function(locator,value){var element=this.findElementVisible(locator);var visibleText=_closurePolyfill.bot.dom.getVisibleText(element);if(visibleText!==value){throw new Error('Actual value \"'+visibleText+'\" did not match \"'+value+'\"');}};Selenium.prototype.doAssertNotText=function(locator,value){var element=this.findElementVisible(locator);var visibleText=_closurePolyfill.bot.dom.getVisibleText(element);if(visibleText===value){throw new Error('Actual value \"'+visibleText+'\" did match \"'+value+'\"');}};Selenium.prototype.doAssertValue=function(locator,value){var element=this.browserbot.findElement(locator);if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertTitle=function(value){if(_closurePolyfill2.default.string.normalizeSpaces(this.getTitle())!==value){throw new Error(\"Actual value '\"+_closurePolyfill2.default.string.normalizeSpaces(this.getTitle())+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertElementPresent=function(locator){try{this.browserbot.findElement(locator);}catch(error){if(error.message.match(/Element[\\s\\S]*?not found/)){throw new Error('Element with locator '+locator+' could not be found');}else{throw error;}}};Selenium.prototype.doAssertElementNotPresent=function(locator){try{this.browserbot.findElement(locator);throw new Error('Element with locator '+locator+' was found');}catch(error){if(!error.message.match(/Element[\\s\\S]*?not found/)){throw error;}}};function throwIfNoVarNameProvided(varName){if(!varName){throw new Error('No variable name provided.');}}Selenium.prototype.doStore=function(value,varName){throwIfNoVarNameProvided(varName);return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:value,storeVar:varName});};Selenium.prototype.doStoreEval=function(){throw new Error('store eval is obsolete please migrate to execute script');};Selenium.prototype.doStoreText=function(locator,varName){throwIfNoVarNameProvided(varName);var text=void 0;try{// Try to get the text if the element is visible\nvar element=this.findElementVisible(locator);text=_closurePolyfill.bot.dom.getVisibleText(element);}catch(e){// element is not visible, but it may be due to the fact that it has no text\nvar _element2=this.browserbot.findElement(locator);if(_element2.innerHTML===''){// element is empty then return empty string\ntext='';}else{// element has content this is indeed invisible\nthrow e;}}return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:text,storeVar:varName});};Selenium.prototype.doStoreValue=function(locator,varName){throwIfNoVarNameProvided(varName);var element=this.browserbot.findElement(locator);return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:element.value.trim(),storeVar:varName});};Selenium.prototype.doStoreTitle=function(value,varName){throwIfNoVarNameProvided(varName);var doc=_commandsApi.selenium.browserbot.getDocument();return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:value||doc.title,storeVar:varName});};Selenium.prototype.doStoreXpathCount=function(xpath,varName){throwIfNoVarNameProvided(varName);var count=this.browserbot.evaluateXPathCount(xpath,this.browserbot.getDocument());return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:''+count||'0',storeVar:varName});};Selenium.prototype.doStoreAttribute=function(locator,varName){throwIfNoVarNameProvided(varName);var attributeValue=this.browserbot.findAttribute(locator);return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:attributeValue,storeVar:varName});};function waitUntil(condition,target,timeout,failureMessage){if(!timeout){throw new Error('Timeout not specified.');}return new Promise(function(resolve,reject){var count=0;var retryInterval=100;var result=void 0;var interval=setInterval(function(){if(count>timeout){clearInterval(interval);reject(failureMessage);}try{result=condition(target);}catch(error){clearInterval(interval);reject(error.message);}if(!result){count+=retryInterval;}else if(result){clearInterval(interval);resolve();}},retryInterval);});}Selenium.prototype.doWaitForElementPresent=function(locator,timeout){return waitUntil(this.isElementPresent.bind(this),locator,timeout,'Unable to find the target element within the timeout specified.');};Selenium.prototype.doWaitForElementNotPresent=function(locator,timeout){return waitUntil(isElementNotPresent.bind(this),locator,timeout,'Element still present on the page within the timeout specified.');};Selenium.prototype.doWaitForElementVisible=function(locator,timeout){return waitUntil(isDisplayed.bind(this),locator,timeout,'Element not visible on the page within the timeout specified.');};Selenium.prototype.doWaitForElementNotVisible=function(locator,timeout){return waitUntil(isNotDisplayed.bind(this),locator,timeout,'Element still visible on the page within the timeout specified.');};Selenium.prototype.doWaitForElementEditable=function(locator,timeout){return waitUntil(isEditable.bind(this),locator,timeout,'Element not editable within the timeout specified.');};Selenium.prototype.doWaitForElementNotEditable=function(locator,timeout){return waitUntil(isNotEditable.bind(this),locator,timeout,'Element still editable within the timeout specified.');};// xian\nSelenium.prototype.doWaitPreparation=function(){// function setNewPageValue(e) {\n//     window.new_page = true;\n// };\n// window.addEventListener(\"beforeunload\", setNewPageValue, false);\n// if (window.XMLHttpRequest) {\n//     // only override XMLHttpRequest once\n//     if (!window.origXMLHttpRequest || !window.ajax_obj) {\n//         // it's new page, so set the new window's XMLHttpRequest, and all of the obj in the ajax_obj\n//         // are last window's instance, so clear it\n//         window.ajax_obj = [];\n//         window.origXMLHttpRequest = window.XMLHttpRequest;\n//         window.XMLHttpRequest = function() {\n//             var xhr = new window.origXMLHttpRequest();\n//             window.ajax_obj.push(xhr);\n//             return xhr;\n//         }\n//     }\n// }\n// function setDOMModifiedTime() {\n//     window.domModifiedTime = Date.now();\n// }\n// var _win = window.document.body;\n// _win.addEventListener(\"DOMNodeInserted\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeInsertedIntoDocument\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeRemoved\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeRemovedFromDocument\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMSubtreeModified\", setDOMModifiedTime, false);\nthis.eval('function setNewPageValue(e) {window.new_page = true;};\\\n                window.addEventListener(\"beforeunload\", setNewPageValue, false);\\\n                if (window.XMLHttpRequest) {if (!window.origXMLHttpRequest || !window.ajax_obj) {\\\n                window.ajax_obj = []; window.origXMLHttpRequest = window.XMLHttpRequest;\\\n                window.XMLHttpRequest = function() { var xhr = new window.origXMLHttpRequest();\\\n                window.ajax_obj.push(xhr); return xhr;}}} function setDOMModifiedTime() {\\\n                window.domModifiedTime = Date.now();}var _win = window.document.body;\\\n                _win.addEventListener(\"DOMNodeInserted\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMNodeInsertedIntoDocument\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMNodeRemoved\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMNodeRemovedFromDocument\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMSubtreeModified\", setDOMModifiedTime, false);',[],false);};Selenium.prototype.doPrePageWait=function(){window.sideex_new_page=this.eval('(function() {return window.new_page;}())',[],false);};Selenium.prototype.doPageWait=function(){// if (window.document.readyState == \"complete\") {\n//     return true;\n// } else {\n//     return false;\n// }\nvar expression='if(window.document.readyState==\"complete\"){return true;}else{return false;}';window.sideex_page_done=this.eval('(function() {'+expression+'}())',[],false);};Selenium.prototype.doAjaxWait=function(){// // check ajax wait\n// if (window.ajax_obj) {\n//     if (window.ajax_obj.length == 0) {\n//         return true;\n//     } else {\n//         for (var index in window.ajax_obj) {\n//         // if readyState is 1~3, then keep waiting\n//             if (window.ajax_obj[index].readyState !== 4 &&\n//                 window.ajax_obj[index].readyState !== undefined &&\n//                 window.ajax_obj[index].readyState !== 0) {\n//                     return false;\n//             }\n//         }\n//         return true;\n//     }\n// } else {\n//     if (window.origXMLHttpRequest) {\n//         window.origXMLHttpRequest = \"\";\n//     }\n//     return true;\n// }\nvar expression='if (window.ajax_obj) { if (window.ajax_obj.length == 0) {return true;} else {\\\n                      for (var index in window.ajax_obj) {\\\n                      if (window.ajax_obj[index].readyState !== 4 &&\\\n                      window.ajax_obj[index].readyState !== undefined &&\\\n                      window.ajax_obj[index].readyState !== 0) {return false;}}return true;}}\\\n                      else {if (window.origXMLHttpRequest) {window.origXMLHttpRequest = \"\";}return true;}';window.sideex_ajax_done=this.eval('(function() {'+expression+'}())',[],false);};Selenium.prototype.doDomWait=function(){window.sideex_dom_time=this.eval('(function() {return window.domModifiedTime;}())',[],false);};Selenium.prototype.doClick=function(locator){/**\n   * Clicks on a link, button, checkbox or radio button. If the click action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   *\n   */var element=this.browserbot.findElement(locator);_closurePolyfill.bot.action.click(element);};Selenium.prototype.doDoubleClick=function(locator){/**\n   * Double clicks on a link, button, checkbox or radio button. If the double click action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   *\n   */var element=this.browserbot.findElement(locator);_closurePolyfill.bot.action.doubleClick(element);};Selenium.prototype.doContextMenu=function(locator){/**\n   * Simulates opening the context menu for the specified element (as might happen if the user \"right-clicked\" on the element).\n   *\n   * @param locator an element locator\n   *\n   */var element=this.browserbot.findElement(locator);_closurePolyfill.bot.action.rightClick(element);};Selenium.prototype.doClickAt=function(locator,coordString){/**\n   * Clicks on a link, button, checkbox or radio button. If the click action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   *\n   */var element=this.browserbot.findElement(locator);var coords=getCoords(element,coordString);_closurePolyfill.bot.action.click(element,coords);};Selenium.prototype.doDoubleClickAt=function(locator,coordString){/**\n   * Doubleclicks on a link, button, checkbox or radio button. If the action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   *\n   */var element=this.browserbot.findElement(locator);var coords=getCoords(element,coordString);_closurePolyfill.bot.action.doubleClick(element,coords);};Selenium.prototype.doContextMenuAt=function(locator,coordString){/**\n   * Simulates opening the context menu for the specified element (as might happen if the user \"right-clicked\" on the element).\n   *\n   * @param locator an element locator\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   *\n   */var element=this.browserbot.findElement(locator);var coords=getCoords(element,coordString);_closurePolyfill.bot.action.rightClick(element,coords);};Selenium.prototype.doFocus=function(locator){/** Move the focus to the specified element; for example, if the element is an input field, move the cursor to that field.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);if(element.focus){element.focus();}else{_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);}};Selenium.prototype.doShiftKeyDown=function(){/**\n   * Press the shift key and hold it down until doShiftUp() is called or a new page is loaded.\n   *\n   */this.browserbot.shiftKeyDown=true;_closurePolyfill.core.events.shiftKeyDown_=true;};Selenium.prototype.doShiftKeyUp=function(){/**\n   * Release the shift key.\n   *\n   */this.browserbot.shiftKeyDown=false;_closurePolyfill.core.events.shiftKeyDown_=false;};Selenium.prototype.doMetaKeyDown=function(){/**\n   * Press the meta key and hold it down until doMetaUp() is called or a new page is loaded.\n   *\n   */this.browserbot.metaKeyDown=true;_closurePolyfill.core.events.metaKeyDown_=true;};Selenium.prototype.doMetaKeyUp=function(){/**\n   * Release the meta key.\n   *\n   */this.browserbot.metaKeyDown=false;_closurePolyfill.core.events.metaKeyDown_=false;};Selenium.prototype.doAltKeyDown=function(){/**\n   * Press the alt key and hold it down until doAltUp() is called or a new page is loaded.\n   *\n   */this.browserbot.altKeyDown=true;_closurePolyfill.core.events.altKeyDown_=true;};Selenium.prototype.doAltKeyUp=function(){/**\n   * Release the alt key.\n   *\n   */this.browserbot.altKeyDown=false;_closurePolyfill.core.events.altKeyDown_=false;};Selenium.prototype.doControlKeyDown=function(){/**\n   * Press the control key and hold it down until doControlUp() is called or a new page is loaded.\n   *\n   */this.browserbot.controlKeyDown=true;_closurePolyfill.core.events.controlKeyDown_=true;};Selenium.prototype.doControlKeyUp=function(){/**\n   * Release the control key.\n   *\n   */this.browserbot.controlKeyDown=false;_closurePolyfill.core.events.controlKeyDown_=false;};function getClientXY(element,coordString){// Parse coordString\nvar coords=null;var x=void 0;var y=void 0;if(coordString){coords=coordString.split(/,/);x=Number(coords[0]);y=Number(coords[1]);}else{x=y=0;}// Get position of element,\n// Return 2 item array with clientX and clientY\nreturn[Selenium.prototype.getElementPositionLeft(element)+x,Selenium.prototype.getElementPositionTop(element)+y];}function getCoords(_element,coordString){// Parse coordString\nvar coords=null;var x=void 0;var y=void 0;if(coordString){coords=coordString.split(/,/);x=Number(coords[0]);y=Number(coords[1]);}else{x=y=0;}return new _closurePolyfill2.default.math.Coordinate(x,y);}Selenium.prototype.prepareToInteract_=function(locator){var element=this.browserbot.findElement(locator);var rect=element.getBoundingClientRect();_closurePolyfill.bot.action.prepareToInteractWith_(element,new _closurePolyfill2.default.math.Coordinate(rect.width/2,rect.height/2));return element.getBoundingClientRect();};Selenium.prototype.doMouseOver=function(locator){/**\n   * Simulates a user hovering a mouse over the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);var rect=element.getBoundingClientRect();_closurePolyfill.bot.action.moveMouse(element,new _closurePolyfill2.default.math.Coordinate(rect.width/2,rect.height/2));};Selenium.prototype.doMouseOut=function(locator){/**\n   * Simulates a user moving the mouse pointer away from the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseout',true);};Selenium.prototype.doMouseDown=function(locator){/**\n   * Simulates a user pressing the left mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousedown',true);};Selenium.prototype.doMouseDownRight=function(locator){/**\n   * Simulates a user pressing the right mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousedown',true,undefined,undefined,Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseDownAt=function(locator,coordString){/**\n   * Simulates a user pressing the left mouse button (without releasing it yet) at\n   * the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */var element=this.browserbot.findElement(locator);var clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousedown',true,clientXY[0],clientXY[1]);};Selenium.prototype.doMouseDownRightAt=function(locator,coordString){/**\n   * Simulates a user pressing the right mouse button (without releasing it yet) at\n   * the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */var element=this.browserbot.findElement(locator);var clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousedown',true,clientXY[0],clientXY[1],Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseUp=function(locator){/**\n   * Simulates the event that occurs when the user releases the mouse button (i.e., stops\n   * holding the button down) on the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseup',true);};Selenium.prototype.doMouseUpRight=function(locator){/**\n   * Simulates the event that occurs when the user releases the right mouse button (i.e., stops\n   * holding the button down) on the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseup',true,undefined,undefined,Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseUpAt=function(locator,coordString){/**\n   * Simulates the event that occurs when the user releases the mouse button (i.e., stops\n   * holding the button down) at the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */var element=this.browserbot.findElement(locator);var clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientXY[0],clientXY[1]);};Selenium.prototype.doMouseUpRightAt=function(locator,coordString){/**\n   * Simulates the event that occurs when the user releases the right mouse button (i.e., stops\n   * holding the button down) at the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */var element=this.browserbot.findElement(locator);var clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientXY[0],clientXY[1],Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseMove=function(locator){/**\n   * Simulates a user pressing the mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */var element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousemove',true);};Selenium.prototype.doMouseMoveAt=function(locator,coordString){/**\n   * Simulates a user pressing the mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */var element=this.browserbot.findElement(locator);var clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientXY[0],clientXY[1]);};Selenium.prototype.doType=function(locator,value){/**\n   * Sets the value of an input field, as though you typed it in.\n   *\n   * <p>Can also be used to set the value of combo boxes, check boxes, etc. In these cases,\n   * value should be the value of the option selected, not the visible text.</p>\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param value the value to type\n   */if(this.browserbot.controlKeyDown||this.browserbot.altKeyDown||this.browserbot.metaKeyDown){throw new _SeleniumError2.default('type not supported immediately after call to controlKeyDown() or altKeyDown() or metaKeyDown()');}var element=this.browserbot.findElement(locator);_closurePolyfill.core.events.setValue(element,'');var type=element.type;if(type==='number'||type==='date'){_closurePolyfill.core.events.setValue(element,value);}else{_closurePolyfill.bot.action.type(element,value);if(element.value!==value){_closurePolyfill.core.events.setValue(element,value);}}_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);};Selenium.prototype.doSendKeys=function(locator,value){/**\n   * *Experimental* Simulates keystroke events on the specified element, as though you typed the value key-by-key.\n   *\n   * <p>This simulates a real user typing every character in the specified string; it is also bound by the limitations of a\n   * real user, like not being able to type into a invisible or read only elements. This is useful for dynamic UI widgets\n   * (like auto-completing combo boxes) that require explicit key events.</p>\n   * <p>Unlike the simple \"type\" command, which forces the specified value into the page directly, this command will not\n   * replace the existing content. If you want to replace the existing contents, you need to use the simple \"type\" command to set the value of the\n   * field to empty string to clear the field and then the \"sendKeys\" command to send the keystroke for what you want\n   * to type.</p>\n   * <p>This command is experimental. It may replace the typeKeys command in the future.</p>\n   * <p>For those who are interested in the details, unlike the typeKeys command, which tries to\n   * fire the keyDown, the keyUp and the keyPress events, this command is backed by the atoms from Selenium 2 and provides a\n   * much more robust implementation that will be maintained in the future.</p>\n   *\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param value the value to type\n   */if(this.browserbot.controlKeyDown||this.browserbot.altKeyDown||this.browserbot.metaKeyDown){throw new _SeleniumError2.default('type not supported immediately after call to controlKeyDown() or altKeyDown() or metaKeyDown()');}var element=this.browserbot.findElement(locator);var keys=this.replaceKeys(value);_closurePolyfill.bot.action.type(element,keys);_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);};Selenium.prototype.doSetSpeed=function(){/**\n   * Set execution speed (i.e., set the millisecond length of a delay which will follow each selenium operation).  By default, there is no such delay, i.e.,\n   * the delay is 0 milliseconds.\n   *\n   * @param value the number of milliseconds to pause after operation\n   */throw new _SeleniumError2.default('this operation is only implemented in selenium-rc, and should never result in a request making it across the wire');};Selenium.prototype.getSpeed=function(){/**\n   * Get execution speed (i.e., get the millisecond length of the delay following each selenium operation).  By default, there is no such delay, i.e.,\n   * the delay is 0 milliseconds.\n   *\n   * See also setSpeed.\n   *\n   * @return string the execution speed in milliseconds.\n   */throw new _SeleniumError2.default('this operation is only implemented in selenium-rc, and should never result in a request making it across the wire');};Selenium.prototype.findToggleButton=function(locator){var element=this.browserbot.findElement(locator);if(element.checked==null){throw new Error('Element '+locator+' is not a toggle-button.');// eslint-disable-line no-undef\n}return element;};Selenium.prototype.doCheck=function(locator){/**\n   * Check a toggle-button (checkbox/radio)\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */this.findToggleButton(locator).checked=true;};Selenium.prototype.doUncheck=function(locator){/**\n   * Uncheck a toggle-button (checkbox/radio)\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */this.findToggleButton(locator).checked=false;};Selenium.prototype.doSelect=function(selectLocator,optionLocator){/**\n   * Select an option from a drop-down using an option locator.\n   *\n   * <p>\n   * Option locators provide different ways of specifying options of an HTML\n   * Select element (e.g. for selecting a specific option, or for asserting\n   * that the selected option satisfies a specification). There are several\n   * forms of Select Option Locator.\n   * </p>\n   * <ul>\n   * <li><strong>label</strong>=<em>labelPattern</em>:\n   * matches options based on their labels, i.e. the visible text. (This\n   * is the default.)\n   * <ul class=\"first last simple\">\n   * <li>label=regexp:^[Oo]ther</li>\n   * </ul>\n   * </li>\n   * <li><strong>value</strong>=<em>valuePattern</em>:\n   * matches options based on their values.\n   * <ul class=\"first last simple\">\n   * <li>value=other</li>\n   * </ul>\n   *\n   *\n   * </li>\n   * <li><strong>id</strong>=<em>id</em>:\n   *\n   * matches options based on their ids.\n   * <ul class=\"first last simple\">\n   * <li>id=option1</li>\n   * </ul>\n   * </li>\n   * <li><strong>index</strong>=<em>index</em>:\n   * matches an option based on its index (offset from zero).\n   * <ul class=\"first last simple\">\n   *\n   * <li>index=2</li>\n   * </ul>\n   * </li>\n   * </ul>\n   * <p>\n   * If no option locator prefix is provided, the default behaviour is to match on <strong>label</strong>.\n   * </p>\n   *\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @param optionLocator an option locator (a label by default)\n   */var element=this.browserbot.findElement(selectLocator);if(!('options'in element)){throw new _SeleniumError2.default('Specified element is not a Select (has no options)');}var locator=this.optionLocatorFactory.fromLocatorString(optionLocator);var option=locator.findOption(element);this.browserbot.selectOption(element,option);};Selenium.prototype.doAddSelection=function(locator,optionLocator){/**\n   * Add a selection to the set of selected options in a multi-select element using an option locator.\n   *\n   * @see #doSelect for details of option locators\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\n   * @param optionLocator an option locator (a label by default)\n   */var element=this.browserbot.findElement(locator);if(!('options'in element)){throw new _SeleniumError2.default('Specified element is not a Select (has no options)');}var currLocator=this.optionLocatorFactory.fromLocatorString(optionLocator);var option=currLocator.findOption(element);this.browserbot.addSelection(element,option);};Selenium.prototype.doRemoveSelection=function(locator,optionLocator){/**\n   * Remove a selection from the set of selected options in a multi-select element using an option locator.\n   *\n   * @see #doSelect for details of option locators\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\n   * @param optionLocator an option locator (a label by default)\n   */var element=this.browserbot.findElement(locator);if(!('options'in element)){throw new _SeleniumError2.default('Specified element is not a Select (has no options)');}var currLocator=this.optionLocatorFactory.fromLocatorString(optionLocator);var option=currLocator.findOption(element);this.browserbot.removeSelection(element,option);};Selenium.prototype.doRemoveAllSelections=function(locator){/**\n   * Unselects all of the selected options in a multi-select element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\n   */var element=this.browserbot.findElement(locator);if(!('options'in element)){throw new _SeleniumError2.default('Specified element is not a Select (has no options)');}for(var i=0;i<element.options.length;i++){this.browserbot.removeSelection(element,element.options[i]);}};Selenium.prototype.doSubmit=function(formLocator){/**\n   * Submit the specified form. This is particularly useful for forms without\n   * submit buttons, e.g. single-input \"Search\" forms.\n   *\n   * @param formLocator an <a href=\"#locators\">element locator</a> for the form you want to submit\n   */var form=this.browserbot.findElement(formLocator);return _closurePolyfill.bot.action.submit(form);};Selenium.prototype.makePageLoadCondition=function(timeout){if(timeout==null){timeout=this.defaultTimeout;}// if the timeout is zero, we won't wait for the page to load before returning\nif(timeout==0){// abort XHR request\nthis._abortXhrRequest();return;}return Selenium.decorateFunctionWithTimeout(this._isNewPageLoaded.bind(this),timeout,this._abortXhrRequest.bind(this));};Selenium.prototype.doOpen=function(url,ignoreResponseCode){/**\n   * Opens an URL in the test frame. This accepts both relative and absolute\n   * URLs.\n   *\n   * The &quot;open&quot; command waits for the page to load before proceeding,\n   * ie. the &quot;AndWait&quot; suffix is implicit.\n   *\n   * <em>Note</em>: The URL must be on the same domain as the runner HTML\n   * due to security restrictions in the browser (Same Origin Policy). If you\n   * need to open an URL on another domain, use the Selenium Server to start a\n   * new browser session on that domain.\n   *\n   * @param url the URL to open; may be relative or absolute\n   * @param ignoreResponseCode (optional) turn off ajax head request functionality\n   *\n   */if(ignoreResponseCode==null||ignoreResponseCode.length==0){this.browserbot.ignoreResponseCode=true;}else if(ignoreResponseCode.toLowerCase()=='true'){this.browserbot.ignoreResponseCode=true;}else{this.browserbot.ignoreResponseCode=false;}this.browserbot.openLocation(url);if(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition();}// in PI mode, just return \"OK\"; the server will waitForLoad\n};Selenium.prototype.doOpenWindow=function(url,windowID){/**\n   * Opens a popup window (if a window with that ID isn't already open).\n   * After opening the window, you'll need to select it using the selectWindow\n   * command.\n   *\n   * <p>This command can also be a useful workaround for bug SEL-339.  In some cases, Selenium will be unable to intercept a call to window.open (if the call occurs during or before the \"onLoad\" event, for example).\n   * In those cases, you can force Selenium to notice the open window's name by using the Selenium openWindow command, using\n   * an empty (blank) url, like this: openWindow(\"\", \"myFunnyWindow\").</p>\n   *\n   * @param url the URL to open, which can be blank\n   * @param windowID the JavaScript window ID of the window to select\n   */this.browserbot.openWindow(url,windowID);};Selenium.prototype.doSelectWindow=function(windowID){/**\n   * Selects a popup window using a window locator; once a popup window has been selected, all\n   * commands go to that window. To select the main window again, use null\n   * as the target.\n   *\n   * <p>\n   *\n   * Window locators provide different ways of specifying the window object:\n   * by title, by internal JavaScript \"name,\" or by JavaScript variable.\n   * </p>\n   * <ul>\n   * <li><strong>title</strong>=<em>My Special Window</em>:\n   * Finds the window using the text that appears in the title bar.  Be careful;\n   * two windows can share the same title.  If that happens, this locator will\n   * just pick one.\n   * </li>\n   * <li><strong>name</strong>=<em>myWindow</em>:\n   * Finds the window using its internal JavaScript \"name\" property.  This is the second\n   * parameter \"windowName\" passed to the JavaScript method window.open(url, windowName, windowFeatures, replaceFlag)\n   * (which Selenium intercepts).\n   * </li>\n   * <li><strong>var</strong>=<em>variableName</em>:\n   * Some pop-up windows are unnamed (anonymous), but are associated with a JavaScript variable name in the current\n   * application window, e.g. \"window.foo = window.open(url);\".  In those cases, you can open the window using\n   * \"var=foo\".\n   * </li>\n   * </ul>\n   * <p>\n   * If no window locator prefix is provided, we'll try to guess what you mean like this:</p>\n   * <p>1.) if windowID is null, (or the string \"null\") then it is assumed the user is referring to the original window instantiated by the browser).</p>\n   * <p>2.) if the value of the \"windowID\" parameter is a JavaScript variable name in the current application window, then it is assumed\n   * that this variable contains the return value from a call to the JavaScript window.open() method.</p>\n   * <p>3.) Otherwise, selenium looks in a hash it maintains that maps string names to window \"names\".</p>\n   * <p>4.) If <em>that</em> fails, we'll try looping over all of the known windows to try to find the appropriate \"title\".\n   * Since \"title\" is not necessarily unique, this may have unexpected behavior.</p>\n   *\n   * <p>If you're having trouble figuring out the name of a window that you want to manipulate, look at the Selenium log messages\n   * which identify the names of windows created via window.open (and therefore intercepted by Selenium).  You will see messages\n   * like the following for each window as it is opened:</p>\n   *\n   * <p><code>debug: window.open call intercepted; window ID (which you can use with selectWindow()) is \"myNewWindow\"</code></p>\n   *\n   * <p>In some cases, Selenium will be unable to intercept a call to window.open (if the call occurs during or before the \"onLoad\" event, for example).\n   * (This is bug SEL-339.)  In those cases, you can force Selenium to notice the open window's name by using the Selenium openWindow command, using\n   * an empty (blank) url, like this: openWindow(\"\", \"myFunnyWindow\").</p>\n   *\n   * @param windowID the JavaScript window ID of the window to select\n   */this.browserbot.selectWindow(windowID);};Selenium.prototype.doSelectPopUp=function(windowID){/**\n   * Simplifies the process of selecting a popup window (and does not offer\n   * functionality beyond what <code>selectWindow()</code> already provides).\n   * <ul>\n   * <li>If <code>windowID</code> is either not specified, or specified as\n   * \"null\", the first non-top window is selected. The top window is the one\n   * that would be selected by <code>selectWindow()</code> without providing a\n   * <code>windowID</code> . This should not be used when more than one popup\n   * window is in play.</li>\n   * <li>Otherwise, the window will be looked up considering\n   * <code>windowID</code> as the following in order: 1) the \"name\" of the\n   * window, as specified to <code>window.open()</code>; 2) a javascript\n   * variable which is a reference to a window; and 3) the title of the\n   * window. This is the same ordered lookup performed by\n   * <code>selectWindow</code> .</li>\n   * </ul>\n   *\n   * @param windowID  an identifier for the popup window, which can take on a\n   *                  number of different meanings\n   */this.browserbot.selectPopUp(windowID);};Selenium.prototype.doDeselectPopUp=function(){/**\n   * Selects the main window. Functionally equivalent to using\n   * <code>selectWindow()</code> and specifying no value for\n   * <code>windowID</code>.\n   */this.browserbot.selectWindow();};Selenium.prototype.doSelectFrame=function(locator){/**\n   * Selects a frame within the current window.  (You may invoke this command\n   * multiple times to select nested frames.)  To select the parent frame, use\n   * \"relative=parent\" as a locator; to select the top frame, use \"relative=top\".\n   * You can also select a frame by its 0-based index number; select the first frame with\n   * \"index=0\", or the third frame with \"index=2\".\n   *\n   * <p>You may also use a DOM expression to identify the frame you want directly,\n   * like this: <code>dom=frames[\"main\"].frames[\"subframe\"]</code></p>\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a frame or iframe\n   */this.browserbot.selectFrame(locator);};Selenium.prototype.getWhetherThisFrameMatchFrameExpression=function(currentFrameString,target){/**\n   * Determine whether current/locator identify the frame containing this running code.\n   *\n   * <p>This is useful in proxy injection mode, where this code runs in every\n   * browser frame and window, and sometimes the selenium server needs to identify\n   * the \"current\" frame.  In this case, when the test calls selectFrame, this\n   * routine is called for each frame to figure out which one has been selected.\n   * The selected frame will return true, while all others will return false.</p>\n   *\n   * @param currentFrameString starting frame\n   * @param target new frame (which might be relative to the current one)\n   * @return boolean true if the new frame is this code's window\n   */return this.browserbot.doesThisFrameMatchFrameExpression(currentFrameString,target);};Selenium.prototype.getWhetherThisWindowMatchWindowExpression=function(_currentWindowString,target){/**\n   * Determine whether currentWindowString plus target identify the window containing this running code.\n   *\n   * <p>This is useful in proxy injection mode, where this code runs in every\n   * browser frame and window, and sometimes the selenium server needs to identify\n   * the \"current\" window.  In this case, when the test calls selectWindow, this\n   * routine is called for each window to figure out which one has been selected.\n   * The selected window will return true, while all others will return false.</p>\n   *\n   * @param currentWindowString starting window\n   * @param target new window (which might be relative to the current one, e.g., \"_parent\")\n   * @return boolean true if the new window is this code's window\n   */if(window.opener!=null&&window.opener[target]!=null&&window.opener[target]==window){return true;}return false;};Selenium.prototype.doWaitForPopUp=function(windowID,timeout){/**\n   * Waits for a popup window to appear and load up.\n   *\n   * @param windowID the JavaScript window \"name\" of the window that will appear (not the text of the title bar)\n   *                 If unspecified, or specified as \"null\", this command will\n   *                 wait for the first non-top window to appear (don't rely\n   *                 on this if you are working with multiple popups\n   *                 simultaneously).\n   * @param timeout a timeout in milliseconds, after which the action will return with an error.\n   *                If this value is not specified, the default Selenium\n   *                timeout will be used. See the setTimeout() command.\n   */if(!timeout){timeout=this.defaultTimeout;}var timeoutTime=(0,_utils.getTimeoutTime)(timeout);var popupLoadedPredicate=function popupLoadedPredicate(){var targetWindow=void 0;try{if(windowID&&windowID!='null'){targetWindow=_commandsApi.selenium.browserbot.getWindowByName(windowID,true);}else{var names=_commandsApi.selenium.browserbot.getNonTopWindowNames();targetWindow=_commandsApi.selenium.browserbot.getWindowByName(names[0],true);}}catch(e){if(new Date().getTime()>timeoutTime){throw e;}}if(!targetWindow)return false;try{if(!targetWindow.location)return false;if('about:blank'==targetWindow.location)return false;}catch(e){//LOG.debug(\"Location exception (\" + e.message + \")!\");\nreturn false;}if(_seleniumBrowserbot.browserVersion.isKonqueror){if('/'==targetWindow.location.href){// apparently Konqueror uses this as the temporary location, instead of about:blank\nreturn false;}}if(_seleniumBrowserbot.browserVersion.isSafari){if(targetWindow.location.href==_commandsApi.selenium.browserbot.buttonWindow.location.href){// Apparently Safari uses this as the temporary location, instead of about:blank\n// what a world!\n//LOG.debug(\"DGF what a world!\");\nreturn false;}}if(!targetWindow.document)return false;if(!_commandsApi.selenium.browserbot.getCurrentWindow().document.readyState){// This is Firefox, with no readyState extension\nreturn true;}if('complete'!=targetWindow.document.readyState)return false;return true;};return Selenium.decorateFunctionWithTimeout(popupLoadedPredicate,timeout);};Selenium.prototype.doWaitForPopUp.dontCheckAlertsAndConfirms=true;//Selenium.prototype.doChooseCancelOnNextConfirmation = function() {\n/**\n * <p>\n * By default, Selenium's overridden window.confirm() function will\n * return true, as if the user had manually clicked OK; after running\n * this command, the next call to confirm() will return false, as if\n * the user had clicked Cancel.  Selenium will then resume using the\n * default behavior for future confirmations, automatically returning\n * true (OK) unless/until you explicitly call this command for each\n * confirmation.\n * </p>\n * <p>\n * Take note - every time a confirmation comes up, you must\n * consume it with a corresponding getConfirmation, or else\n * the next selenium operation will fail.\n * </p>\n *///this.browserbot.cancelNextConfirmation(false);\n//};\n//Selenium.prototype.doChooseOkOnNextConfirmation = function() {\n/**\n * <p>\n * Undo the effect of calling chooseCancelOnNextConfirmation.  Note\n * that Selenium's overridden window.confirm() function will normally automatically\n * return true, as if the user had manually clicked OK, so you shouldn't\n * need to use this command unless for some reason you need to change\n * your mind prior to the next confirmation.  After any confirmation, Selenium will resume using the\n * default behavior for future confirmations, automatically returning\n * true (OK) unless/until you explicitly call chooseCancelOnNextConfirmation for each\n * confirmation.\n * </p>\n * <p>\n * Take note - every time a confirmation comes up, you must\n * consume it with a corresponding getConfirmation, or else\n * the next selenium operation will fail.\n * </p>\n *\n *///this.browserbot.cancelNextConfirmation(true);\n//};\n//Selenium.prototype.doAnswerOnNextPrompt = function(answer) {\n/**\n * Instructs Selenium to return the specified answer string in response to\n * the next JavaScript prompt [window.prompt()].\n *\n *\n * @param answer the answer to give in response to the prompt pop-up\n *///this.browserbot.setNextPromptResult(answer);\n//};\nSelenium.prototype.doGoBack=function(){/**\n   * Simulates the user clicking the \"back\" button on their browser.\n   *\n   */this.browserbot.goBack();};Selenium.prototype.doRefresh=function(){/**\n   * Simulates the user clicking the \"Refresh\" button on their browser.\n   *\n   */this.browserbot.refresh();};Selenium.prototype.doClose=function(){/**\n   * Simulates the user clicking the \"close\" button in the titlebar of a popup\n   * window or tab.\n   */this.browserbot.close();};Selenium.prototype.ensureNoUnhandledPopups=function(){if(this.browserbot.hasAlerts()){throw new _SeleniumError2.default('There was an unexpected Alert! ['+this.browserbot.getNextAlert()+']');}if(this.browserbot.hasConfirmations()){throw new _SeleniumError2.default('There was an unexpected Confirmation! ['+this.browserbot.getNextConfirmation()+']');}};Selenium.prototype.isAlertPresent=function(){/**\n   * Has an alert occurred?\n   *\n   * <p>\n   * This function never throws an exception\n   * </p>\n   * @return boolean true if there is an alert\n   */return this.browserbot.hasAlerts();};Selenium.prototype.isPromptPresent=function(){/**\n   * Has a prompt occurred?\n   *\n   * <p>\n   * This function never throws an exception\n   * </p>\n   * @return boolean true if there is a pending prompt\n   */return this.browserbot.hasPrompts();};Selenium.prototype.isConfirmationPresent=function(){/**\n   * Has confirm() been called?\n   *\n   * <p>\n   * This function never throws an exception\n   * </p>\n   * @return boolean true if there is a pending confirmation\n   */return this.browserbot.hasConfirmations();};Selenium.prototype.getAlert=function(){/**\n     * Retrieves the message of a JavaScript alert generated during the previous action, or fail if there were no alerts.\n     *\n     * <p>Getting an alert has the same effect as manually clicking OK. If an\n     * alert is generated but you do not consume it with getAlert, the next Selenium action\n     * will fail.</p>\n     *\n     * <p>Under Selenium, JavaScript alerts will NOT pop up a visible alert\n     * dialog.</p>\n     *\n     * <p>Selenium does NOT support JavaScript alerts that are generated in a\n     * page's onload() event handler. In this case a visible dialog WILL be\n     * generated and Selenium will hang until someone manually clicks OK.</p>\n     * @return string The message of the most recent JavaScript alert\n\n     */if(!this.browserbot.hasAlerts()){Assert.fail('There were no alerts');// eslint-disable-line no-undef\n}return this.browserbot.getNextAlert();};Selenium.prototype.getAlert.dontCheckAlertsAndConfirms=true;Selenium.prototype.getConfirmation=function(){/**\n   * Retrieves the message of a JavaScript confirmation dialog generated during\n   * the previous action.\n   *\n   * <p>\n   * By default, the confirm function will return true, having the same effect\n   * as manually clicking OK. This can be changed by prior execution of the\n   * chooseCancelOnNextConfirmation command.\n   * </p>\n   * <p>\n   * If an confirmation is generated but you do not consume it with getConfirmation,\n   * the next Selenium action will fail.\n   * </p>\n   *\n   * <p>\n   * NOTE: under Selenium, JavaScript confirmations will NOT pop up a visible\n   * dialog.\n   * </p>\n   *\n   * <p>\n   * NOTE: Selenium does NOT support JavaScript confirmations that are\n   * generated in a page's onload() event handler. In this case a visible\n   * dialog WILL be generated and Selenium will hang until you manually click\n   * OK.\n   * </p>\n   *\n   * @return string the message of the most recent JavaScript confirmation dialog\n   */if(!this.browserbot.hasConfirmations()){Assert.fail('There were no confirmations');// eslint-disable-line no-undef\n}return this.browserbot.getNextConfirmation();};Selenium.prototype.getConfirmation.dontCheckAlertsAndConfirms=true;Selenium.prototype.getPrompt=function(){/**\n   * Retrieves the message of a JavaScript question prompt dialog generated during\n   * the previous action.\n   *\n   * <p>Successful handling of the prompt requires prior execution of the\n   * answerOnNextPrompt command. If a prompt is generated but you\n   * do not get/verify it, the next Selenium action will fail.</p>\n   *\n   * <p>NOTE: under Selenium, JavaScript prompts will NOT pop up a visible\n   * dialog.</p>\n   *\n   * <p>NOTE: Selenium does NOT support JavaScript prompts that are generated in a\n   * page's onload() event handler. In this case a visible dialog WILL be\n   * generated and Selenium will hang until someone manually clicks OK.</p>\n   * @return string the message of the most recent JavaScript question prompt\n   */if(!this.browserbot.hasPrompts()){Assert.fail('There were no prompts');// eslint-disable-line no-undef\n}return this.browserbot.getNextPrompt();};Selenium.prototype.getLocation=function(){/** Gets the absolute URL of the current page.\n   *\n   * @return string the absolute URL of the current page\n   */return this.browserbot.getCurrentWindow().location.href;};Selenium.prototype.getTitle=function(){/** Gets the title of the current page.\n   *\n   * @return string the title of the current page\n   */return this.browserbot.getTitle();};Selenium.prototype.getBodyText=function(){/**\n   * Gets the entire text of the page.\n   * @return string the entire text of the page\n   */return this.browserbot.bodyText();};Selenium.prototype.getValue=function(locator){/**\n   * Gets the (whitespace-trimmed) value of an input field (or anything else with a value parameter).\n   * For checkbox/radio elements, the value will be \"on\" or \"off\" depending on\n   * whether the element is checked or not.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return string the element value, or \"on/off\" for checkbox/radio elements\n   */var element=this.browserbot.findElement(locator);return element.value.trim();};Selenium.prototype.getText=function(locator){/**\n   * Gets the text of an element. This works for any element that contains\n   * text. This command uses either the textContent (Mozilla-like browsers) or\n   * the innerText (IE-like browsers) of the element, which is the rendered\n   * text shown to the user.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return string the text of the element\n   */var element=this.browserbot.findElement(locator);return _closurePolyfill.bot.dom.getVisibleText(element);};Selenium.prototype.getEval=function(script){/** Gets the result of evaluating the specified JavaScript snippet.  The snippet may\n   * have multiple lines, but only the result of the last line will be returned.\n   *\n   * <p>Note that, by default, the snippet will run in the context of the \"selenium\"\n   * object itself, so <code>this</code> will refer to the Selenium object.  Use <code>window</code> to\n   * refer to the window of your application, e.g. <code>window.document.getElementById('foo')</code></p>\n   *\n   * <p>If you need to use\n   * a locator to refer to a single element in your application page, you can\n   * use <code>this.browserbot.findElement(\"id=foo\")</code> where \"id=foo\" is your locator.</p>\n   *\n   * @param script the JavaScript snippet to run\n   * @return string the results of evaluating the snippet\n   */try{//LOG.info('script is: ' + script);\nvar result=this.eval(script);// Selenium RC doesn't allow returning null\nif(null==result)return'null';return result;}catch(e){throw new _SeleniumError2.default('Threw an exception: '+(0,_utils.extractExceptionMessage)(e));}};Selenium.prototype.isChecked=function(locator){/**\n   * Gets whether a toggle-button (checkbox/radio) is checked.  Fails if the specified element doesn't exist or isn't a toggle-button.\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to a checkbox or radio button\n   * @return boolean true if the checkbox is checked, false otherwise\n   */var element=this.browserbot.findElement(locator);if(element.checked==null){throw new _SeleniumError2.default('Element '+locator+' is not a toggle-button.');}return element.checked;};Selenium.prototype.getTable=function(tableCellAddress){/**\n   * Gets the text from a cell of a table. The cellAddress syntax\n   * tableLocator.row.column, where row and column start at 0.\n   *\n   * @param tableCellAddress a cell address, e.g. \"foo.1.4\"\n   * @return string the text from the specified cell\n   */// This regular expression matches \"tableName.row.column\"\n// For example, \"mytable.3.4\"\nvar pattern=/(.*)\\.(\\d+)\\.(\\d+)/;if(!pattern.test(tableCellAddress)){throw new _SeleniumError2.default('Invalid target format. Correct format is tableName.rowNum.columnNum');}var pieces=tableCellAddress.match(pattern);var tableName=pieces[1];var row=pieces[2];var col=pieces[3];var table=this.browserbot.findElement(tableName);if(row>table.rows.length){// eslint-disable-next-line no-undef\nAssert.fail('Cannot access row '+row+' - table has '+table.rows.length+' rows');}else if(col>table.rows[row].cells.length){// eslint-disable-next-line no-undef\nAssert.fail('Cannot access column '+col+' - table row has '+table.rows[row].cells.length+' columns');}else{var actualContent=_closurePolyfill.bot.dom.getVisibleText(table.rows[row].cells[col]);return actualContent.trim();}return null;};Selenium.prototype.getSelectedLabels=function(selectLocator){/** Gets all option labels (visible text) for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option labels in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'text');};Selenium.prototype.getSelectedLabel=function(selectLocator){/** Gets option label (visible text) for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option label in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'text');};Selenium.prototype.getSelectedValues=function(selectLocator){/** Gets all option values (value attributes) for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option values in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'value');};Selenium.prototype.getSelectedValue=function(selectLocator){/** Gets option value (value attribute) for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option value in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'value');};Selenium.prototype.getSelectedIndexes=function(selectLocator){/** Gets all option indexes (option number, starting at 0) for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option indexes in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'index');};Selenium.prototype.getSelectedIndex=function(selectLocator){/** Gets option index (option number, starting at 0) for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option index in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'index');};Selenium.prototype.getSelectedIds=function(selectLocator){/** Gets all option element IDs for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option IDs in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'id');};Selenium.prototype.getSelectedId=function(selectLocator){/** Gets option element ID for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option ID in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'id');};Selenium.prototype.isSomethingSelected=function(selectLocator){/** Determines whether some option in a drop-down menu is selected.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return boolean true if some option has been selected, false otherwise\n   */var element=this.browserbot.findElement(selectLocator);if(!('options'in element)){throw new _SeleniumError2.default('Specified element is not a Select (has no options)');}for(var i=0;i<element.options.length;i++){if(element.options[i].selected){return true;}}return false;};Selenium.prototype.findSelectedOptionProperties=function(locator,property){var element=this.browserbot.findElement(locator);if(!('options'in element)){throw new _SeleniumError2.default('Specified element is not a Select (has no options)');}var selectedOptions=[];for(var i=0;i<element.options.length;i++){if(element.options[i].selected){var propVal=element.options[i][property];selectedOptions.push(propVal);}}if(selectedOptions.length==0)Assert.fail('No option selected');// eslint-disable-line no-undef\nreturn selectedOptions;};Selenium.prototype.findSelectedOptionProperty=function(locator,property){var selectedOptions=this.findSelectedOptionProperties(locator,property);if(selectedOptions.length>1){Assert.fail('More than one selected option!');// eslint-disable-line no-undef\n}return selectedOptions[0];};Selenium.prototype.getSelectOptions=function(selectLocator){/** Gets all option labels in the specified select drop-down.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all option labels in the specified select drop-down\n   */var element=this.browserbot.findElement(selectLocator);var selectOptions=[];for(var i=0;i<element.options.length;i++){var option=element.options[i].text;selectOptions.push(option);}return selectOptions;};Selenium.prototype.getAttribute=function(attributeLocator){/**\n   * Gets the value of an element attribute. The value of the attribute may\n   * differ across browsers (this is the case for the \"style\" attribute, for\n   * example).\n   *\n   * @param attributeLocator an element locator followed by an &#064; sign and then the name of the attribute, e.g. \"foo&#064;bar\"\n   * @return string the value of the specified attribute\n   */var result=this.browserbot.findAttribute(attributeLocator);if(result==null){throw new _SeleniumError2.default('Could not find element attribute: '+attributeLocator);}return result;};Selenium.prototype.isTextPresent=function(pattern){/**\n   * Verifies that the specified text pattern appears somewhere on the rendered page shown to the user.\n   * @param pattern a <a href=\"#patterns\">pattern</a> to match with the text of the page\n   * @return boolean true if the pattern matches the text, false otherwise\n   */var allText=this.browserbot.bodyText();var patternMatcher=new _PatternMatcher2.default(pattern);if(patternMatcher.strategy==_PatternMatcher2.default.strategies.glob){if(pattern.indexOf('glob:')==0){pattern=pattern.substring('glob:'.length);// strip off \"glob:\"\n}patternMatcher.matcher=new _PatternMatcher2.default.strategies.globContains(pattern);}else if(patternMatcher.strategy==_PatternMatcher2.default.strategies.exact){pattern=pattern.substring('exact:'.length);// strip off \"exact:\"\nreturn allText.indexOf(pattern)!=-1;}return patternMatcher.matches(allText);};function isElementNotPresent(locator){return!this.isElementPresent(locator);}Selenium.prototype.isElementPresent=function(locator){/**\n   * Verifies that the specified element is somewhere on the page.\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return boolean true if the element is present, false otherwise\n   */var element=this.browserbot.findElementOrNull(locator);if(element==null){return false;}return true;};function unableToLocateTargetElementError(){throw new Error('Unable to locate target element.');}function isNotDisplayed(locator){try{return!this.isVisible(locator);}catch(error){unableToLocateTargetElementError();}}function isDisplayed(locator){try{return this.isVisible(locator);}catch(error){return false;}}Selenium.prototype.isVisible=function(locator){/**\n   * Determines if the specified element is visible. An\n   * element can be rendered invisible by setting the CSS \"visibility\"\n   * property to \"hidden\", or the \"display\" property to \"none\", either for the\n   * element itself or one if its ancestors.  This method will fail if\n   * the element is not present.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return boolean true if the specified element is visible, false otherwise\n   */var element=void 0;element=this.browserbot.findElement(locator);// DGF if it's an input tag of type \"hidden\" then it's not visible\nif(element.tagName){var tagName=new String(element.tagName).toLowerCase();if(tagName=='input'){if(element.type){var elementType=new String(element.type).toLowerCase();if(elementType=='hidden'){return false;}}}}var visibility=this.findEffectiveStyleProperty(element,'visibility');var _isDisplayed=this._isDisplayed(element);return visibility!='hidden'&&_isDisplayed;};Selenium.prototype.findEffectiveStyleProperty=function(element,property){var effectiveStyle=this.findEffectiveStyle(element);var propertyValue=effectiveStyle[property];if(propertyValue=='inherit'&&element.parentNode.style){return this.findEffectiveStyleProperty(element.parentNode,property);}return propertyValue;};Selenium.prototype._isDisplayed=function(element){var display=this.findEffectiveStyleProperty(element,'display');if(display=='none')return false;if(element.parentNode.style){return this._isDisplayed(element.parentNode);}return true;};Selenium.prototype.findEffectiveStyle=function(element){if(element.style==undefined){return undefined;// not a styled element\n}var window=this.browserbot.getCurrentWindow();if(window.getComputedStyle){// DOM-Level-2-CSS\nreturn window.getComputedStyle(element,null);}if(element.currentStyle){// non-standard IE alternative\nreturn element.currentStyle;// TODO: this won't really work in a general sense, as\n//   currentStyle is not identical to getComputedStyle()\n//   ... but it's good enough for \"visibility\"\n}if(window.document.defaultView&&window.document.defaultView.getComputedStyle){return window.document.defaultView.getComputedStyle(element,null);}throw new _SeleniumError2.default('cannot determine effective stylesheet in this browser');};function isEditable(locator){try{return this.isEditable(locator);}catch(error){unableToLocateTargetElementError();}}function isNotEditable(locator){try{return!this.isEditable(locator);}catch(error){unableToLocateTargetElementError();}}Selenium.prototype.isEditable=function(locator){/**\n   * Determines whether the specified input element is editable, ie hasn't been disabled.\n   * This method will fail if the specified element isn't an input element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return boolean true if the input element is editable, false otherwise\n   */var element=this.browserbot.findElement(locator);if(element.value==undefined){Assert.fail('Element '+locator+' is not an input.');// eslint-disable-line no-undef\n}if(element.disabled){return false;}// DGF \"readonly\" is a bit goofy... it doesn't necessarily have a value\n// You can write <input readonly value=\"black\">\nvar readOnlyNode=element.getAttributeNode('readonly');if(readOnlyNode){// DGF on IE, every input element has a readOnly node, but it may be false\nif(typeof readOnlyNode.nodeValue=='boolean'){var readOnly=readOnlyNode.nodeValue;if(readOnly){return false;}}else{return false;}}return true;};Selenium.prototype.getAllButtons=function(){/** Returns the IDs of all buttons on the page.\n   *\n   * <p>If a given button has no ID, it will appear as \"\" in this array.</p>\n   *\n   * @return string[] the IDs of all buttons on the page\n   */return this.browserbot.getAllButtons();};Selenium.prototype.getAllLinks=function(){/** Returns the IDs of all links on the page.\n   *\n   * <p>If a given link has no ID, it will appear as \"\" in this array.</p>\n   *\n   * @return string[] the IDs of all links on the page\n   */return this.browserbot.getAllLinks();};Selenium.prototype.getAllFields=function(){/** Returns the IDs of all input fields on the page.\n   *\n   * <p>If a given field has no ID, it will appear as \"\" in this array.</p>\n   *\n   * @return string[] the IDs of all field on the page\n   */return this.browserbot.getAllFields();};Selenium.prototype.doSetMouseSpeed=function(pixels){/** Configure the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10).\n   * <p>Setting this value to 0 means that we'll send a \"mousemove\" event to every single pixel\n   * in between the start location and the end location; that can be very slow, and may\n   * cause some browsers to force the JavaScript to timeout.</p>\n   *\n   * <p>If the mouse speed is greater than the distance between the two dragged objects, we'll\n   * just send one \"mousemove\" at the start location and then one final one at the end location.</p>\n   * @param pixels the number of pixels between \"mousemove\" events\n   */var intValue=new Number(pixels);if(intValue.constructor!=Number||intValue<0){this.mouseSpeed=Selenium.DEFAULT_MOUSE_SPEED;}else{this.mouseSpeed=pixels;}};Selenium.prototype.getMouseSpeed=function(){/** Returns the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10).\n   *\n   * @return number the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10)\n   */return this.mouseSpeed;};Selenium.prototype.doDragAndDrop=function(locator,movementsString){/** Drags an element a certain distance and then drops it\n   * @param locator an element locator\n   * @param movementsString offset in pixels from the current location to which the element should be moved, e.g., \"+70,-300\"\n   */var element=this.browserbot.findElement(locator);var clientStartXY=getClientXY(element);var clientStartX=clientStartXY[0];var clientStartY=clientStartXY[1];var movements=movementsString.split(/,/);var movementX=Number(movements[0]);var movementY=Number(movements[1]);var clientFinishX=clientStartX+movementX<0?0:clientStartX+movementX;var clientFinishY=clientStartY+movementY<0?0:clientStartY+movementY;var mouseSpeed=this.mouseSpeed;var move=function move(current,dest){if(current==dest)return current;if(Math.abs(current-dest)<mouseSpeed)return dest;return current<dest?current+mouseSpeed:current-mouseSpeed;};this.browserbot.triggerMouseEvent(element,'mousedown',true,clientStartX,clientStartY);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientStartX,clientStartY);var clientX=clientStartX;var clientY=clientStartY;while(clientX!=clientFinishX||clientY!=clientFinishY){clientX=move(clientX,clientFinishX);clientY=move(clientY,clientFinishY);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientX,clientY);}this.browserbot.triggerMouseEvent(element,'mousemove',true,clientFinishX,clientFinishY);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientFinishX,clientFinishY);};Selenium.prototype.doDragAndDropToObject=function(locatorOfObjectToBeDragged,locatorOfDragDestinationObject){/** Drags an element and drops it on another element\n   *\n   * @param locatorOfObjectToBeDragged an element to be dragged\n   * @param locatorOfDragDestinationObject an element whose location (i.e., whose center-most pixel) will be the point where locatorOfObjectToBeDragged  is dropped\n   */if(!this.browserbot.findElement(locatorOfObjectToBeDragged).draggable){//origin code\nvar startX=this.getElementPositionLeft(locatorOfObjectToBeDragged);var startY=this.getElementPositionTop(locatorOfObjectToBeDragged);var destinationLeftX=this.getElementPositionLeft(locatorOfDragDestinationObject);var destinationTopY=this.getElementPositionTop(locatorOfDragDestinationObject);var destinationWidth=this.getElementWidth(locatorOfDragDestinationObject);var destinationHeight=this.getElementHeight(locatorOfDragDestinationObject);var endX=Math.round(destinationLeftX+destinationWidth/2);var endY=Math.round(destinationTopY+destinationHeight/2);var deltaX=endX-startX;var deltaY=endY-startY;var movementsString=''+deltaX+','+deltaY;this.doDragAndDrop(locatorOfObjectToBeDragged,movementsString);}else{//DragAndDropExt, Shuo-Heng Shih, SELAB, CSIE, NCKU, 2016/09/29\nvar element=this.browserbot.findElement(locatorOfObjectToBeDragged);var target=this.browserbot.findElement(locatorOfDragDestinationObject);this.browserbot.triggerDragEvent(element,target);}};Selenium.prototype.doWindowFocus=function(){/** Gives focus to the currently selected window\n   *\n   */this.browserbot.getCurrentWindow().focus();};Selenium.prototype.doWindowMaximize=function(){/** Resize currently selected window to take up the entire screen\n   *\n   */var window=this.browserbot.getCurrentWindow();if(window!=null&&window.screen){window.moveTo(0,0);// It appears Firefox on Mac won't move a window to (0,0).  But, you can move it to (0,1), which\n// seems to do basically the same thing.  In my (KJM - 6/20/10) tests, anything less than (0, 22)\n// pushed the browser to (0,0), so it seems it's improperly accounting for something in the browser chrome.\nif(window.screenX!=0){window.moveTo(0,1);}window.resizeTo(screen.availWidth,screen.availHeight);}};Selenium.prototype.getHtmlSource=function(){/** Returns the entire HTML source between the opening and\n   * closing \"html\" tags.\n   *\n   * @return string the entire HTML source\n   */return this.browserbot.getDocument().getElementsByTagName('html')[0].innerHTML;};Selenium.prototype.doSetCursorPosition=function(locator,position){/**\n   * Moves the text cursor to the specified position in the given input element or textarea.\n   * This method will fail if the specified element isn't an input element or textarea.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an input element or textarea\n   * @param position the numerical position of the cursor in the field; position should be 0 to move the position to the beginning of the field.  You can also set the cursor to -1 to move it to the end of the field.\n   */var element=this.browserbot.findElement(locator);if(element.value==undefined){Assert.fail('Element '+locator+' is not an input.');// eslint-disable-line no-undef\n}if(position==-1){position=element.value.length;}if(element.setSelectionRange&&!_seleniumBrowserbot.browserVersion.isOpera){element.focus();element.setSelectionRange(/*start*/position,/*end*/position);}else if(element.createTextRange){_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);var range=element.createTextRange();range.collapse(true);range.moveEnd('character',position);range.moveStart('character',position);range.select();}};Selenium.prototype.getElementIndex=function(locator){/**\n   * Get the relative index of an element to its parent (starting from 0). The comment node and empty text node\n   * will be ignored.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @return number of relative index of the element to its parent (starting from 0)\n   */var element=this.browserbot.findElement(locator);var previousSibling=void 0;var index=0;while((previousSibling=element.previousSibling)!=null){if(!this._isCommentOrEmptyTextNode(previousSibling)){index++;}element=previousSibling;}return index;};Selenium.prototype.isOrdered=function(locator1,locator2){/**\n   * Check if these two elements have same parent and are ordered siblings in the DOM. Two same elements will\n   * not be considered ordered.\n   *\n   * @param locator1 an <a href=\"#locators\">element locator</a> pointing to the first element\n   * @param locator2 an <a href=\"#locators\">element locator</a> pointing to the second element\n   * @return boolean true if element1 is the previous sibling of element2, false otherwise\n   */var element1=this.browserbot.findElement(locator1);var element2=this.browserbot.findElement(locator2);if(element1===element2)return false;var previousSibling=void 0;while((previousSibling=element2.previousSibling)!=null){if(previousSibling===element1){return true;}element2=previousSibling;}return false;};Selenium.prototype._isCommentOrEmptyTextNode=function(node){return node.nodeType==8||node.nodeType==3&&!/[^\\t\\n\\r ]/.test(node.data);};Selenium.prototype.getElementPositionLeft=function(locator){/**\n   * Retrieves the horizontal position of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element OR an element itself\n   * @return number of pixels from the edge of the frame.\n   */var element=void 0;if('string'==typeof locator){element=this.browserbot.findElement(locator);}else{element=locator;}var x=element.offsetLeft;var elementParent=element.offsetParent;while(elementParent!=null){if(document.all){if(elementParent.tagName!='TABLE'&&elementParent.tagName!='BODY'){x+=elementParent.clientLeft;}}// Netscape/DOM\nelse{if(elementParent.tagName=='TABLE'){var parentBorder=parseInt(elementParent.border);if(isNaN(parentBorder)){var parentFrame=elementParent.getAttribute('frame');if(parentFrame!=null){x+=1;}}else if(parentBorder>0){x+=parentBorder;}}}x+=elementParent.offsetLeft;elementParent=elementParent.offsetParent;}return x;};Selenium.prototype.getElementPositionTop=function(locator){/**\n   * Retrieves the vertical position of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element OR an element itself\n   * @return number of pixels from the edge of the frame.\n   */var element=void 0;if('string'==typeof locator){element=this.browserbot.findElement(locator);}else{element=locator;}var y=0;while(element!=null){if(document.all){if(element.tagName!='TABLE'&&element.tagName!='BODY'){y+=element.clientTop;}}// Netscape/DOM\nelse{if(element.tagName=='TABLE'){var parentBorder=parseInt(element.border);if(isNaN(parentBorder)){var parentFrame=element.getAttribute('frame');if(parentFrame!=null){y+=1;}}else if(parentBorder>0){y+=parentBorder;}}}y+=element.offsetTop;// Netscape can get confused in some cases, such that the height of the parent is smaller\n// than that of the element (which it shouldn't really be). If this is the case, we need to\n// exclude this element, since it will result in too large a 'top' return value.\nif(element.offsetParent&&element.offsetParent.offsetHeight&&element.offsetParent.offsetHeight<element.offsetHeight){// skip the parent that's too small\nelement=element.offsetParent.offsetParent;}else{// Next up...\nelement=element.offsetParent;}}return y;};Selenium.prototype.getElementWidth=function(locator){/**\n   * Retrieves the width of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @return number width of an element in pixels\n   */var element=this.browserbot.findElement(locator);return element.offsetWidth;};Selenium.prototype.getElementHeight=function(locator){/**\n   * Retrieves the height of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @return number height of an element in pixels\n   */var element=this.browserbot.findElement(locator);return element.offsetHeight;};Selenium.prototype.getCursorPosition=function(locator){/**\n   * Retrieves the text cursor position in the given input element or textarea; beware, this may not work perfectly on all browsers.\n   *\n   * <p>Specifically, if the cursor/selection has been cleared by JavaScript, this command will tend to\n   * return the position of the last location of the cursor, even though the cursor is now gone from the page.  This is filed as <a href=\"http://jira.openqa.org/browse/SEL-243\">SEL-243</a>.</p>\n   * This method will fail if the specified element isn't an input element or textarea, or there is no cursor in the element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an input element or textarea\n   * @return number the numerical position of the cursor in the field\n   */var element=this.browserbot.findElement(locator);var doc=this.browserbot.getDocument();var win=this.browserbot.getCurrentWindow();var elementRange=void 0;if(doc.selection&&!_seleniumBrowserbot.browserVersion.isOpera){try{var selectRange=doc.selection.createRange().duplicate();elementRange=element.createTextRange();selectRange.move('character',0);elementRange.move('character',0);elementRange.setEndPoint('EndToEnd',selectRange);}catch(e){Assert.fail('There is no cursor on this page!');// eslint-disable-line no-undef\n}var answer=String(elementRange.text).replace(/\\r/g,'').length;return answer;}else{if(typeof element.selectionStart!='undefined'){if(win.getSelection&&_typeof(win.getSelection().rangeCount)!=undefined&&win.getSelection().rangeCount==0){Assert.fail('There is no cursor on this page!');// eslint-disable-line no-undef\n}return element.selectionStart;}}throw new Error(\"Couldn't detect cursor position on this browser!\");};Selenium.prototype.getExpression=function(expression){/**\n   * Returns the specified expression.\n   *\n   * <p>This is useful because of JavaScript preprocessing.\n   * It is used to generate commands like assertExpression and waitForExpression.</p>\n   *\n   * @param expression the value to return\n   * @return string the value passed in\n   */return expression;};Selenium.prototype.getXpathCount=function(xpath){/**\n   * Returns the number of nodes that match the specified xpath, eg. \"//table\" would give\n   * the number of tables.\n   *\n   * @param xpath the xpath expression to evaluate. do NOT wrap this expression in a 'count()' function; we will do that for you.\n   * @return number the number of nodes that match the specified xpath\n   */var result=this.browserbot.evaluateXPathCount(xpath,this.browserbot.getDocument());return result;};Selenium.prototype.getCssCount=function(css){/**\n   * Returns the number of nodes that match the specified css selector, eg. \"css=table\" would give\n   * the number of tables.\n   *\n   * @param css the css selector to evaluate. do NOT wrap this expression in a 'count()' function; we will do that for you.\n   * @return the number of nodes that match the specified selector\n   */var result=this.browserbot.evaluateCssCount(css,this.browserbot.getDocument());return result;};Selenium.prototype.doAssignId=function(locator,identifier){/**\n   * Temporarily sets the \"id\" attribute of the specified element, so you can locate it in the future\n   * using its ID rather than a slow/complicated XPath.  This ID will disappear once the page is\n   * reloaded.\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @param identifier a string to be used as the ID of the specified element\n   */var element=this.browserbot.findElement(locator);element.id=identifier;};Selenium.prototype.doAllowNativeXpath=function(allow){/**\n   * Specifies whether Selenium should use the native in-browser implementation\n   * of XPath (if any native version is available); if you pass \"false\" to\n   * this function, we will always use our pure-JavaScript xpath library.\n   * Using the pure-JS xpath library can improve the consistency of xpath\n   * element locators between different browser vendors, but the pure-JS\n   * version is much slower than the native implementations.\n   * @param allow boolean, true means we'll prefer to use native XPath; false means we'll only use JS XPath\n   */if('false'==allow||'0'==allow){// The strings \"false\" and \"0\" are true values in JS\nallow=false;}this.browserbot.setAllowNativeXPath(allow);};Selenium.prototype.doIgnoreAttributesWithoutValue=function(ignore){/**\n   * Specifies whether Selenium will ignore xpath attributes that have no\n   * value, i.e. are the empty string, when using the non-native xpath\n   * evaluation engine. You'd want to do this for performance reasons in IE.\n   * However, this could break certain xpaths, for example an xpath that looks\n   * for an attribute whose value is NOT the empty string.\n   *\n   * The hope is that such xpaths are relatively rare, but the user should\n   * have the option of using them. Note that this only influences xpath\n   * evaluation when using the ajaxslt engine (i.e. not \"javascript-xpath\").\n   *\n   * @param ignore boolean, true means we'll ignore attributes without value\n   *                        at the expense of xpath \"correctness\"; false means\n   *                        we'll sacrifice speed for correctness.\n   */if('false'==ignore||'0'==ignore){ignore=false;}this.browserbot.setIgnoreAttributesWithoutValue(ignore);};Selenium.prototype.doWaitForCondition=function(script,timeout){/**\n   * Runs the specified JavaScript snippet repeatedly until it evaluates to \"true\".\n   * The snippet may have multiple lines, but only the result of the last line\n   * will be considered.\n   *\n   * <p>Note that, by default, the snippet will be run in the runner's test window, not in the window\n   * of your application.  To get the window of your application, you can use\n   * the JavaScript snippet <code>selenium.browserbot.getCurrentWindow()</code>, and then\n   * run your JavaScript in there</p>\n   * @param script the JavaScript snippet to run\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\n   */return Selenium.decorateFunctionWithTimeout(function(){return this.eval(script);},timeout);};Selenium.prototype.doWaitForCondition.dontCheckAlertsAndConfirms=true;Selenium.prototype.doSetTimeout=function(timeout){/**\n   * Specifies the amount of time that Selenium will wait for actions to complete.\n   *\n   * <p>Actions that require waiting include \"open\" and the \"waitFor*\" actions.</p>\n   * The default timeout is 30 seconds.\n   * @param timeout a timeout in milliseconds, after which the action will return with an error\n   */if(!timeout){timeout=Selenium.DEFAULT_TIMEOUT;}this.defaultTimeout=timeout;};Selenium.prototype.doWaitForPageToLoad=function(timeout){/**\n   * Waits for a new page to load.\n   *\n   * <p>You can use this command instead of the \"AndWait\" suffixes, \"clickAndWait\", \"selectAndWait\", \"typeAndWait\" etc.\n   * (which are only available in the JS API).</p>\n   *\n   * <p>Selenium constantly keeps track of new pages loading, and sets a \"newPageLoaded\"\n   * flag when it first notices a page load.  Running any other Selenium command after\n   * turns the flag to false.  Hence, if you want to wait for a page to load, you must\n   * wait immediately after a Selenium command that caused a page-load.</p>\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\n   */// in pi-mode, the test and the harness share the window; thus if we are executing this code, then we have loaded\nif(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition(timeout);}};Selenium.prototype.doWaitForFrameToLoad=function(_frameAddress,timeout){/**\n   * Waits for a new frame to load.\n   *\n   * <p>Selenium constantly keeps track of new pages and frames loading,\n   * and sets a \"newPageLoaded\" flag when it first notices a page load.</p>\n   *\n   * See waitForPageToLoad for more information.\n   *\n   * @param frameAddress FrameAddress from the server side\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\n   */// in pi-mode, the test and the harness share the window; thus if we are executing this code, then we have loaded\nif(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition(timeout);}};Selenium.prototype._isNewPageLoaded=function(){return this.browserbot.isNewPageLoaded();};Selenium.prototype._abortXhrRequest=function(){return this.browserbot.abortXhrRequest();};Selenium.prototype.doWaitForPageToLoad.dontCheckAlertsAndConfirms=true;/**\n * Evaluate a parameter, performing JavaScript evaluation and variable substitution.\n * If the string matches the pattern \"javascript{ ... }\", evaluate the string between the braces.\n */Selenium.prototype.preprocessParameter=function(value){if(!value.script){// only for non-scripts\nvar match=value.match(/^javascript\\{((.|\\r?\\n)+)\\}$/);if(match&&match[1]){_webextensionPolyfill2.default.runtime.sendMessage({log:{type:'warn',message:'parameter preprocessing using javascript{} tag is deprecated, please use execute script'}});var result=this.eval(match[1]);return result==null?null:result.toString();}}return value;};Selenium.prototype.replaceKeys=function(str){var keys=[];var match=str.match(/\\$\\{\\w+\\}/g);if(!match){keys.push(str);}else{var i=0;while(i<str.length){var currentKey=match.shift(),currentKeyIndex=str.indexOf(currentKey,i);if(currentKeyIndex>i){// push the string before the current key\nkeys.push(str.substr(i,currentKeyIndex-i));i=currentKeyIndex;}if(currentKey){if(/^\\$\\{KEY_\\w+\\}/.test(currentKey)){// is a key\nvar keyName=currentKey.match(/\\$\\{KEY_(\\w+)\\}/)[1];var key=_closurePolyfill.bot.Keyboard.Keys[keyName];if(key){keys.push(key);}else{throw new Error('Unrecognised key '+keyName);}}else{// not a key, and not a stored variable, push it as-is\nkeys.push(currentKey);}i+=currentKey.length;}else if(i<str.length){// push the rest of the string\nkeys.push(str.substr(i,str.length));i=str.length;}}}return keys;};Selenium.prototype.getCookie=function(){/**\n   * Return all cookies of the current page under test.\n   *\n   * @return string all cookies of the current page under test\n   */var doc=this.browserbot.getDocument();return doc.cookie;};Selenium.prototype.getCookieByName=function(name){/**\n   * Returns the value of the cookie with the specified name, or throws an error if the cookie is not present.\n   * @param name the name of the cookie\n   * @return string the value of the cookie\n   */var v=this.browserbot.getCookieByName(name);if(v===null){throw new _SeleniumError2.default(\"Cookie '\"+name+\"' was not found\");}return v;};Selenium.prototype.isCookiePresent=function(name){/**\n   * Returns true if a cookie with the specified name is present, or false otherwise.\n   * @param name the name of the cookie\n   * @return boolean true if a cookie with the specified name is present, or false otherwise.\n   */var v=this.browserbot.getCookieByName(name);var absent=v===null;return!absent;};Selenium.prototype.doCreateCookie=function(nameValuePair,optionsString){/**\n   * Create a new cookie whose path and domain are same with those of current page\n   * under test, unless you specified a path for this cookie explicitly.\n   *\n   * @param nameValuePair name and value of the cookie in a format \"name=value\"\n   * @param optionsString options for the cookie. Currently supported options include 'path', 'max_age' and 'domain'.\n   *      the optionsString's format is \"path=/path/, max_age=60, domain=.foo.com\". The order of options are irrelevant, the unit\n   *      of the value of 'max_age' is second.  Note that specifying a domain that isn't a subset of the current domain will\n   *      usually fail.\n   */// eslint-disable-next-line no-useless-escape\nvar results=/[^\\s=\\[\\]\\(\\),\"\\/\\?@:;]+=[^\\s=\\[\\]\\(\\),\"\\/\\?@:;]*/.test(nameValuePair);if(!results){throw new _SeleniumError2.default('Invalid parameter.');}var cookie=nameValuePair.trim();results=/max_age=(\\d+)/.exec(optionsString);if(results){var expireDateInMilliseconds=new Date().getTime()+results[1]*1000;cookie+='; expires='+new Date(expireDateInMilliseconds).toGMTString();}results=/path=([^\\s,]+)[,]?/.exec(optionsString);if(results){var path=results[1];if(_seleniumBrowserbot.browserVersion.khtml){// Safari and conquerer don't like paths with / at the end\nif('/'!=path){path=path.replace(/\\/$/,'');}}cookie+='; path='+path;}results=/domain=([^\\s,]+)[,]?/.exec(optionsString);if(results){var domain=results[1];cookie+='; domain='+domain;}//LOG.debug(\"Setting cookie to: \" + cookie);\nthis.browserbot.getDocument().cookie=cookie;};Selenium.prototype.doDeleteCookie=function(name,optionsString){/**\n   * Delete a named cookie with specified path and domain.  Be careful; to delete a cookie, you\n   * need to delete it using the exact same path and domain that were used to create the cookie.\n   * If the path is wrong, or the domain is wrong, the cookie simply won't be deleted.  Also\n   * note that specifying a domain that isn't a subset of the current domain will usually fail.\n   *\n   * Since there's no way to discover at runtime the original path and domain of a given cookie,\n   * we've added an option called 'recurse' to try all sub-domains of the current domain with\n   * all paths that are a subset of the current path.  Beware; this option can be slow.  In\n   * big-O notation, it operates in O(n*m) time, where n is the number of dots in the domain\n   * name and m is the number of slashes in the path.\n   *\n   * @param name the name of the cookie to be deleted\n   * @param optionsString options for the cookie. Currently supported options include 'path', 'domain'\n   *      and 'recurse.' The optionsString's format is \"path=/path/, domain=.foo.com, recurse=true\".\n   *      The order of options are irrelevant. Note that specifying a domain that isn't a subset of\n   *      the current domain will usually fail.\n   */// set the expire time of the cookie to be deleted to one minute before now.\nvar path='';var domain='';var recurse=false;var matched=false;var results=/path=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;path=results[1];}results=/domain=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;domain=results[1];}results=/recurse=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;recurse=results[1];if('false'==recurse){recurse=false;}}// Treat the entire optionsString as a path (for backwards compatibility)\nif(optionsString&&!matched){//LOG.warn(\"Using entire optionsString as a path; please change the argument to deleteCookie to use path=\" + optionsString);\npath=optionsString;}if(_seleniumBrowserbot.browserVersion.khtml){// Safari and conquerer don't like paths with / at the end\nif('/'!=path){path=path.replace(/\\/$/,'');}}path=path.trim();domain=domain.trim();var cookieName=name.trim();if(recurse){this.browserbot.recursivelyDeleteCookie(cookieName,domain,path);}else{this.browserbot.deleteCookie(cookieName,domain,path);}};Selenium.prototype.doDeleteAllVisibleCookies=function(){/** Calls deleteCookie with recurse=true on all cookies visible to the current page.\n   * As noted on the documentation for deleteCookie, recurse=true can be much slower\n   * than simply deleting the cookies using a known domain/path.\n   */var win=this.browserbot.getCurrentWindow();var doc=win.document;var cookieNames=this.browserbot.getAllCookieNames(doc);var domain=doc.domain;var path=win.location.pathname;for(var i=0;i<cookieNames.length;i++){this.browserbot.recursivelyDeleteCookie(cookieNames[i],domain,path,win);}};//Selenium.prototype.doSetBrowserLogLevel = function(logLevel) {\n/**\n * Sets the threshold for browser-side logging messages; log messages beneath this threshold will be discarded.\n * Valid logLevel strings are: \"debug\", \"info\", \"warn\", \"error\" or \"off\".\n * To see the browser logs, you need to\n * either show the log window in GUI mode, or enable browser-side logging in Selenium RC.\n *\n * @param logLevel one of the following: \"debug\", \"info\", \"warn\", \"error\" or \"off\"\n *//*    if (logLevel == null || logLevel == \"\") {\n        throw new SeleniumError(\"You must specify a log level\");\n    }\n    logLevel = logLevel.toLowerCase();\n    if (//LOG.logLevels[logLevel] == null) {\n        throw new SeleniumError(\"Invalid log level: \" + logLevel);\n    }\n    //LOG.setLogLevelThreshold(logLevel);\n}*/Selenium.prototype.doExecuteScript=function(script,varName){var value=this.eval(script.script,script.argv);if(value&&value.constructor.name==='Promise'){throw new Error('Expected sync operation, instead received Promise');}if(varName){return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:value,storeVar:varName});}};Selenium.prototype.doExecuteAsyncScript=function(script,varName){var value=this.eval(script.script,script.argv);if(value&&value.constructor.name!=='Promise'){throw new Error('Expected async operation, instead received '+(value?value.constructor.name:value));}return Promise.resolve(value).then(function(v){if(varName){return _webextensionPolyfill2.default.runtime.sendMessage({storeStr:v,storeVar:varName});}});};Selenium.prototype.doRunScript=function(script){/**\n   * Creates a new \"script\" tag in the body of the current test window, and\n   * adds the specified text into the body of the command.  Scripts run in\n   * this way can often be debugged more easily than scripts executed using\n   * Selenium's \"getEval\" command.  Beware that JS exceptions thrown in these script\n   * tags aren't managed by Selenium, so you should probably wrap your script\n   * in try/catch blocks if there is any chance that the script will throw\n   * an exception.\n   * @param script the JavaScript snippet to run\n   */this.eval(script.script,script.argv);};Selenium.prototype.doRollup=function(rollupName,kwargs){/**\n   * Executes a command rollup, which is a series of commands with a unique\n   * name, and optionally arguments that control the generation of the set of\n   * commands. If any one of the rolled-up commands fails, the rollup is\n   * considered to have failed. Rollups may also contain nested rollups.\n   *\n   * @param rollupName  the name of the rollup command\n   * @param kwargs      keyword arguments string that influences how the\n   *                    rollup expands into commands\n   */// we have to temporarily hijack the commandStarted, nextCommand(),\n// commandComplete(), and commandError() methods of the TestLoop object.\n// When the expanded rollup commands are done executing (or an error has\n// occurred), we'll restore them to their original values.\nvar loop=currentTest||htmlTestRunner.currentTest;// eslint-disable-line no-undef\nvar backupManager={backup:function backup(){for(var item in this.data){this.data[item]=loop[item];}},restore:function restore(){for(var item in this.data){loop[item]=this.data[item];}},data:{requiresCallBack:null,commandStarted:null,nextCommand:null,commandComplete:null,commandError:null,pendingRollupCommands:null,rollupFailed:null,rollupFailedMessage:null}// eslint-disable-next-line no-undef\n};var rule=RollupManager.getInstance().getRollupRule(rollupName);var expandedCommands=rule.getExpandedCommands(kwargs);// hold your breath ...\ntry{backupManager.backup();loop.requiresCallBack=false;loop.commandStarted=function(){};loop.nextCommand=function(){if(this.pendingRollupCommands.length==0){return null;}var command=this.pendingRollupCommands.shift();return command;};loop.commandComplete=function(result){if(result.failed){this.rollupFailed=true;this.rollupFailureMessages.push(result.failureMessage);}if(this.pendingRollupCommands.length==0){result={failed:this.rollupFailed,failureMessage:this.rollupFailureMessages.join('; ')//LOG.info('Rollup execution complete: ' + (result.failed ? 'failed! (see error messages below)' : 'ok'));\n};backupManager.restore();this.commandComplete(result);}};loop.commandError=function(errorMessage){//LOG.info('Rollup execution complete: bombed!');\nbackupManager.restore();this.commandError(errorMessage);};loop.pendingRollupCommands=expandedCommands;loop.rollupFailed=false;loop.rollupFailureMessages=[];}catch(e){//LOG.error('Rollup error: ' + e);\nbackupManager.restore();}};Selenium.prototype.doAddScript=function(scriptContent,scriptTagId){/**\n   * Loads script content into a new script tag in the Selenium document. This\n   * differs from the runScript command in that runScript adds the script tag\n   * to the document of the AUT, not the Selenium document. The following\n   * entities in the script content are replaced by the characters they\n   * represent:\n   *\n   *     &lt;\n   *     &gt;\n   *     &amp;\n   *\n   * The corresponding remove command is removeScript.\n   *\n   * @param scriptContent  the Javascript content of the script to add\n   * @param scriptTagId    (optional) the id of the new script tag. If\n   *                       specified, and an element with this id already\n   *                       exists, this operation will fail.\n   */if(scriptTagId&&document.getElementById(scriptTagId)){var msg=\"Element with id '\"+scriptTagId+\"' already exists!\";throw new _SeleniumError2.default(msg);}var head=document.getElementsByTagName('head')[0];var script=document.createElement('script');script.type='text/javascript';if(scriptTagId){script.id=scriptTagId;}// replace some entities\nscriptContent=scriptContent.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');script.text=scriptContent;head.appendChild(script);};Selenium.prototype.doRemoveScript=function(scriptTagId){/**\n   * Removes a script tag from the Selenium document identified by the given\n   * id. Does nothing if the referenced tag doesn't exist.\n   *\n   * @param scriptTagId  the id of the script element to remove.\n   */var script=document.getElementById(scriptTagId);if(script&&(0,_utils.getTagName)(script)=='script'){script.parentNode.removeChild(script);}};Selenium.prototype.doUseXpathLibrary=function(libraryName){/**\n   * Allows choice of one of the available libraries.\n   * @param libraryName name of the desired library\n   * Only the following can be chosen:\n   * <ul>\n   *   <li>\"ajaxslt\" - Google's library</li>\n   *   <li>\"javascript-xpath\" - Cybozu Labs' faster library</li>\n   *   <li>\"rpc-optimizing-ajaxslt\" - the RPC optimizing strategy, delegating to ajaxslt</li>\n   *   <li>\"rpc-optimizing-jsxpath\" - the RPC optimizing strategy, delegating to javascript-xpath</li>\n   *   <li>\"default\" - The default library.  Currently the default library is \"ajaxslt\" .</li>\n   * </ul>\n   * If libraryName isn't one of these, it may be the name of another engine\n   * registered to the browserbot's XPathEvaluator, for example by overriding\n   * XPathEvaluator.prototype.init() . If it is not a registered engine\n   * either, then no change will be made.\n   */if(!this.browserbot.getXPathEngine(libraryName)){return;}this.browserbot.setXPathEngine(libraryName);};/**\n *  Factory for creating \"Option Locators\".\n *  An OptionLocator is an object for dealing with Select options (e.g. for\n *  finding a specified option, or asserting that the selected option of\n *  Select element matches some condition.\n *  The type of locator returned by the factory depends on the locator string:\n *     label=<exp>  (OptionLocatorByLabel)\n *     value=<exp>  (OptionLocatorByValue)\n *     index=<exp>  (OptionLocatorByIndex)\n *     id=<exp>     (OptionLocatorById)\n *     <exp> (default is OptionLocatorByLabel).\n */function OptionLocatorFactory(){}OptionLocatorFactory.prototype.fromLocatorString=function(locatorString){var locatorType='label';var locatorValue=locatorString;// If there is a locator prefix, use the specified strategy\nvar result=locatorString.match(/^([a-zA-Z]+)=(.*)/);if(result){locatorType=result[1];locatorValue=result[2];}if(this.optionLocators==undefined){this.registerOptionLocators();}if(this.optionLocators[locatorType]){return new this.optionLocators[locatorType](locatorValue);}throw new _SeleniumError2.default('Unknown option locator type: '+locatorType);};/**\n * To allow for easy extension, all of the option locators are found by\n * searching for all methods of OptionLocatorFactory.prototype that start\n * with \"OptionLocatorBy\".\n * TODO: Consider using the term \"Option Specifier\" instead of \"Option Locator\".\n */OptionLocatorFactory.prototype.registerOptionLocators=function(){this.optionLocators={};for(var functionName in this){var result=/OptionLocatorBy([A-Z].+)$/.exec(functionName);if(result!=null){var locatorName=(0,_utils.lowerFirstChar)(result[1]);this.optionLocators[locatorName]=this[functionName];}}};/**\n *  OptionLocator for options identified by their labels.\n */OptionLocatorFactory.prototype.OptionLocatorByLabel=function(label){this.label=label;this.labelMatcher=new _PatternMatcher2.default(this.label);this.findOption=function(element){for(var i=0;i<element.options.length;i++){if(this.labelMatcher.matches(element.options[i].text)){return element.options[i];}}throw new _SeleniumError2.default(\"Option with label '\"+this.label+\"' not found\");};this.assertSelected=function(element){var selectedLabel=element.options[element.selectedIndex].text;Assert.matches(this.label,selectedLabel);// eslint-disable-line no-undef\n};};/**\n *  OptionLocator for options identified by their values.\n */OptionLocatorFactory.prototype.OptionLocatorByValue=function(value){this.value=value;this.valueMatcher=new _PatternMatcher2.default(this.value);this.findOption=function(element){for(var i=0;i<element.options.length;i++){if(this.valueMatcher.matches(element.options[i].value)){return element.options[i];}}throw new _SeleniumError2.default(\"Option with value '\"+this.value+\"' not found\");};this.assertSelected=function(element){var selectedValue=element.options[element.selectedIndex].value;Assert.matches(this.value,selectedValue);// eslint-disable-line no-undef\n};};/**\n *  OptionLocator for options identified by their index.\n */OptionLocatorFactory.prototype.OptionLocatorByIndex=function(index){this.index=Number(index);if(isNaN(this.index)||this.index<0){throw new _SeleniumError2.default('Illegal Index: '+index);}this.findOption=function(element){if(element.options.length<=this.index){throw new _SeleniumError2.default('Index out of range.  Only '+element.options.length+' options available');}return element.options[this.index];};this.assertSelected=function(element){Assert.equals(this.index,element.selectedIndex);// eslint-disable-line no-undef\n};};/**\n *  OptionLocator for options identified by their id.\n */OptionLocatorFactory.prototype.OptionLocatorById=function(id){this.id=id;this.idMatcher=new _PatternMatcher2.default(this.id);this.findOption=function(element){for(var i=0;i<element.options.length;i++){if(this.idMatcher.matches(element.options[i].id)){return element.options[i];}}throw new _SeleniumError2.default(\"Option with id '\"+this.id+\"' not found\");};this.assertSelected=function(element){var selectedId=element.options[element.selectedIndex].id;Assert.matches(this.id,selectedId);// eslint-disable-line no-undef\n};};//EditContentExt, Lin Yun Wen, SELAB, CSIE, NCKU, 2016/11/17\nSelenium.prototype.doEditContent=function(locator,value){/**\n   *to set text in the element which's conentEditable attribute is true\n   *@param locator an element locator\n   *@param value the context of the element in html\n   */var element=this.browserbot.findElement(locator);var editable=element.contentEditable;if(editable=='true'){element.innerHTML=(0,_escape.escapeHTML)(value);}else{throw new _SeleniumError2.default('The value of contentEditable attribute of this element is not true.');}};// Modified prompt by SideeX comitters (Copyright 2017)\nSelenium.prototype.doChooseCancelOnNextPrompt=function(){return this.browserbot.cancelNextPrompt();};Selenium.prototype.doAnswerOnNextPrompt=function(answer){return this.browserbot.setNextPromptResult(answer);};Selenium.prototype.doAssertPrompt=function(message){return this.browserbot.getPromptMessage().then(function(actualMessage){if(message!=actualMessage)return Promise.reject(\"Prompt message doesn't match actual message\");else return Promise.resolve(true);});};// Modified alert by SideeX comitters (Copyright 2017)\nSelenium.prototype.doAssertAlert=function(message){return this.browserbot.getAlertMessage().then(function(actualMessage){if(message!=actualMessage)return Promise.reject(\"Alert message doesn't match actual message\");else return Promise.resolve(true);});};// Modified confirm by SideeX comitters (Copyright 2017)\nSelenium.prototype.doChooseCancelOnNextConfirmation=function(){return this.browserbot.setNextConfirmationResult(false);};Selenium.prototype.doChooseOkOnNextConfirmation=function(){return this.browserbot.setNextConfirmationResult(true);};Selenium.prototype.doAssertConfirmation=function(value){return this.browserbot.getConfirmationMessage().then(function(actualMessage){if(value!=actualMessage)return Promise.reject(\"Confirmation message doesn't match actual message\");else return Promise.resolve(true);});};Selenium.prototype.doShowElement=function(locator){var elementForInjectingStyle=document.createElement('link');elementForInjectingStyle.rel='stylesheet';elementForInjectingStyle.href=_webextensionPolyfill2.default.runtime.getURL('/assets/highlight.css');(document.head||document.documentElement).appendChild(elementForInjectingStyle);var highlightElement=document.createElement('div');highlightElement.id='selenium-highlight';document.body.appendChild(highlightElement);if(locator.x){highlightElement.style.left=parseInt(locator.x)+'px';highlightElement.style.top=parseInt(locator.y)+'px';highlightElement.style.width=parseInt(locator.width)+'px';highlightElement.style.height=parseInt(locator.height)+'px';}else{var bodyRects=document.documentElement.getBoundingClientRect();var element=this.browserbot.findElement(locator);var elementRects=element.getBoundingClientRect();highlightElement.style.left=parseInt(elementRects.left-bodyRects.left)+'px';highlightElement.style.top=parseInt(elementRects.top-bodyRects.top)+'px';highlightElement.style.width=parseInt(elementRects.width)+'px';highlightElement.style.height=parseInt(elementRects.height)+'px';}highlightElement.style.position='absolute';highlightElement.style.zIndex='100';highlightElement.style.display='block';highlightElement.style.pointerEvents='none';(0,_scrollIntoViewIfNeeded2.default)(highlightElement,{centerIfNeeded:true});highlightElement.className='active-selenium-highlight';setTimeout(function(){document.body.removeChild(highlightElement);elementForInjectingStyle.parentNode.removeChild(elementForInjectingStyle);},500);return'element found';};;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(Selenium,'Selenium','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(throwIfNoVarNameProvided,'throwIfNoVarNameProvided','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(waitUntil,'waitUntil','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(getClientXY,'getClientXY','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(getCoords,'getCoords','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(isElementNotPresent,'isElementNotPresent','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(unableToLocateTargetElementError,'unableToLocateTargetElementError','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(isNotDisplayed,'isNotDisplayed','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(isDisplayed,'isDisplayed','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(isEditable,'isEditable','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(isNotEditable,'isNotEditable','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');__REACT_HOT_LOADER__.register(OptionLocatorFactory,'OptionLocatorFactory','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-api.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9zZWxlbml1bS1hcGkuanM/NzdhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmRlZmF1bHQ9dW5kZWZpbmVkO3ZhciBfdHlwZW9mPXR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PT1cInN5bWJvbFwiP2Z1bmN0aW9uKG9iail7cmV0dXJuIHR5cGVvZiBvYmo7fTpmdW5jdGlvbihvYmope3JldHVybiBvYmomJnR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmo7fTt2YXIgX3dlYmV4dGVuc2lvblBvbHlmaWxsPXJlcXVpcmUoJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCcpO3ZhciBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYmV4dGVuc2lvblBvbHlmaWxsKTt2YXIgX3Njcm9sbEludG9WaWV3SWZOZWVkZWQ9cmVxdWlyZSgnc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQnKTt2YXIgX3Njcm9sbEludG9WaWV3SWZOZWVkZWQyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Njcm9sbEludG9WaWV3SWZOZWVkZWQpO3ZhciBfU2VsZW5pdW1FcnJvcj1yZXF1aXJlKCcuL1NlbGVuaXVtRXJyb3InKTt2YXIgX1NlbGVuaXVtRXJyb3IyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVuaXVtRXJyb3IpO3ZhciBfY29tbWFuZHNBcGk9cmVxdWlyZSgnLi9jb21tYW5kcy1hcGknKTt2YXIgX2VzY2FwZT1yZXF1aXJlKCcuL2VzY2FwZScpO3ZhciBfc2VsZW5pdW1Ccm93c2VyYm90PXJlcXVpcmUoJy4vc2VsZW5pdW0tYnJvd3NlcmJvdCcpO3ZhciBfc2VsZW5pdW1Ccm93c2VyYm90Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlbml1bUJyb3dzZXJib3QpO3ZhciBfY2xvc3VyZVBvbHlmaWxsPXJlcXVpcmUoJy4vY2xvc3VyZS1wb2x5ZmlsbCcpO3ZhciBfY2xvc3VyZVBvbHlmaWxsMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbG9zdXJlUG9seWZpbGwpO3ZhciBfUGF0dGVybk1hdGNoZXI9cmVxdWlyZSgnLi9QYXR0ZXJuTWF0Y2hlcicpO3ZhciBfUGF0dGVybk1hdGNoZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhdHRlcm5NYXRjaGVyKTt2YXIgX3V0aWxzPXJlcXVpcmUoJy4vdXRpbHMnKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTt9fS8qXG4gKiBDb3B5cmlnaHQgMjAxMSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5XG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqLy8vIFRPRE86IHN0b3AgbmF2aWdhdGluZyB0aGlzLmJyb3dzZXJib3QuZG9jdW1lbnQoKSAuLi4gaXQgYnJlYWtzIGVuY2Fwc3VsYXRpb25cbnZhciBTZWxlbml1bT0vKipcbiAgICogRGVmaW5lcyBhbiBvYmplY3QgdGhhdCBydW5zIFNlbGVuaXVtIGNvbW1hbmRzLlxuICAgKlxuICAgKiA8aDM+PGEgbmFtZT1cImxvY2F0b3JzXCI+PC9hPkVsZW1lbnQgTG9jYXRvcnM8L2gzPlxuICAgKiA8cD5cbiAgICogRWxlbWVudCBMb2NhdG9ycyB0ZWxsIFNlbGVuaXVtIHdoaWNoIEhUTUwgZWxlbWVudCBhIGNvbW1hbmQgcmVmZXJzIHRvLlxuICAgKiBUaGUgZm9ybWF0IG9mIGEgbG9jYXRvciBpczo8L3A+XG4gICAqIDxibG9ja3F1b3RlPlxuICAgKiA8ZW0+bG9jYXRvclR5cGU8L2VtPjxzdHJvbmc+PTwvc3Ryb25nPjxlbT5hcmd1bWVudDwvZW0+XG4gICAqIDwvYmxvY2txdW90ZT5cbiAgICpcbiAgICogPHA+XG4gICAqIFdlIHN1cHBvcnQgdGhlIGZvbGxvd2luZyBzdHJhdGVnaWVzIGZvciBsb2NhdGluZyBlbGVtZW50czpcbiAgICogPC9wPlxuICAgKlxuICAgKiA8dWw+XG4gICAqIDxsaT48c3Ryb25nPmlkZW50aWZpZXI8L3N0cm9uZz49PGVtPmlkPC9lbT46XG4gICAqIFNlbGVjdCB0aGUgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgJiMwNjQ7aWQgYXR0cmlidXRlLiBJZiBubyBtYXRjaCBpc1xuICAgKiBmb3VuZCwgc2VsZWN0IHRoZSBmaXJzdCBlbGVtZW50IHdob3NlICYjMDY0O25hbWUgYXR0cmlidXRlIGlzIDxlbT5pZDwvZW0+LlxuICAgKiAoVGhpcyBpcyBub3JtYWxseSB0aGUgZGVmYXVsdDsgc2VlIGJlbG93Lik8L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5pZDwvc3Ryb25nPj08ZW0+aWQ8L2VtPjpcbiAgICogU2VsZWN0IHRoZSBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCAmIzA2NDtpZCBhdHRyaWJ1dGUuPC9saT5cbiAgICpcbiAgICogPGxpPjxzdHJvbmc+bmFtZTwvc3Ryb25nPj08ZW0+bmFtZTwvZW0+OlxuICAgKiBTZWxlY3QgdGhlIGZpcnN0IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkICYjMDY0O25hbWUgYXR0cmlidXRlLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+dXNlcm5hbWU8L2xpPlxuICAgKiA8bGk+bmFtZT11c2VybmFtZTwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDxwPlRoZSBuYW1lIG1heSBvcHRpb25hbGx5IGJlIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIDxlbT5lbGVtZW50LWZpbHRlcnM8L2VtPiwgc2VwYXJhdGVkIGZyb20gdGhlIG5hbWUgYnkgd2hpdGVzcGFjZS4gIElmIHRoZSA8ZW0+ZmlsdGVyVHlwZTwvZW0+IGlzIG5vdCBzcGVjaWZpZWQsIDxzdHJvbmc+dmFsdWU8L3N0cm9uZz4gaXMgYXNzdW1lZC48L3A+XG4gICAqXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT5uYW1lPWZsYXZvdXIgdmFsdWU9Y2hvY29sYXRlPC9saT5cbiAgICogPC91bD5cbiAgICogPC9saT5cbiAgICogPGxpPjxzdHJvbmc+ZG9tPC9zdHJvbmc+PTxlbT5qYXZhc2NyaXB0RXhwcmVzc2lvbjwvZW0+OlxuICAgKlxuICAgKiBGaW5kIGFuIGVsZW1lbnQgYnkgZXZhbHVhdGluZyB0aGUgc3BlY2lmaWVkIHN0cmluZy4gIFRoaXMgYWxsb3dzIHlvdSB0byB0cmF2ZXJzZSB0aGUgSFRNTCBEb2N1bWVudCBPYmplY3RcbiAgICogTW9kZWwgdXNpbmcgSmF2YVNjcmlwdC4gIE5vdGUgdGhhdCB5b3UgbXVzdCBub3QgcmV0dXJuIGEgdmFsdWUgaW4gdGhpcyBzdHJpbmc7IHNpbXBseSBtYWtlIGl0IHRoZSBsYXN0IGV4cHJlc3Npb24gaW4gdGhlIGJsb2NrLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+ZG9tPWRvY3VtZW50LmZvcm1zWydteUZvcm0nXS5teURyb3Bkb3duPC9saT5cbiAgICogPGxpPmRvbT1kb2N1bWVudC5pbWFnZXNbNTZdPC9saT5cbiAgICogPGxpPmRvbT1mdW5jdGlvbiBmb28oKSB7IHJldHVybiBkb2N1bWVudC5saW5rc1sxXTsgfTsgZm9vKCk7PC9saT5cbiAgICogPC91bD5cbiAgICpcbiAgICogPC9saT5cbiAgICpcbiAgICogPGxpPjxzdHJvbmc+eHBhdGg8L3N0cm9uZz49PGVtPnhwYXRoRXhwcmVzc2lvbjwvZW0+OlxuICAgKiBMb2NhdGUgYW4gZWxlbWVudCB1c2luZyBhbiBYUGF0aCBleHByZXNzaW9uLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+eHBhdGg9Ly9pbWdbJiMwNjQ7YWx0PSdUaGUgaW1hZ2UgYWx0IHRleHQnXTwvbGk+XG4gICAqIDxsaT54cGF0aD0vL3RhYmxlWyYjMDY0O2lkPSd0YWJsZTEnXS8vdHJbNF0vdGRbMl08L2xpPlxuICAgKiA8bGk+eHBhdGg9Ly9hW2NvbnRhaW5zKCYjMDY0O2hyZWYsJyNpZDEnKV08L2xpPlxuICAgKiA8bGk+eHBhdGg9Ly9hW2NvbnRhaW5zKCYjMDY0O2hyZWYsJyNpZDEnKV0vJiMwNjQ7Y2xhc3M8L2xpPlxuICAgKiA8bGk+eHBhdGg9KC8vdGFibGVbJiMwNjQ7Y2xhc3M9J3N0eWxlZSddKS8vdGhbdGV4dCgpPSd0aGVIZWFkZXJUZXh0J10vLi4vdGQ8L2xpPlxuICAgKiA8bGk+eHBhdGg9Ly9pbnB1dFsmIzA2NDtuYW1lPSduYW1lMicgYW5kICYjMDY0O3ZhbHVlPSd5ZXMnXTwvbGk+XG4gICAqIDxsaT54cGF0aD0vLypbdGV4dCgpPVwicmlnaHRcIl08L2xpPlxuICAgKlxuICAgKiA8L3VsPlxuICAgKiA8L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5saW5rPC9zdHJvbmc+PTxlbT50ZXh0UGF0dGVybjwvZW0+OlxuICAgKiBTZWxlY3QgdGhlIGxpbmsgKGFuY2hvcikgZWxlbWVudCB3aGljaCBjb250YWlucyB0ZXh0IG1hdGNoaW5nIHRoZVxuICAgKiBzcGVjaWZpZWQgPGVtPnBhdHRlcm48L2VtPi5cbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cbiAgICogPGxpPmxpbms9VGhlIGxpbmsgdGV4dDwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDwvbGk+XG4gICAqXG4gICAqIDxsaT48c3Ryb25nPmNzczwvc3Ryb25nPj08ZW0+Y3NzU2VsZWN0b3JTeW50YXg8L2VtPjpcbiAgICogU2VsZWN0IHRoZSBlbGVtZW50IHVzaW5nIGNzcyBzZWxlY3RvcnMuIFBsZWFzZSByZWZlciB0byA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLUNTUzIvc2VsZWN0b3IuaHRtbFwiPkNTUzIgc2VsZWN0b3JzPC9hPiwgPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvQ1ItY3NzMy1zZWxlY3RvcnMtMjAwMTExMTMvXCI+Q1NTMyBzZWxlY3RvcnM8L2E+IGZvciBtb3JlIGluZm9ybWF0aW9uLiBZb3UgY2FuIGFsc28gY2hlY2sgdGhlIFRlc3RDc3NMb2NhdG9ycyB0ZXN0IGluIHRoZSBzZWxlbml1bSB0ZXN0IHN1aXRlIGZvciBhbiBleGFtcGxlIG9mIHVzYWdlLCB3aGljaCBpcyBpbmNsdWRlZCBpbiB0aGUgZG93bmxvYWRlZCBzZWxlbml1bSBjb3JlIHBhY2thZ2UuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT5jc3M9YVtocmVmPVwiI2lkM1wiXTwvbGk+XG4gICAqIDxsaT5jc3M9c3BhbiNmaXJzdENoaWxkICsgc3BhbjwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDxwPkN1cnJlbnRseSB0aGUgY3NzIHNlbGVjdG9yIGxvY2F0b3Igc3VwcG9ydHMgYWxsIGNzczEsIGNzczIgYW5kIGNzczMgc2VsZWN0b3JzIGV4Y2VwdCBuYW1lc3BhY2UgaW4gY3NzMywgc29tZSBwc2V1ZG8gY2xhc3Nlcyg6bnRoLW9mLXR5cGUsIDpudGgtbGFzdC1vZi10eXBlLCA6Zmlyc3Qtb2YtdHlwZSwgOmxhc3Qtb2YtdHlwZSwgOm9ubHktb2YtdHlwZSwgOnZpc2l0ZWQsIDpob3ZlciwgOmFjdGl2ZSwgOmZvY3VzLCA6aW5kZXRlcm1pbmF0ZSkgYW5kIHBzZXVkbyBlbGVtZW50cyg6OmZpcnN0LWxpbmUsIDo6Zmlyc3QtbGV0dGVyLCA6OnNlbGVjdGlvbiwgOjpiZWZvcmUsIDo6YWZ0ZXIpLiA8L3A+XG4gICAqIDwvbGk+XG4gICAqXG4gICAqIDxsaT48c3Ryb25nPnVpPC9zdHJvbmc+PTxlbT51aVNwZWNpZmllclN0cmluZzwvZW0+OlxuICAgKiBMb2NhdGUgYW4gZWxlbWVudCBieSByZXNvbHZpbmcgdGhlIFVJIHNwZWNpZmllciBzdHJpbmcgdG8gYW5vdGhlciBsb2NhdG9yLCBhbmQgZXZhbHVhdGluZyBpdC4gU2VlIHRoZSA8YSBocmVmPVwiaHR0cDovL3N2bi5vcGVucWEub3JnL2Zpc2hleWUvYnJvd3NlL35yYXcscj10cnVuay9zZWxlbml1bS90cnVuay9zcmMvbWFpbi9yZXNvdXJjZXMvY29yZS9zY3JpcHRzL3VpLWRvYy5odG1sXCI+U2VsZW5pdW0gVUktRWxlbWVudCBSZWZlcmVuY2U8L2E+IGZvciBtb3JlIGRldGFpbHMuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT51aT1sb2dpblBhZ2VzOjpsb2dpbkJ1dHRvbigpPC9saT5cbiAgICogPGxpPnVpPXNldHRpbmdzUGFnZXM6OnRvZ2dsZShsYWJlbD1IaWRlIEVtYWlsKTwvbGk+XG4gICAqIDxsaT51aT1mb3J1bVBhZ2VzOjpwb3N0Qm9keShpbmRleD0yKS8vYVsyXTwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDwvbGk+XG4gICAqXG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDxwPlxuICAgKiBXaXRob3V0IGFuIGV4cGxpY2l0IGxvY2F0b3IgcHJlZml4LCBTZWxlbml1bSB1c2VzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdFxuICAgKiBzdHJhdGVnaWVzOlxuICAgKiA8L3A+XG4gICAqXG4gICAqIDx1bCBjbGFzcz1cInNpbXBsZVwiPlxuICAgKiA8bGk+PHN0cm9uZz5kb208L3N0cm9uZz4sIGZvciBsb2NhdG9ycyBzdGFydGluZyB3aXRoICZxdW90O2RvY3VtZW50LiZxdW90OzwvbGk+XG4gICAqIDxsaT48c3Ryb25nPnhwYXRoPC9zdHJvbmc+LCBmb3IgbG9jYXRvcnMgc3RhcnRpbmcgd2l0aCAmcXVvdDsvLyZxdW90OzwvbGk+XG4gICAqIDxsaT48c3Ryb25nPmlkZW50aWZpZXI8L3N0cm9uZz4sIG90aGVyd2lzZTwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDxoMz48YSBuYW1lPVwiZWxlbWVudC1maWx0ZXJzXCI+RWxlbWVudCBGaWx0ZXJzPC9hPjwvaDM+XG4gICAqIDxibG9ja3F1b3RlPlxuICAgKiA8cD5FbGVtZW50IGZpbHRlcnMgY2FuIGJlIHVzZWQgd2l0aCBhIGxvY2F0b3IgdG8gcmVmaW5lIGEgbGlzdCBvZiBjYW5kaWRhdGUgZWxlbWVudHMuICBUaGV5IGFyZSBjdXJyZW50bHkgdXNlZCBvbmx5IGluIHRoZSAnbmFtZScgZWxlbWVudC1sb2NhdG9yLjwvcD5cbiAgICogPHA+RmlsdGVycyBsb29rIG11Y2ggbGlrZSBsb2NhdG9ycywgaWUuPC9wPlxuICAgKiA8YmxvY2txdW90ZT5cbiAgICogPGVtPmZpbHRlclR5cGU8L2VtPjxzdHJvbmc+PTwvc3Ryb25nPjxlbT5hcmd1bWVudDwvZW0+PC9ibG9ja3F1b3RlPlxuICAgKlxuICAgKiA8cD5TdXBwb3J0ZWQgZWxlbWVudC1maWx0ZXJzIGFyZTo8L3A+XG4gICAqIDxwPjxzdHJvbmc+dmFsdWU9PC9zdHJvbmc+PGVtPnZhbHVlUGF0dGVybjwvZW0+PC9wPlxuICAgKiA8YmxvY2txdW90ZT5cbiAgICogTWF0Y2hlcyBlbGVtZW50cyBiYXNlZCBvbiB0aGVpciB2YWx1ZXMuICBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHJlZmluaW5nIGEgbGlzdCBvZiBzaW1pbGFybHktbmFtZWQgdG9nZ2xlLWJ1dHRvbnMuPC9ibG9ja3F1b3RlPlxuICAgKiA8cD48c3Ryb25nPmluZGV4PTwvc3Ryb25nPjxlbT5pbmRleDwvZW0+PC9wPlxuICAgKiA8YmxvY2txdW90ZT5cbiAgICogU2VsZWN0cyBhIHNpbmdsZSBlbGVtZW50IGJhc2VkIG9uIGl0cyBwb3NpdGlvbiBpbiB0aGUgbGlzdCAob2Zmc2V0IGZyb20gemVybykuPC9ibG9ja3F1b3RlPlxuICAgKiA8L2Jsb2NrcXVvdGU+XG4gICAqXG4gICAqIDxoMz48YSBuYW1lPVwicGF0dGVybnNcIj48L2E+U3RyaW5nLW1hdGNoIFBhdHRlcm5zPC9oMz5cbiAgICpcbiAgICogPHA+XG4gICAqIFZhcmlvdXMgUGF0dGVybiBzeW50YXhlcyBhcmUgYXZhaWxhYmxlIGZvciBtYXRjaGluZyBzdHJpbmcgdmFsdWVzOlxuICAgKiA8L3A+XG4gICAqIDx1bD5cbiAgICogPGxpPjxzdHJvbmc+Z2xvYjo8L3N0cm9uZz48ZW0+cGF0dGVybjwvZW0+OlxuICAgKiBNYXRjaCBhIHN0cmluZyBhZ2FpbnN0IGEgXCJnbG9iXCIgKGFrYSBcIndpbGRtYXRcIikgcGF0dGVybi4gXCJHbG9iXCIgaXMgYVxuICAgKiBraW5kIG9mIGxpbWl0ZWQgcmVndWxhci1leHByZXNzaW9uIHN5bnRheCB0eXBpY2FsbHkgdXNlZCBpbiBjb21tYW5kLWxpbmVcbiAgICogc2hlbGxzLiBJbiBhIGdsb2IgcGF0dGVybiwgXCIqXCIgcmVwcmVzZW50cyBhbnkgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycywgYW5kIFwiP1wiXG4gICAqIHJlcHJlc2VudHMgYW55IHNpbmdsZSBjaGFyYWN0ZXIuIEdsb2IgcGF0dGVybnMgbWF0Y2ggYWdhaW5zdCB0aGUgZW50aXJlXG4gICAqIHN0cmluZy48L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5yZWdleHA6PC9zdHJvbmc+PGVtPnJlZ2V4cDwvZW0+OlxuICAgKiBNYXRjaCBhIHN0cmluZyB1c2luZyBhIHJlZ3VsYXItZXhwcmVzc2lvbi4gVGhlIGZ1bGwgcG93ZXIgb2YgSmF2YVNjcmlwdFxuICAgKiByZWd1bGFyLWV4cHJlc3Npb25zIGlzIGF2YWlsYWJsZS48L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5yZWdleHBpOjwvc3Ryb25nPjxlbT5yZWdleHBpPC9lbT46XG4gICAqIE1hdGNoIGEgc3RyaW5nIHVzaW5nIGEgY2FzZS1pbnNlbnNpdGl2ZSByZWd1bGFyLWV4cHJlc3Npb24uPC9saT5cbiAgICogPGxpPjxzdHJvbmc+ZXhhY3Q6PC9zdHJvbmc+PGVtPnN0cmluZzwvZW0+OlxuICAgKlxuICAgKiBNYXRjaCBhIHN0cmluZyBleGFjdGx5LCB2ZXJiYXRpbSwgd2l0aG91dCBhbnkgb2YgdGhhdCBmYW5jeSB3aWxkY2FyZFxuICAgKiBzdHVmZi48L2xpPlxuICAgKiA8L3VsPlxuICAgKiA8cD5cbiAgICogSWYgbm8gcGF0dGVybiBwcmVmaXggaXMgc3BlY2lmaWVkLCBTZWxlbml1bSBhc3N1bWVzIHRoYXQgaXQncyBhIFwiZ2xvYlwiXG4gICAqIHBhdHRlcm4uXG4gICAqIDwvcD5cbiAgICogPHA+XG4gICAqIEZvciBjb21tYW5kcyB0aGF0IHJldHVybiBtdWx0aXBsZSB2YWx1ZXMgKHN1Y2ggYXMgdmVyaWZ5U2VsZWN0T3B0aW9ucyksXG4gICAqIHRoZSBzdHJpbmcgYmVpbmcgbWF0Y2hlZCBpcyBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIHRoZSByZXR1cm4gdmFsdWVzLFxuICAgKiB3aGVyZSBib3RoIGNvbW1hcyBhbmQgYmFja3NsYXNoZXMgaW4gdGhlIHZhbHVlcyBhcmUgYmFja3NsYXNoLWVzY2FwZWQuXG4gICAqIFdoZW4gcHJvdmlkaW5nIGEgcGF0dGVybiwgdGhlIG9wdGlvbmFsIG1hdGNoaW5nIHN5bnRheCAoaS5lLiBnbG9iLFxuICAgKiByZWdleHAsIGV0Yy4pIGlzIHNwZWNpZmllZCBvbmNlLCBhcyB1c3VhbCwgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICogcGF0dGVybi5cbiAgICogPC9wPlxuICAgKi9mdW5jdGlvbiBTZWxlbml1bShicm93c2VyYm90KXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxTZWxlbml1bSk7dGhpcy5icm93c2VyYm90PWJyb3dzZXJib3Q7dGhpcy5vcHRpb25Mb2NhdG9yRmFjdG9yeT1uZXcgT3B0aW9uTG9jYXRvckZhY3RvcnkoKTsvLyBER0YgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG50aGlzLnBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gYnJvd3NlcmJvdDt9O3RoaXMuZGVmYXVsdFRpbWVvdXQ9U2VsZW5pdW0uREVGQVVMVF9USU1FT1VUO3RoaXMubW91c2VTcGVlZD1TZWxlbml1bS5ERUZBVUxUX01PVVNFX1NQRUVEO307ZXhwb3J0cy5kZWZhdWx0PVNlbGVuaXVtO1NlbGVuaXVtLkRFRkFVTFRfVElNRU9VVD0zMCoxMDAwO1NlbGVuaXVtLkRFRkFVTFRfTU9VU0VfU1BFRUQ9MTA7U2VsZW5pdW0uUklHSFRfTU9VU0VfQ0xJQ0s9MjtTZWxlbml1bS5kZWNvcmF0ZUZ1bmN0aW9uV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oZix0aW1lb3V0LGNhbGxiYWNrKXtpZihmPT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIHRpbWVvdXRUaW1lPSgwLF91dGlscy5nZXRUaW1lb3V0VGltZSkodGltZW91dCk7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobmV3IERhdGUoKS5nZXRUaW1lKCk+dGltZW91dFRpbWUpe2lmKGNhbGxiYWNrIT1udWxsKXtjYWxsYmFjaygpO310aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ1RpbWVkIG91dCBhZnRlciAnK3RpbWVvdXQrJ21zJyk7fXJldHVybiBmKCk7fTt9O1NlbGVuaXVtLmNyZWF0ZUZvcldpbmRvdz1mdW5jdGlvbih3aW5kb3cscHJveHlJbmplY3Rpb25Nb2RlKXtpZighd2luZG93LmxvY2F0aW9uKXt0aHJvdydlcnJvcjogbm90IGEgd2luZG93ISc7fXJldHVybiBTZWxlbml1bShfc2VsZW5pdW1Ccm93c2VyYm90Mi5kZWZhdWx0LmNyZWF0ZUZvcldpbmRvdyh3aW5kb3cscHJveHlJbmplY3Rpb25Nb2RlKSk7fTtTZWxlbml1bS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRUaW1lb3V0PVNlbGVuaXVtLkRFRkFVTFRfVElNRU9VVDsvLyB0b2RvOiB0aGlzLmJyb3dzZXJib3QucmVzZXQoKVxudGhpcy5icm93c2VyYm90LnNlbGVjdFdpbmRvdygnbnVsbCcpO3RoaXMuYnJvd3NlcmJvdC5yZXNldFBvcHVwcygpO307U2VsZW5pdW0ucHJvdG90eXBlLmV2YWw9ZnVuY3Rpb24oc2NyaXB0KXt2YXIgYXJndj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06W107dmFyIHNjb3BlZD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06dHJ1ZTt2YXIgaXNFeHByZXNzaW9uPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpmYWxzZTsvLyB3ZSBhcmUgc3RpbGwgc3RyaW5naWZ5aW5nIGhlcmUsIGJ1dCB3ZSBhcmUgbm90IHN1cHBvcnRpbmcgcGFzc2luZyBIVE1MRWxlbWVudHMgYW55d2F5IDopXG4vLyBTaW5nbGUgcXVvdGVzIGFyZSBpbXBvcnRhbnQhIEpTT04uc3RyaW5naWZpZXMgdXNlcyBkb3VibGUgcXVvdGVzLCB0byBhdm9pZCBzeW50YXggZXJyb3Igd2UgdXNlIHNpbmdsZSBxdW90ZXMhIVxuaWYoaXNFeHByZXNzaW9uKXtyZXR1cm4gd2luZG93LmV2YWwoc2NvcGVkPycoKC4uLmFyZ3VtZW50cykgPT4gKCcrc2NyaXB0KycpKSguLi5KU09OLnBhcnNlKFxcJycrSlNPTi5zdHJpbmdpZnkoYXJndikrJ1xcJykpJzpzY3JpcHQpO31lbHNle3JldHVybiB3aW5kb3cuZXZhbChzY29wZWQ/JygoLi4uYXJndW1lbnRzKSA9PiB7JytzY3JpcHQrJ30pKC4uLkpTT04ucGFyc2UoXFwnJytKU09OLnN0cmluZ2lmeShhcmd2KSsnXFwnKSknOnNjcmlwdCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvRXZhbHVhdGVDb25kaXRpb25hbD1mdW5jdGlvbihzY3JpcHQpe3JldHVybiEhdGhpcy5ldmFsKHNjcmlwdC5zY3JpcHQsc2NyaXB0LmFyZ3YsdHJ1ZSx0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeUNoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdjaGVja2JveCcmJmVsZW1lbnQudHlwZSE9PSdyYWRpbycpe3Rocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGxvY2F0b3IgJytsb2NhdG9yKycgaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uJyk7fWVsc2UgaWYoIWVsZW1lbnQuY2hlY2tlZCl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBub3QgY2hlY2tlZCcpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeU5vdENoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdjaGVja2JveCcmJmVsZW1lbnQudHlwZSE9PSdyYWRpbycpe3Rocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGxvY2F0b3IgJytsb2NhdG9yKycgaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uJyk7fWVsc2UgaWYoZWxlbWVudC5jaGVja2VkKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIGlzIGNoZWNrZWQnKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXtpZighdGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIGlzIG5vdCBlZGl0YWJsZScpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeU5vdEVkaXRhYmxlPWZ1bmN0aW9uKGxvY2F0b3Ipe2lmKHRoaXMuaXNFZGl0YWJsZShsb2NhdG9yKSl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBlZGl0YWJsZScpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdzZWxlY3Qtb25lJyl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBub3QgYSBzZWxlY3QnKTt9ZWxzZSBpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeU5vdFNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdzZWxlY3Qtb25lJyl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBub3QgYSBzZWxlY3QnKTt9ZWxzZSBpZihlbGVtZW50LnZhbHVlPT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG1hdGNoXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVRleHQ9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7dGhpcy5kb0Fzc2VydFRleHQobG9jYXRvcix2YWx1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlOb3RUZXh0PWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe3RoaXMuZG9Bc3NlcnROb3RUZXh0KGxvY2F0b3IsdmFsdWUpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5VmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudmFsdWUhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitlbGVtZW50LnZhbHVlK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5VGl0bGU9ZnVuY3Rpb24odmFsdWUpe2lmKF9jbG9zdXJlUG9seWZpbGwyLmRlZmF1bHQuc3RyaW5nLm5vcm1hbGl6ZVNwYWNlcyh0aGlzLmdldFRpdGxlKCkpIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrX2Nsb3N1cmVQb2x5ZmlsbDIuZGVmYXVsdC5zdHJpbmcubm9ybWFsaXplU3BhY2VzKHRoaXMuZ2V0VGl0bGUoKSkrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlFbGVtZW50UHJlc2VudD1mdW5jdGlvbihsb2NhdG9yKXt0cnl7dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO31jYXRjaChlcnJvcil7aWYoZXJyb3IubWVzc2FnZS5tYXRjaCgvRWxlbWVudFtcXHNcXFNdKj9ub3QgZm91bmQvKSl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBjb3VsZCBub3QgYmUgZm91bmQnKTt9ZWxzZXt0aHJvdyBlcnJvcjt9fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5RWxlbWVudE5vdFByZXNlbnQ9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3RoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIHdhcyBmb3VuZCcpO31jYXRjaChlcnJvcil7aWYoIWVycm9yLm1lc3NhZ2UubWF0Y2goL0VsZW1lbnRbXFxzXFxTXSo/bm90IGZvdW5kLykpe3Rocm93IGVycm9yO319fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnk9ZnVuY3Rpb24odmFyaWFibGVOYW1lLGV4cGVjdGVkKXtyZXR1cm4gdGhpcy5kb0Fzc2VydCh2YXJpYWJsZU5hbWUsZXhwZWN0ZWQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0PWZ1bmN0aW9uKHZhcmlhYmxlTmFtZSxleHBlY3RlZCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlcyxyZWope193ZWJleHRlbnNpb25Qb2x5ZmlsbDIuZGVmYXVsdC5ydW50aW1lLnNlbmRNZXNzYWdlKHtnZXRWYXI6dHJ1ZSx2YXJpYWJsZTp2YXJpYWJsZU5hbWV9KS50aGVuKGZ1bmN0aW9uKGFjdHVhbCl7aWYoJycrYWN0dWFsIT1leHBlY3RlZCl7cmV0dXJuIHJlaihcIkFjdHVhbCB2YWx1ZSAnXCIrYWN0dWFsK1wiJyBkaWQgbm90IG1hdGNoICdcIitleHBlY3RlZCtcIidcIik7fXJldHVybiByZXMoKTt9KTt9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydENoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdjaGVja2JveCcmJmVsZW1lbnQudHlwZSE9PSdyYWRpbycpe3Rocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGxvY2F0b3IgJytsb2NhdG9yKycgaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uJyk7fWVsc2UgaWYoIWVsZW1lbnQuY2hlY2tlZCl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBub3QgY2hlY2tlZCcpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydE5vdENoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdjaGVja2JveCcmJmVsZW1lbnQudHlwZSE9PSdyYWRpbycpe3Rocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGxvY2F0b3IgJytsb2NhdG9yKycgaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uJyk7fWVsc2UgaWYoZWxlbWVudC5jaGVja2VkKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIGlzIGNoZWNrZWQnKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXtpZighdGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIGlzIG5vdCBlZGl0YWJsZScpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydE5vdEVkaXRhYmxlPWZ1bmN0aW9uKGxvY2F0b3Ipe2lmKHRoaXMuaXNFZGl0YWJsZShsb2NhdG9yKSl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBlZGl0YWJsZScpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydFNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdzZWxlY3Qtb25lJyl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHdpdGggbG9jYXRvciAnK2xvY2F0b3IrJyBpcyBub3QgYSBzZWxlY3QnKTt9ZWxzZSBpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVNlbGVjdGVkTGFiZWw9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcix2YWx1ZSl7dmFyIHNlbGVjdGVkTGFiZWw9dGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCd0ZXh0Jyk7aWYoc2VsZWN0ZWRMYWJlbCE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgbGFiZWwgJ1wiK3NlbGVjdGVkTGFiZWwrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRTZWxlY3RlZExhYmVsPWZ1bmN0aW9uKHNlbGVjdExvY2F0b3IsdmFsdWUpe3ZhciBzZWxlY3RlZExhYmVsPXRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydHkoc2VsZWN0TG9jYXRvciwndGV4dCcpO2lmKHNlbGVjdGVkTGFiZWwhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIGxhYmVsICdcIitzZWxlY3RlZExhYmVsK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0Tm90U2VsZWN0ZWRWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXt2YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC50eXBlIT09J3NlbGVjdC1vbmUnKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIGlzIG5vdCBhIHNlbGVjdCcpO31lbHNlIGlmKGVsZW1lbnQudmFsdWU9PT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitlbGVtZW50LnZhbHVlK1wiJyBkaWQgbWF0Y2hcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRFbGVtZW50VmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yKXt2YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoIV9jbG9zdXJlUG9seWZpbGwuYm90LmRvbS5pc1Nob3duKGVsZW1lbnQpKXRocm93IG5ldyBFcnJvcignRWxlbWVudCAnK2xvY2F0b3IrJyBub3QgdmlzaWJsZScpO3JldHVybiBlbGVtZW50O307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0VGV4dD1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXt2YXIgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50VmlzaWJsZShsb2NhdG9yKTt2YXIgdmlzaWJsZVRleHQ9X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpO2lmKHZpc2libGVUZXh0IT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcignQWN0dWFsIHZhbHVlIFwiJyt2aXNpYmxlVGV4dCsnXCIgZGlkIG5vdCBtYXRjaCBcIicrdmFsdWUrJ1wiJyk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0Tm90VGV4dD1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXt2YXIgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50VmlzaWJsZShsb2NhdG9yKTt2YXIgdmlzaWJsZVRleHQ9X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpO2lmKHZpc2libGVUZXh0PT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcignQWN0dWFsIHZhbHVlIFwiJyt2aXNpYmxlVGV4dCsnXCIgZGlkIG1hdGNoIFwiJyt2YWx1ZSsnXCInKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXt2YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZSE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2VsZW1lbnQudmFsdWUrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRUaXRsZT1mdW5jdGlvbih2YWx1ZSl7aWYoX2Nsb3N1cmVQb2x5ZmlsbDIuZGVmYXVsdC5zdHJpbmcubm9ybWFsaXplU3BhY2VzKHRoaXMuZ2V0VGl0bGUoKSkhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitfY2xvc3VyZVBvbHlmaWxsMi5kZWZhdWx0LnN0cmluZy5ub3JtYWxpemVTcGFjZXModGhpcy5nZXRUaXRsZSgpKStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydEVsZW1lbnRQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXt0aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7fWNhdGNoKGVycm9yKXtpZihlcnJvci5tZXNzYWdlLm1hdGNoKC9FbGVtZW50W1xcc1xcU10qP25vdCBmb3VuZC8pKXt0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgd2l0aCBsb2NhdG9yICcrbG9jYXRvcisnIGNvdWxkIG5vdCBiZSBmb3VuZCcpO31lbHNle3Rocm93IGVycm9yO319fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRFbGVtZW50Tm90UHJlc2VudD1mdW5jdGlvbihsb2NhdG9yKXt0cnl7dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3Rocm93IG5ldyBFcnJvcignRWxlbWVudCB3aXRoIGxvY2F0b3IgJytsb2NhdG9yKycgd2FzIGZvdW5kJyk7fWNhdGNoKGVycm9yKXtpZighZXJyb3IubWVzc2FnZS5tYXRjaCgvRWxlbWVudFtcXHNcXFNdKj9ub3QgZm91bmQvKSl7dGhyb3cgZXJyb3I7fX19O2Z1bmN0aW9uIHRocm93SWZOb1Zhck5hbWVQcm92aWRlZCh2YXJOYW1lKXtpZighdmFyTmFtZSl7dGhyb3cgbmV3IEVycm9yKCdObyB2YXJpYWJsZSBuYW1lIHByb3ZpZGVkLicpO319U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmU9ZnVuY3Rpb24odmFsdWUsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO3JldHVybiBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6dmFsdWUsc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVFdmFsPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdzdG9yZSBldmFsIGlzIG9ic29sZXRlIHBsZWFzZSBtaWdyYXRlIHRvIGV4ZWN1dGUgc2NyaXB0Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TdG9yZVRleHQ9ZnVuY3Rpb24obG9jYXRvcix2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7dmFyIHRleHQ9dm9pZCAwO3RyeXsvLyBUcnkgdG8gZ2V0IHRoZSB0ZXh0IGlmIHRoZSBlbGVtZW50IGlzIHZpc2libGVcbnZhciBlbGVtZW50PXRoaXMuZmluZEVsZW1lbnRWaXNpYmxlKGxvY2F0b3IpO3RleHQ9X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpO31jYXRjaChlKXsvLyBlbGVtZW50IGlzIG5vdCB2aXNpYmxlLCBidXQgaXQgbWF5IGJlIGR1ZSB0byB0aGUgZmFjdCB0aGF0IGl0IGhhcyBubyB0ZXh0XG52YXIgX2VsZW1lbnQyPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihfZWxlbWVudDIuaW5uZXJIVE1MPT09Jycpey8vIGVsZW1lbnQgaXMgZW1wdHkgdGhlbiByZXR1cm4gZW1wdHkgc3RyaW5nXG50ZXh0PScnO31lbHNley8vIGVsZW1lbnQgaGFzIGNvbnRlbnQgdGhpcyBpcyBpbmRlZWQgaW52aXNpYmxlXG50aHJvdyBlO319cmV0dXJuIF93ZWJleHRlbnNpb25Qb2x5ZmlsbDIuZGVmYXVsdC5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjp0ZXh0LHN0b3JlVmFyOnZhck5hbWV9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6ZWxlbWVudC52YWx1ZS50cmltKCksc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVUaXRsZT1mdW5jdGlvbih2YWx1ZSx2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7dmFyIGRvYz1fY29tbWFuZHNBcGkuc2VsZW5pdW0uYnJvd3NlcmJvdC5nZXREb2N1bWVudCgpO3JldHVybiBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6dmFsdWV8fGRvYy50aXRsZSxzdG9yZVZhcjp2YXJOYW1lfSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TdG9yZVhwYXRoQ291bnQ9ZnVuY3Rpb24oeHBhdGgsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO3ZhciBjb3VudD10aGlzLmJyb3dzZXJib3QuZXZhbHVhdGVYUGF0aENvdW50KHhwYXRoLHRoaXMuYnJvd3NlcmJvdC5nZXREb2N1bWVudCgpKTtyZXR1cm4gX3dlYmV4dGVuc2lvblBvbHlmaWxsMi5kZWZhdWx0LnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOicnK2NvdW50fHwnMCcsc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVBdHRyaWJ1dGU9ZnVuY3Rpb24obG9jYXRvcix2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7dmFyIGF0dHJpYnV0ZVZhbHVlPXRoaXMuYnJvd3NlcmJvdC5maW5kQXR0cmlidXRlKGxvY2F0b3IpO3JldHVybiBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6YXR0cmlidXRlVmFsdWUsc3RvcmVWYXI6dmFyTmFtZX0pO307ZnVuY3Rpb24gd2FpdFVudGlsKGNvbmRpdGlvbix0YXJnZXQsdGltZW91dCxmYWlsdXJlTWVzc2FnZSl7aWYoIXRpbWVvdXQpe3Rocm93IG5ldyBFcnJvcignVGltZW91dCBub3Qgc3BlY2lmaWVkLicpO31yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciBjb3VudD0wO3ZhciByZXRyeUludGVydmFsPTEwMDt2YXIgcmVzdWx0PXZvaWQgMDt2YXIgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihjb3VudD50aW1lb3V0KXtjbGVhckludGVydmFsKGludGVydmFsKTtyZWplY3QoZmFpbHVyZU1lc3NhZ2UpO310cnl7cmVzdWx0PWNvbmRpdGlvbih0YXJnZXQpO31jYXRjaChlcnJvcil7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7cmVqZWN0KGVycm9yLm1lc3NhZ2UpO31pZighcmVzdWx0KXtjb3VudCs9cmV0cnlJbnRlcnZhbDt9ZWxzZSBpZihyZXN1bHQpe2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO3Jlc29sdmUoKTt9fSxyZXRyeUludGVydmFsKTt9KTt9U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckVsZW1lbnRQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3IsdGltZW91dCl7cmV0dXJuIHdhaXRVbnRpbCh0aGlzLmlzRWxlbWVudFByZXNlbnQuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ1VuYWJsZSB0byBmaW5kIHRoZSB0YXJnZXQgZWxlbWVudCB3aXRoaW4gdGhlIHRpbWVvdXQgc3BlY2lmaWVkLicpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckVsZW1lbnROb3RQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3IsdGltZW91dCl7cmV0dXJuIHdhaXRVbnRpbChpc0VsZW1lbnROb3RQcmVzZW50LmJpbmQodGhpcyksbG9jYXRvcix0aW1lb3V0LCdFbGVtZW50IHN0aWxsIHByZXNlbnQgb24gdGhlIHBhZ2Ugd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50VmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNEaXNwbGF5ZWQuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgbm90IHZpc2libGUgb24gdGhlIHBhZ2Ugd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50Tm90VmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNOb3REaXNwbGF5ZWQuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgc3RpbGwgdmlzaWJsZSBvbiB0aGUgcGFnZSB3aXRoaW4gdGhlIHRpbWVvdXQgc3BlY2lmaWVkLicpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckVsZW1lbnRFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNFZGl0YWJsZS5iaW5kKHRoaXMpLGxvY2F0b3IsdGltZW91dCwnRWxlbWVudCBub3QgZWRpdGFibGUgd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50Tm90RWRpdGFibGU9ZnVuY3Rpb24obG9jYXRvcix0aW1lb3V0KXtyZXR1cm4gd2FpdFVudGlsKGlzTm90RWRpdGFibGUuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgc3RpbGwgZWRpdGFibGUgd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9Oy8vIHhpYW5cblNlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRQcmVwYXJhdGlvbj1mdW5jdGlvbigpey8vIGZ1bmN0aW9uIHNldE5ld1BhZ2VWYWx1ZShlKSB7XG4vLyAgICAgd2luZG93Lm5ld19wYWdlID0gdHJ1ZTtcbi8vIH07XG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBzZXROZXdQYWdlVmFsdWUsIGZhbHNlKTtcbi8vIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtcbi8vICAgICAvLyBvbmx5IG92ZXJyaWRlIFhNTEh0dHBSZXF1ZXN0IG9uY2Vcbi8vICAgICBpZiAoIXdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgfHwgIXdpbmRvdy5hamF4X29iaikge1xuLy8gICAgICAgICAvLyBpdCdzIG5ldyBwYWdlLCBzbyBzZXQgdGhlIG5ldyB3aW5kb3cncyBYTUxIdHRwUmVxdWVzdCwgYW5kIGFsbCBvZiB0aGUgb2JqIGluIHRoZSBhamF4X29ialxuLy8gICAgICAgICAvLyBhcmUgbGFzdCB3aW5kb3cncyBpbnN0YW5jZSwgc28gY2xlYXIgaXRcbi8vICAgICAgICAgd2luZG93LmFqYXhfb2JqID0gW107XG4vLyAgICAgICAgIHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG4vLyAgICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgdmFyIHhociA9IG5ldyB3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0KCk7XG4vLyAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmoucHVzaCh4aHIpO1xuLy8gICAgICAgICAgICAgcmV0dXJuIHhocjtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH1cbi8vIGZ1bmN0aW9uIHNldERPTU1vZGlmaWVkVGltZSgpIHtcbi8vICAgICB3aW5kb3cuZG9tTW9kaWZpZWRUaW1lID0gRGF0ZS5ub3coKTtcbi8vIH1cbi8vIHZhciBfd2luID0gd2luZG93LmRvY3VtZW50LmJvZHk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcbi8vIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50XCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xuLy8gX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NU3VidHJlZU1vZGlmaWVkXCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xudGhpcy5ldmFsKCdmdW5jdGlvbiBzZXROZXdQYWdlVmFsdWUoZSkge3dpbmRvdy5uZXdfcGFnZSA9IHRydWU7fTtcXFxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHNldE5ld1BhZ2VWYWx1ZSwgZmFsc2UpO1xcXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge2lmICghd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCB8fCAhd2luZG93LmFqYXhfb2JqKSB7XFxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmogPSBbXTsgd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtcXFxuICAgICAgICAgICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKCkgeyB2YXIgeGhyID0gbmV3IHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QoKTtcXFxuICAgICAgICAgICAgICAgIHdpbmRvdy5hamF4X29iai5wdXNoKHhocik7IHJldHVybiB4aHI7fX19IGZ1bmN0aW9uIHNldERPTU1vZGlmaWVkVGltZSgpIHtcXFxuICAgICAgICAgICAgICAgIHdpbmRvdy5kb21Nb2RpZmllZFRpbWUgPSBEYXRlLm5vdygpO312YXIgX3dpbiA9IHdpbmRvdy5kb2N1bWVudC5ib2R5O1xcXG4gICAgICAgICAgICAgICAgX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkXCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xcXG4gICAgICAgICAgICAgICAgX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50XCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xcXG4gICAgICAgICAgICAgICAgX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZVJlbW92ZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XFxcbiAgICAgICAgICAgICAgICBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcXFxuICAgICAgICAgICAgICAgIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTVN1YnRyZWVNb2RpZmllZFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTsnLFtdLGZhbHNlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ByZVBhZ2VXYWl0PWZ1bmN0aW9uKCl7d2luZG93LnNpZGVleF9uZXdfcGFnZT10aGlzLmV2YWwoJyhmdW5jdGlvbigpIHtyZXR1cm4gd2luZG93Lm5ld19wYWdlO30oKSknLFtdLGZhbHNlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1BhZ2VXYWl0PWZ1bmN0aW9uKCl7Ly8gaWYgKHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikge1xuLy8gICAgIHJldHVybiB0cnVlO1xuLy8gfSBlbHNlIHtcbi8vICAgICByZXR1cm4gZmFsc2U7XG4vLyB9XG52YXIgZXhwcmVzc2lvbj0naWYod2luZG93LmRvY3VtZW50LnJlYWR5U3RhdGU9PVwiY29tcGxldGVcIil7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGZhbHNlO30nO3dpbmRvdy5zaWRlZXhfcGFnZV9kb25lPXRoaXMuZXZhbCgnKGZ1bmN0aW9uKCkgeycrZXhwcmVzc2lvbisnfSgpKScsW10sZmFsc2UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQWpheFdhaXQ9ZnVuY3Rpb24oKXsvLyAvLyBjaGVjayBhamF4IHdhaXRcbi8vIGlmICh3aW5kb3cuYWpheF9vYmopIHtcbi8vICAgICBpZiAod2luZG93LmFqYXhfb2JqLmxlbmd0aCA9PSAwKSB7XG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIGZvciAodmFyIGluZGV4IGluIHdpbmRvdy5hamF4X29iaikge1xuLy8gICAgICAgICAvLyBpZiByZWFkeVN0YXRlIGlzIDF+MywgdGhlbiBrZWVwIHdhaXRpbmdcbi8vICAgICAgICAgICAgIGlmICh3aW5kb3cuYWpheF9vYmpbaW5kZXhdLnJlYWR5U3RhdGUgIT09IDQgJiZcbi8vICAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmpbaW5kZXhdLnJlYWR5U3RhdGUgIT09IHVuZGVmaW5lZCAmJlxuLy8gICAgICAgICAgICAgICAgIHdpbmRvdy5hamF4X29ialtpbmRleF0ucmVhZHlTdGF0ZSAhPT0gMCkge1xuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgcmV0dXJuIHRydWU7XG4vLyAgICAgfVxuLy8gfSBlbHNlIHtcbi8vICAgICBpZiAod2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCkge1xuLy8gICAgICAgICB3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0ID0gXCJcIjtcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIHRydWU7XG4vLyB9XG52YXIgZXhwcmVzc2lvbj0naWYgKHdpbmRvdy5hamF4X29iaikgeyBpZiAod2luZG93LmFqYXhfb2JqLmxlbmd0aCA9PSAwKSB7cmV0dXJuIHRydWU7fSBlbHNlIHtcXFxuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4IGluIHdpbmRvdy5hamF4X29iaikge1xcXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5hamF4X29ialtpbmRleF0ucmVhZHlTdGF0ZSAhPT0gNCAmJlxcXG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFqYXhfb2JqW2luZGV4XS5yZWFkeVN0YXRlICE9PSB1bmRlZmluZWQgJiZcXFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hamF4X29ialtpbmRleF0ucmVhZHlTdGF0ZSAhPT0gMCkge3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO319XFxcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtpZiAod2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCkge3dpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgPSBcIlwiO31yZXR1cm4gdHJ1ZTt9Jzt3aW5kb3cuc2lkZWV4X2FqYXhfZG9uZT10aGlzLmV2YWwoJyhmdW5jdGlvbigpIHsnK2V4cHJlc3Npb24rJ30oKSknLFtdLGZhbHNlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RvbVdhaXQ9ZnVuY3Rpb24oKXt3aW5kb3cuc2lkZWV4X2RvbV90aW1lPXRoaXMuZXZhbCgnKGZ1bmN0aW9uKCkge3JldHVybiB3aW5kb3cuZG9tTW9kaWZpZWRUaW1lO30oKSknLFtdLGZhbHNlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0NsaWNrPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBDbGlja3Mgb24gYSBsaW5rLCBidXR0b24sIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi4gSWYgdGhlIGNsaWNrIGFjdGlvblxuICAgKiBjYXVzZXMgYSBuZXcgcGFnZSB0byBsb2FkIChsaWtlIGEgbGluayB1c3VhbGx5IGRvZXMpLCBjYWxsXG4gICAqIHdhaXRGb3JQYWdlVG9Mb2FkLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcbiAgICpcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO19jbG9zdXJlUG9seWZpbGwuYm90LmFjdGlvbi5jbGljayhlbGVtZW50KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RvdWJsZUNsaWNrPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBEb3VibGUgY2xpY2tzIG9uIGEgbGluaywgYnV0dG9uLCBjaGVja2JveCBvciByYWRpbyBidXR0b24uIElmIHRoZSBkb3VibGUgY2xpY2sgYWN0aW9uXG4gICAqIGNhdXNlcyBhIG5ldyBwYWdlIHRvIGxvYWQgKGxpa2UgYSBsaW5rIHVzdWFsbHkgZG9lcyksIGNhbGxcbiAgICogd2FpdEZvclBhZ2VUb0xvYWQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxuICAgKlxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuYWN0aW9uLmRvdWJsZUNsaWNrKGVsZW1lbnQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ29udGV4dE1lbnU9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNpbXVsYXRlcyBvcGVuaW5nIHRoZSBjb250ZXh0IG1lbnUgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCAoYXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB1c2VyIFwicmlnaHQtY2xpY2tlZFwiIG9uIHRoZSBlbGVtZW50KS5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXG4gICAqXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5hY3Rpb24ucmlnaHRDbGljayhlbGVtZW50KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0NsaWNrQXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIENsaWNrcyBvbiBhIGxpbmssIGJ1dHRvbiwgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLiBJZiB0aGUgY2xpY2sgYWN0aW9uXG4gICAqIGNhdXNlcyBhIG5ldyBwYWdlIHRvIGxvYWQgKGxpa2UgYSBsaW5rIHVzdWFsbHkgZG9lcyksIGNhbGxcbiAgICogd2FpdEZvclBhZ2VUb0xvYWQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt2YXIgY29vcmRzPWdldENvb3JkcyhlbGVtZW50LGNvb3JkU3RyaW5nKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5hY3Rpb24uY2xpY2soZWxlbWVudCxjb29yZHMpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRG91YmxlQ2xpY2tBdD1mdW5jdGlvbihsb2NhdG9yLGNvb3JkU3RyaW5nKXsvKipcbiAgICogRG91YmxlY2xpY2tzIG9uIGEgbGluaywgYnV0dG9uLCBjaGVja2JveCBvciByYWRpbyBidXR0b24uIElmIHRoZSBhY3Rpb25cbiAgICogY2F1c2VzIGEgbmV3IHBhZ2UgdG8gbG9hZCAobGlrZSBhIGxpbmsgdXN1YWxseSBkb2VzKSwgY2FsbFxuICAgKiB3YWl0Rm9yUGFnZVRvTG9hZC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cbiAgICpcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBjb29yZHM9Z2V0Q29vcmRzKGVsZW1lbnQsY29vcmRTdHJpbmcpO19jbG9zdXJlUG9seWZpbGwuYm90LmFjdGlvbi5kb3VibGVDbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250ZXh0TWVudUF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxuICAgKiBTaW11bGF0ZXMgb3BlbmluZyB0aGUgY29udGV4dCBtZW51IGZvciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgKGFzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgdXNlciBcInJpZ2h0LWNsaWNrZWRcIiBvbiB0aGUgZWxlbWVudCkuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt2YXIgY29vcmRzPWdldENvb3JkcyhlbGVtZW50LGNvb3JkU3RyaW5nKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5hY3Rpb24ucmlnaHRDbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Gb2N1cz1mdW5jdGlvbihsb2NhdG9yKXsvKiogTW92ZSB0aGUgZm9jdXMgdG8gdGhlIHNwZWNpZmllZCBlbGVtZW50OyBmb3IgZXhhbXBsZSwgaWYgdGhlIGVsZW1lbnQgaXMgYW4gaW5wdXQgZmllbGQsIG1vdmUgdGhlIGN1cnNvciB0byB0aGF0IGZpZWxkLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC5mb2N1cyl7ZWxlbWVudC5mb2N1cygpO31lbHNle19jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5maXJlKGVsZW1lbnQsX2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvU2hpZnRLZXlEb3duPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFByZXNzIHRoZSBzaGlmdCBrZXkgYW5kIGhvbGQgaXQgZG93biB1bnRpbCBkb1NoaWZ0VXAoKSBpcyBjYWxsZWQgb3IgYSBuZXcgcGFnZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zaGlmdEtleURvd249dHJ1ZTtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLnNoaWZ0S2V5RG93bl89dHJ1ZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NoaWZ0S2V5VXA9ZnVuY3Rpb24oKXsvKipcbiAgICogUmVsZWFzZSB0aGUgc2hpZnQga2V5LlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3Quc2hpZnRLZXlEb3duPWZhbHNlO19jbG9zdXJlUG9seWZpbGwuY29yZS5ldmVudHMuc2hpZnRLZXlEb3duXz1mYWxzZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01ldGFLZXlEb3duPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFByZXNzIHRoZSBtZXRhIGtleSBhbmQgaG9sZCBpdCBkb3duIHVudGlsIGRvTWV0YVVwKCkgaXMgY2FsbGVkIG9yIGEgbmV3IHBhZ2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QubWV0YUtleURvd249dHJ1ZTtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLm1ldGFLZXlEb3duXz10cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTWV0YUtleVVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJlbGVhc2UgdGhlIG1ldGEga2V5LlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QubWV0YUtleURvd249ZmFsc2U7X2Nsb3N1cmVQb2x5ZmlsbC5jb3JlLmV2ZW50cy5tZXRhS2V5RG93bl89ZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9BbHRLZXlEb3duPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFByZXNzIHRoZSBhbHQga2V5IGFuZCBob2xkIGl0IGRvd24gdW50aWwgZG9BbHRVcCgpIGlzIGNhbGxlZCBvciBhIG5ldyBwYWdlIGlzIGxvYWRlZC5cbiAgICpcbiAgICovdGhpcy5icm93c2VyYm90LmFsdEtleURvd249dHJ1ZTtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLmFsdEtleURvd25fPXRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9BbHRLZXlVcD1mdW5jdGlvbigpey8qKlxuICAgKiBSZWxlYXNlIHRoZSBhbHQga2V5LlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QuYWx0S2V5RG93bj1mYWxzZTtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLmFsdEtleURvd25fPWZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ29udHJvbEtleURvd249ZnVuY3Rpb24oKXsvKipcbiAgICogUHJlc3MgdGhlIGNvbnRyb2wga2V5IGFuZCBob2xkIGl0IGRvd24gdW50aWwgZG9Db250cm9sVXAoKSBpcyBjYWxsZWQgb3IgYSBuZXcgcGFnZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bj10cnVlO19jbG9zdXJlUG9seWZpbGwuY29yZS5ldmVudHMuY29udHJvbEtleURvd25fPXRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250cm9sS2V5VXA9ZnVuY3Rpb24oKXsvKipcbiAgICogUmVsZWFzZSB0aGUgY29udHJvbCBrZXkuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bj1mYWxzZTtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLmNvbnRyb2xLZXlEb3duXz1mYWxzZTt9O2Z1bmN0aW9uIGdldENsaWVudFhZKGVsZW1lbnQsY29vcmRTdHJpbmcpey8vIFBhcnNlIGNvb3JkU3RyaW5nXG52YXIgY29vcmRzPW51bGw7dmFyIHg9dm9pZCAwO3ZhciB5PXZvaWQgMDtpZihjb29yZFN0cmluZyl7Y29vcmRzPWNvb3JkU3RyaW5nLnNwbGl0KC8sLyk7eD1OdW1iZXIoY29vcmRzWzBdKTt5PU51bWJlcihjb29yZHNbMV0pO31lbHNle3g9eT0wO30vLyBHZXQgcG9zaXRpb24gb2YgZWxlbWVudCxcbi8vIFJldHVybiAyIGl0ZW0gYXJyYXkgd2l0aCBjbGllbnRYIGFuZCBjbGllbnRZXG5yZXR1cm5bU2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRQb3NpdGlvbkxlZnQoZWxlbWVudCkreCxTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudFBvc2l0aW9uVG9wKGVsZW1lbnQpK3ldO31mdW5jdGlvbiBnZXRDb29yZHMoX2VsZW1lbnQsY29vcmRTdHJpbmcpey8vIFBhcnNlIGNvb3JkU3RyaW5nXG52YXIgY29vcmRzPW51bGw7dmFyIHg9dm9pZCAwO3ZhciB5PXZvaWQgMDtpZihjb29yZFN0cmluZyl7Y29vcmRzPWNvb3JkU3RyaW5nLnNwbGl0KC8sLyk7eD1OdW1iZXIoY29vcmRzWzBdKTt5PU51bWJlcihjb29yZHNbMV0pO31lbHNle3g9eT0wO31yZXR1cm4gbmV3IF9jbG9zdXJlUG9seWZpbGwyLmRlZmF1bHQubWF0aC5Db29yZGluYXRlKHgseSk7fVNlbGVuaXVtLnByb3RvdHlwZS5wcmVwYXJlVG9JbnRlcmFjdF89ZnVuY3Rpb24obG9jYXRvcil7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciByZWN0PWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuYWN0aW9uLnByZXBhcmVUb0ludGVyYWN0V2l0aF8oZWxlbWVudCxuZXcgX2Nsb3N1cmVQb2x5ZmlsbDIuZGVmYXVsdC5tYXRoLkNvb3JkaW5hdGUocmVjdC53aWR0aC8yLHJlY3QuaGVpZ2h0LzIpKTtyZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlT3Zlcj1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIGEgdXNlciBob3ZlcmluZyBhIG1vdXNlIG92ZXIgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7dmFyIHJlY3Q9ZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5hY3Rpb24ubW92ZU1vdXNlKGVsZW1lbnQsbmV3IF9jbG9zdXJlUG9seWZpbGwyLmRlZmF1bHQubWF0aC5Db29yZGluYXRlKHJlY3Qud2lkdGgvMixyZWN0LmhlaWdodC8yKSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZU91dD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIGEgdXNlciBtb3ZpbmcgdGhlIG1vdXNlIHBvaW50ZXIgYXdheSBmcm9tIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZW91dCcsdHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZURvd249ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIGxlZnQgbW91c2UgYnV0dG9uICh3aXRob3V0IHJlbGVhc2luZyBpdCB5ZXQpIG9uXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZWRvd24nLHRydWUpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VEb3duUmlnaHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBvblxuICAgKiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vkb3duJyx0cnVlLHVuZGVmaW5lZCx1bmRlZmluZWQsU2VsZW5pdW0uUklHSFRfTU9VU0VfQ0xJQ0spO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VEb3duQXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIGxlZnQgbW91c2UgYnV0dG9uICh3aXRob3V0IHJlbGVhc2luZyBpdCB5ZXQpIGF0XG4gICAqIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBjbGllbnRYWT1nZXRDbGllbnRYWShlbGVtZW50LGNvb3JkU3RyaW5nKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vkb3duJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlRG93blJpZ2h0QXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBhdFxuICAgKiB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt2YXIgY2xpZW50WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlZG93bicsdHJ1ZSxjbGllbnRYWVswXSxjbGllbnRYWVsxXSxTZWxlbml1bS5SSUdIVF9NT1VTRV9DTElDSyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZVVwPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBTaW11bGF0ZXMgdGhlIGV2ZW50IHRoYXQgb2NjdXJzIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgdGhlIG1vdXNlIGJ1dHRvbiAoaS5lLiwgc3RvcHNcbiAgICogaG9sZGluZyB0aGUgYnV0dG9uIGRvd24pIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlVXBSaWdodD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSBldmVudCB0aGF0IG9jY3VycyB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIHRoZSByaWdodCBtb3VzZSBidXR0b24gKGkuZS4sIHN0b3BzXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBvbiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2V1cCcsdHJ1ZSx1bmRlZmluZWQsdW5kZWZpbmVkLFNlbGVuaXVtLlJJR0hUX01PVVNFX0NMSUNLKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlVXBBdD1mdW5jdGlvbihsb2NhdG9yLGNvb3JkU3RyaW5nKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSBldmVudCB0aGF0IG9jY3VycyB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIHRoZSBtb3VzZSBidXR0b24gKGkuZS4sIHN0b3BzXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBhdCB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt2YXIgY2xpZW50WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNldXAnLHRydWUsY2xpZW50WFlbMF0sY2xpZW50WFlbMV0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VVcFJpZ2h0QXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyB0aGUgZXZlbnQgdGhhdCBvY2N1cnMgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIChpLmUuLCBzdG9wc1xuICAgKiBob2xkaW5nIHRoZSBidXR0b24gZG93bikgYXQgdGhlIHNwZWNpZmllZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7dmFyIGNsaWVudFhZPWdldENsaWVudFhZKGVsZW1lbnQsY29vcmRTdHJpbmcpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdLFNlbGVuaXVtLlJJR0hUX01PVVNFX0NMSUNLKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlTW92ZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIGEgdXNlciBwcmVzc2luZyB0aGUgbW91c2UgYnV0dG9uICh3aXRob3V0IHJlbGVhc2luZyBpdCB5ZXQpIG9uXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZW1vdmUnLHRydWUpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VNb3ZlQXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBvblxuICAgKiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBjbGllbnRYWT1nZXRDbGllbnRYWShlbGVtZW50LGNvb3JkU3RyaW5nKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1R5cGU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7LyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGZpZWxkLCBhcyB0aG91Z2ggeW91IHR5cGVkIGl0IGluLlxuICAgKlxuICAgKiA8cD5DYW4gYWxzbyBiZSB1c2VkIHRvIHNldCB0aGUgdmFsdWUgb2YgY29tYm8gYm94ZXMsIGNoZWNrIGJveGVzLCBldGMuIEluIHRoZXNlIGNhc2VzLFxuICAgKiB2YWx1ZSBzaG91bGQgYmUgdGhlIHZhbHVlIG9mIHRoZSBvcHRpb24gc2VsZWN0ZWQsIG5vdCB0aGUgdmlzaWJsZSB0ZXh0LjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byB0eXBlXG4gICAqL2lmKHRoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bnx8dGhpcy5icm93c2VyYm90LmFsdEtleURvd258fHRoaXMuYnJvd3NlcmJvdC5tZXRhS2V5RG93bil7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCd0eXBlIG5vdCBzdXBwb3J0ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgY2FsbCB0byBjb250cm9sS2V5RG93bigpIG9yIGFsdEtleURvd24oKSBvciBtZXRhS2V5RG93bigpJyk7fXZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLnNldFZhbHVlKGVsZW1lbnQsJycpO3ZhciB0eXBlPWVsZW1lbnQudHlwZTtpZih0eXBlPT09J251bWJlcid8fHR5cGU9PT0nZGF0ZScpe19jbG9zdXJlUG9seWZpbGwuY29yZS5ldmVudHMuc2V0VmFsdWUoZWxlbWVudCx2YWx1ZSk7fWVsc2V7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuYWN0aW9uLnR5cGUoZWxlbWVudCx2YWx1ZSk7aWYoZWxlbWVudC52YWx1ZSE9PXZhbHVlKXtfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZXZlbnRzLnNldFZhbHVlKGVsZW1lbnQsdmFsdWUpO319X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZW5kS2V5cz1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXsvKipcbiAgICogKkV4cGVyaW1lbnRhbCogU2ltdWxhdGVzIGtleXN0cm9rZSBldmVudHMgb24gdGhlIHNwZWNpZmllZCBlbGVtZW50LCBhcyB0aG91Z2ggeW91IHR5cGVkIHRoZSB2YWx1ZSBrZXktYnkta2V5LlxuICAgKlxuICAgKiA8cD5UaGlzIHNpbXVsYXRlcyBhIHJlYWwgdXNlciB0eXBpbmcgZXZlcnkgY2hhcmFjdGVyIGluIHRoZSBzcGVjaWZpZWQgc3RyaW5nOyBpdCBpcyBhbHNvIGJvdW5kIGJ5IHRoZSBsaW1pdGF0aW9ucyBvZiBhXG4gICAqIHJlYWwgdXNlciwgbGlrZSBub3QgYmVpbmcgYWJsZSB0byB0eXBlIGludG8gYSBpbnZpc2libGUgb3IgcmVhZCBvbmx5IGVsZW1lbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3IgZHluYW1pYyBVSSB3aWRnZXRzXG4gICAqIChsaWtlIGF1dG8tY29tcGxldGluZyBjb21ibyBib3hlcykgdGhhdCByZXF1aXJlIGV4cGxpY2l0IGtleSBldmVudHMuPC9wPlxuICAgKiA8cD5Vbmxpa2UgdGhlIHNpbXBsZSBcInR5cGVcIiBjb21tYW5kLCB3aGljaCBmb3JjZXMgdGhlIHNwZWNpZmllZCB2YWx1ZSBpbnRvIHRoZSBwYWdlIGRpcmVjdGx5LCB0aGlzIGNvbW1hbmQgd2lsbCBub3RcbiAgICogcmVwbGFjZSB0aGUgZXhpc3RpbmcgY29udGVudC4gSWYgeW91IHdhbnQgdG8gcmVwbGFjZSB0aGUgZXhpc3RpbmcgY29udGVudHMsIHlvdSBuZWVkIHRvIHVzZSB0aGUgc2ltcGxlIFwidHlwZVwiIGNvbW1hbmQgdG8gc2V0IHRoZSB2YWx1ZSBvZiB0aGVcbiAgICogZmllbGQgdG8gZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBmaWVsZCBhbmQgdGhlbiB0aGUgXCJzZW5kS2V5c1wiIGNvbW1hbmQgdG8gc2VuZCB0aGUga2V5c3Ryb2tlIGZvciB3aGF0IHlvdSB3YW50XG4gICAqIHRvIHR5cGUuPC9wPlxuICAgKiA8cD5UaGlzIGNvbW1hbmQgaXMgZXhwZXJpbWVudGFsLiBJdCBtYXkgcmVwbGFjZSB0aGUgdHlwZUtleXMgY29tbWFuZCBpbiB0aGUgZnV0dXJlLjwvcD5cbiAgICogPHA+Rm9yIHRob3NlIHdobyBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgZGV0YWlscywgdW5saWtlIHRoZSB0eXBlS2V5cyBjb21tYW5kLCB3aGljaCB0cmllcyB0b1xuICAgKiBmaXJlIHRoZSBrZXlEb3duLCB0aGUga2V5VXAgYW5kIHRoZSBrZXlQcmVzcyBldmVudHMsIHRoaXMgY29tbWFuZCBpcyBiYWNrZWQgYnkgdGhlIGF0b21zIGZyb20gU2VsZW5pdW0gMiBhbmQgcHJvdmlkZXMgYVxuICAgKiBtdWNoIG1vcmUgcm9idXN0IGltcGxlbWVudGF0aW9uIHRoYXQgd2lsbCBiZSBtYWludGFpbmVkIGluIHRoZSBmdXR1cmUuPC9wPlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIHRvIHR5cGVcbiAgICovaWYodGhpcy5icm93c2VyYm90LmNvbnRyb2xLZXlEb3dufHx0aGlzLmJyb3dzZXJib3QuYWx0S2V5RG93bnx8dGhpcy5icm93c2VyYm90Lm1ldGFLZXlEb3duKXt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ3R5cGUgbm90IHN1cHBvcnRlZCBpbW1lZGlhdGVseSBhZnRlciBjYWxsIHRvIGNvbnRyb2xLZXlEb3duKCkgb3IgYWx0S2V5RG93bigpIG9yIG1ldGFLZXlEb3duKCknKTt9dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBrZXlzPXRoaXMucmVwbGFjZUtleXModmFsdWUpO19jbG9zdXJlUG9seWZpbGwuYm90LmFjdGlvbi50eXBlKGVsZW1lbnQsa2V5cyk7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZXRTcGVlZD1mdW5jdGlvbigpey8qKlxuICAgKiBTZXQgZXhlY3V0aW9uIHNwZWVkIChpLmUuLCBzZXQgdGhlIG1pbGxpc2Vjb25kIGxlbmd0aCBvZiBhIGRlbGF5IHdoaWNoIHdpbGwgZm9sbG93IGVhY2ggc2VsZW5pdW0gb3BlcmF0aW9uKS4gIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIHN1Y2ggZGVsYXksIGkuZS4sXG4gICAqIHRoZSBkZWxheSBpcyAwIG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHBhdXNlIGFmdGVyIG9wZXJhdGlvblxuICAgKi90aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ3RoaXMgb3BlcmF0aW9uIGlzIG9ubHkgaW1wbGVtZW50ZWQgaW4gc2VsZW5pdW0tcmMsIGFuZCBzaG91bGQgbmV2ZXIgcmVzdWx0IGluIGEgcmVxdWVzdCBtYWtpbmcgaXQgYWNyb3NzIHRoZSB3aXJlJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U3BlZWQ9ZnVuY3Rpb24oKXsvKipcbiAgICogR2V0IGV4ZWN1dGlvbiBzcGVlZCAoaS5lLiwgZ2V0IHRoZSBtaWxsaXNlY29uZCBsZW5ndGggb2YgdGhlIGRlbGF5IGZvbGxvd2luZyBlYWNoIHNlbGVuaXVtIG9wZXJhdGlvbikuICBCeSBkZWZhdWx0LCB0aGVyZSBpcyBubyBzdWNoIGRlbGF5LCBpLmUuLFxuICAgKiB0aGUgZGVsYXkgaXMgMCBtaWxsaXNlY29uZHMuXG4gICAqXG4gICAqIFNlZSBhbHNvIHNldFNwZWVkLlxuICAgKlxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgZXhlY3V0aW9uIHNwZWVkIGluIG1pbGxpc2Vjb25kcy5cbiAgICovdGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCd0aGlzIG9wZXJhdGlvbiBpcyBvbmx5IGltcGxlbWVudGVkIGluIHNlbGVuaXVtLXJjLCBhbmQgc2hvdWxkIG5ldmVyIHJlc3VsdCBpbiBhIHJlcXVlc3QgbWFraW5nIGl0IGFjcm9zcyB0aGUgd2lyZScpO307U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRUb2dnbGVCdXR0b249ZnVuY3Rpb24obG9jYXRvcil7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQuY2hlY2tlZD09bnVsbCl7dGhyb3cgbmV3IEVycm9yKCdFbGVtZW50ICcrbG9jYXRvcisnIGlzIG5vdCBhIHRvZ2dsZS1idXR0b24uJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufXJldHVybiBlbGVtZW50O307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ2hlY2s9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIENoZWNrIGEgdG9nZ2xlLWJ1dHRvbiAoY2hlY2tib3gvcmFkaW8pXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL3RoaXMuZmluZFRvZ2dsZUJ1dHRvbihsb2NhdG9yKS5jaGVja2VkPXRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9VbmNoZWNrPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBVbmNoZWNrIGEgdG9nZ2xlLWJ1dHRvbiAoY2hlY2tib3gvcmFkaW8pXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL3RoaXMuZmluZFRvZ2dsZUJ1dHRvbihsb2NhdG9yKS5jaGVja2VkPWZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0PWZ1bmN0aW9uKHNlbGVjdExvY2F0b3Isb3B0aW9uTG9jYXRvcil7LyoqXG4gICAqIFNlbGVjdCBhbiBvcHRpb24gZnJvbSBhIGRyb3AtZG93biB1c2luZyBhbiBvcHRpb24gbG9jYXRvci5cbiAgICpcbiAgICogPHA+XG4gICAqIE9wdGlvbiBsb2NhdG9ycyBwcm92aWRlIGRpZmZlcmVudCB3YXlzIG9mIHNwZWNpZnlpbmcgb3B0aW9ucyBvZiBhbiBIVE1MXG4gICAqIFNlbGVjdCBlbGVtZW50IChlLmcuIGZvciBzZWxlY3RpbmcgYSBzcGVjaWZpYyBvcHRpb24sIG9yIGZvciBhc3NlcnRpbmdcbiAgICogdGhhdCB0aGUgc2VsZWN0ZWQgb3B0aW9uIHNhdGlzZmllcyBhIHNwZWNpZmljYXRpb24pLiBUaGVyZSBhcmUgc2V2ZXJhbFxuICAgKiBmb3JtcyBvZiBTZWxlY3QgT3B0aW9uIExvY2F0b3IuXG4gICAqIDwvcD5cbiAgICogPHVsPlxuICAgKiA8bGk+PHN0cm9uZz5sYWJlbDwvc3Ryb25nPj08ZW0+bGFiZWxQYXR0ZXJuPC9lbT46XG4gICAqIG1hdGNoZXMgb3B0aW9ucyBiYXNlZCBvbiB0aGVpciBsYWJlbHMsIGkuZS4gdGhlIHZpc2libGUgdGV4dC4gKFRoaXNcbiAgICogaXMgdGhlIGRlZmF1bHQuKVxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+bGFiZWw9cmVnZXhwOl5bT29ddGhlcjwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDwvbGk+XG4gICAqIDxsaT48c3Ryb25nPnZhbHVlPC9zdHJvbmc+PTxlbT52YWx1ZVBhdHRlcm48L2VtPjpcbiAgICogbWF0Y2hlcyBvcHRpb25zIGJhc2VkIG9uIHRoZWlyIHZhbHVlcy5cbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cbiAgICogPGxpPnZhbHVlPW90aGVyPC9saT5cbiAgICogPC91bD5cbiAgICpcbiAgICpcbiAgICogPC9saT5cbiAgICogPGxpPjxzdHJvbmc+aWQ8L3N0cm9uZz49PGVtPmlkPC9lbT46XG4gICAqXG4gICAqIG1hdGNoZXMgb3B0aW9ucyBiYXNlZCBvbiB0aGVpciBpZHMuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT5pZD1vcHRpb24xPC9saT5cbiAgICogPC91bD5cbiAgICogPC9saT5cbiAgICogPGxpPjxzdHJvbmc+aW5kZXg8L3N0cm9uZz49PGVtPmluZGV4PC9lbT46XG4gICAqIG1hdGNoZXMgYW4gb3B0aW9uIGJhc2VkIG9uIGl0cyBpbmRleCAob2Zmc2V0IGZyb20gemVybykuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqXG4gICAqIDxsaT5pbmRleD0yPC9saT5cbiAgICogPC91bD5cbiAgICogPC9saT5cbiAgICogPC91bD5cbiAgICogPHA+XG4gICAqIElmIG5vIG9wdGlvbiBsb2NhdG9yIHByZWZpeCBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIG1hdGNoIG9uIDxzdHJvbmc+bGFiZWw8L3N0cm9uZz4uXG4gICAqIDwvcD5cbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxuICAgKiBAcGFyYW0gb3B0aW9uTG9jYXRvciBhbiBvcHRpb24gbG9jYXRvciAoYSBsYWJlbCBieSBkZWZhdWx0KVxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoc2VsZWN0TG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdTcGVjaWZpZWQgZWxlbWVudCBpcyBub3QgYSBTZWxlY3QgKGhhcyBubyBvcHRpb25zKScpO312YXIgbG9jYXRvcj10aGlzLm9wdGlvbkxvY2F0b3JGYWN0b3J5LmZyb21Mb2NhdG9yU3RyaW5nKG9wdGlvbkxvY2F0b3IpO3ZhciBvcHRpb249bG9jYXRvci5maW5kT3B0aW9uKGVsZW1lbnQpO3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RPcHRpb24oZWxlbWVudCxvcHRpb24pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQWRkU2VsZWN0aW9uPWZ1bmN0aW9uKGxvY2F0b3Isb3B0aW9uTG9jYXRvcil7LyoqXG4gICAqIEFkZCBhIHNlbGVjdGlvbiB0byB0aGUgc2V0IG9mIHNlbGVjdGVkIG9wdGlvbnMgaW4gYSBtdWx0aS1zZWxlY3QgZWxlbWVudCB1c2luZyBhbiBvcHRpb24gbG9jYXRvci5cbiAgICpcbiAgICogQHNlZSAjZG9TZWxlY3QgZm9yIGRldGFpbHMgb2Ygb3B0aW9uIGxvY2F0b3JzXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgbXVsdGktc2VsZWN0IGJveFxuICAgKiBAcGFyYW0gb3B0aW9uTG9jYXRvciBhbiBvcHRpb24gbG9jYXRvciAoYSBsYWJlbCBieSBkZWZhdWx0KVxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdTcGVjaWZpZWQgZWxlbWVudCBpcyBub3QgYSBTZWxlY3QgKGhhcyBubyBvcHRpb25zKScpO312YXIgY3VyckxvY2F0b3I9dGhpcy5vcHRpb25Mb2NhdG9yRmFjdG9yeS5mcm9tTG9jYXRvclN0cmluZyhvcHRpb25Mb2NhdG9yKTt2YXIgb3B0aW9uPWN1cnJMb2NhdG9yLmZpbmRPcHRpb24oZWxlbWVudCk7dGhpcy5icm93c2VyYm90LmFkZFNlbGVjdGlvbihlbGVtZW50LG9wdGlvbik7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9SZW1vdmVTZWxlY3Rpb249ZnVuY3Rpb24obG9jYXRvcixvcHRpb25Mb2NhdG9yKXsvKipcbiAgICogUmVtb3ZlIGEgc2VsZWN0aW9uIGZyb20gdGhlIHNldCBvZiBzZWxlY3RlZCBvcHRpb25zIGluIGEgbXVsdGktc2VsZWN0IGVsZW1lbnQgdXNpbmcgYW4gb3B0aW9uIGxvY2F0b3IuXG4gICAqXG4gICAqIEBzZWUgI2RvU2VsZWN0IGZvciBkZXRhaWxzIG9mIG9wdGlvbiBsb2NhdG9yc1xuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIG11bHRpLXNlbGVjdCBib3hcbiAgICogQHBhcmFtIG9wdGlvbkxvY2F0b3IgYW4gb3B0aW9uIGxvY2F0b3IgKGEgbGFiZWwgYnkgZGVmYXVsdClcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKCEoJ29wdGlvbnMnaW4gZWxlbWVudCkpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9dmFyIGN1cnJMb2NhdG9yPXRoaXMub3B0aW9uTG9jYXRvckZhY3RvcnkuZnJvbUxvY2F0b3JTdHJpbmcob3B0aW9uTG9jYXRvcik7dmFyIG9wdGlvbj1jdXJyTG9jYXRvci5maW5kT3B0aW9uKGVsZW1lbnQpO3RoaXMuYnJvd3NlcmJvdC5yZW1vdmVTZWxlY3Rpb24oZWxlbWVudCxvcHRpb24pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUmVtb3ZlQWxsU2VsZWN0aW9ucz1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogVW5zZWxlY3RzIGFsbCBvZiB0aGUgc2VsZWN0ZWQgb3B0aW9ucyBpbiBhIG11bHRpLXNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIG11bHRpLXNlbGVjdCBib3hcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKCEoJ29wdGlvbnMnaW4gZWxlbWVudCkpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9Zm9yKHZhciBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7dGhpcy5icm93c2VyYm90LnJlbW92ZVNlbGVjdGlvbihlbGVtZW50LGVsZW1lbnQub3B0aW9uc1tpXSk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvU3VibWl0PWZ1bmN0aW9uKGZvcm1Mb2NhdG9yKXsvKipcbiAgICogU3VibWl0IHRoZSBzcGVjaWZpZWQgZm9ybS4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBmb3JtcyB3aXRob3V0XG4gICAqIHN1Ym1pdCBidXR0b25zLCBlLmcuIHNpbmdsZS1pbnB1dCBcIlNlYXJjaFwiIGZvcm1zLlxuICAgKlxuICAgKiBAcGFyYW0gZm9ybUxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gZm9yIHRoZSBmb3JtIHlvdSB3YW50IHRvIHN1Ym1pdFxuICAgKi92YXIgZm9ybT10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoZm9ybUxvY2F0b3IpO3JldHVybiBfY2xvc3VyZVBvbHlmaWxsLmJvdC5hY3Rpb24uc3VibWl0KGZvcm0pO307U2VsZW5pdW0ucHJvdG90eXBlLm1ha2VQYWdlTG9hZENvbmRpdGlvbj1mdW5jdGlvbih0aW1lb3V0KXtpZih0aW1lb3V0PT1udWxsKXt0aW1lb3V0PXRoaXMuZGVmYXVsdFRpbWVvdXQ7fS8vIGlmIHRoZSB0aW1lb3V0IGlzIHplcm8sIHdlIHdvbid0IHdhaXQgZm9yIHRoZSBwYWdlIHRvIGxvYWQgYmVmb3JlIHJldHVybmluZ1xuaWYodGltZW91dD09MCl7Ly8gYWJvcnQgWEhSIHJlcXVlc3RcbnRoaXMuX2Fib3J0WGhyUmVxdWVzdCgpO3JldHVybjt9cmV0dXJuIFNlbGVuaXVtLmRlY29yYXRlRnVuY3Rpb25XaXRoVGltZW91dCh0aGlzLl9pc05ld1BhZ2VMb2FkZWQuYmluZCh0aGlzKSx0aW1lb3V0LHRoaXMuX2Fib3J0WGhyUmVxdWVzdC5iaW5kKHRoaXMpKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb09wZW49ZnVuY3Rpb24odXJsLGlnbm9yZVJlc3BvbnNlQ29kZSl7LyoqXG4gICAqIE9wZW5zIGFuIFVSTCBpbiB0aGUgdGVzdCBmcmFtZS4gVGhpcyBhY2NlcHRzIGJvdGggcmVsYXRpdmUgYW5kIGFic29sdXRlXG4gICAqIFVSTHMuXG4gICAqXG4gICAqIFRoZSAmcXVvdDtvcGVuJnF1b3Q7IGNvbW1hbmQgd2FpdHMgZm9yIHRoZSBwYWdlIHRvIGxvYWQgYmVmb3JlIHByb2NlZWRpbmcsXG4gICAqIGllLiB0aGUgJnF1b3Q7QW5kV2FpdCZxdW90OyBzdWZmaXggaXMgaW1wbGljaXQuXG4gICAqXG4gICAqIDxlbT5Ob3RlPC9lbT46IFRoZSBVUkwgbXVzdCBiZSBvbiB0aGUgc2FtZSBkb21haW4gYXMgdGhlIHJ1bm5lciBIVE1MXG4gICAqIGR1ZSB0byBzZWN1cml0eSByZXN0cmljdGlvbnMgaW4gdGhlIGJyb3dzZXIgKFNhbWUgT3JpZ2luIFBvbGljeSkuIElmIHlvdVxuICAgKiBuZWVkIHRvIG9wZW4gYW4gVVJMIG9uIGFub3RoZXIgZG9tYWluLCB1c2UgdGhlIFNlbGVuaXVtIFNlcnZlciB0byBzdGFydCBhXG4gICAqIG5ldyBicm93c2VyIHNlc3Npb24gb24gdGhhdCBkb21haW4uXG4gICAqXG4gICAqIEBwYXJhbSB1cmwgdGhlIFVSTCB0byBvcGVuOyBtYXkgYmUgcmVsYXRpdmUgb3IgYWJzb2x1dGVcbiAgICogQHBhcmFtIGlnbm9yZVJlc3BvbnNlQ29kZSAob3B0aW9uYWwpIHR1cm4gb2ZmIGFqYXggaGVhZCByZXF1ZXN0IGZ1bmN0aW9uYWxpdHlcbiAgICpcbiAgICovaWYoaWdub3JlUmVzcG9uc2VDb2RlPT1udWxsfHxpZ25vcmVSZXNwb25zZUNvZGUubGVuZ3RoPT0wKXt0aGlzLmJyb3dzZXJib3QuaWdub3JlUmVzcG9uc2VDb2RlPXRydWU7fWVsc2UgaWYoaWdub3JlUmVzcG9uc2VDb2RlLnRvTG93ZXJDYXNlKCk9PSd0cnVlJyl7dGhpcy5icm93c2VyYm90Lmlnbm9yZVJlc3BvbnNlQ29kZT10cnVlO31lbHNle3RoaXMuYnJvd3NlcmJvdC5pZ25vcmVSZXNwb25zZUNvZGU9ZmFsc2U7fXRoaXMuYnJvd3NlcmJvdC5vcGVuTG9jYXRpb24odXJsKTtpZih3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddPT1udWxsfHwhd2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXSl7cmV0dXJuIHRoaXMubWFrZVBhZ2VMb2FkQ29uZGl0aW9uKCk7fS8vIGluIFBJIG1vZGUsIGp1c3QgcmV0dXJuIFwiT0tcIjsgdGhlIHNlcnZlciB3aWxsIHdhaXRGb3JMb2FkXG59O1NlbGVuaXVtLnByb3RvdHlwZS5kb09wZW5XaW5kb3c9ZnVuY3Rpb24odXJsLHdpbmRvd0lEKXsvKipcbiAgICogT3BlbnMgYSBwb3B1cCB3aW5kb3cgKGlmIGEgd2luZG93IHdpdGggdGhhdCBJRCBpc24ndCBhbHJlYWR5IG9wZW4pLlxuICAgKiBBZnRlciBvcGVuaW5nIHRoZSB3aW5kb3csIHlvdSdsbCBuZWVkIHRvIHNlbGVjdCBpdCB1c2luZyB0aGUgc2VsZWN0V2luZG93XG4gICAqIGNvbW1hbmQuXG4gICAqXG4gICAqIDxwPlRoaXMgY29tbWFuZCBjYW4gYWxzbyBiZSBhIHVzZWZ1bCB3b3JrYXJvdW5kIGZvciBidWcgU0VMLTMzOS4gIEluIHNvbWUgY2FzZXMsIFNlbGVuaXVtIHdpbGwgYmUgdW5hYmxlIHRvIGludGVyY2VwdCBhIGNhbGwgdG8gd2luZG93Lm9wZW4gKGlmIHRoZSBjYWxsIG9jY3VycyBkdXJpbmcgb3IgYmVmb3JlIHRoZSBcIm9uTG9hZFwiIGV2ZW50LCBmb3IgZXhhbXBsZSkuXG4gICAqIEluIHRob3NlIGNhc2VzLCB5b3UgY2FuIGZvcmNlIFNlbGVuaXVtIHRvIG5vdGljZSB0aGUgb3BlbiB3aW5kb3cncyBuYW1lIGJ5IHVzaW5nIHRoZSBTZWxlbml1bSBvcGVuV2luZG93IGNvbW1hbmQsIHVzaW5nXG4gICAqIGFuIGVtcHR5IChibGFuaykgdXJsLCBsaWtlIHRoaXM6IG9wZW5XaW5kb3coXCJcIiwgXCJteUZ1bm55V2luZG93XCIpLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIHVybCB0aGUgVVJMIHRvIG9wZW4sIHdoaWNoIGNhbiBiZSBibGFua1xuICAgKiBAcGFyYW0gd2luZG93SUQgdGhlIEphdmFTY3JpcHQgd2luZG93IElEIG9mIHRoZSB3aW5kb3cgdG8gc2VsZWN0XG4gICAqL3RoaXMuYnJvd3NlcmJvdC5vcGVuV2luZG93KHVybCx3aW5kb3dJRCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZWxlY3RXaW5kb3c9ZnVuY3Rpb24od2luZG93SUQpey8qKlxuICAgKiBTZWxlY3RzIGEgcG9wdXAgd2luZG93IHVzaW5nIGEgd2luZG93IGxvY2F0b3I7IG9uY2UgYSBwb3B1cCB3aW5kb3cgaGFzIGJlZW4gc2VsZWN0ZWQsIGFsbFxuICAgKiBjb21tYW5kcyBnbyB0byB0aGF0IHdpbmRvdy4gVG8gc2VsZWN0IHRoZSBtYWluIHdpbmRvdyBhZ2FpbiwgdXNlIG51bGxcbiAgICogYXMgdGhlIHRhcmdldC5cbiAgICpcbiAgICogPHA+XG4gICAqXG4gICAqIFdpbmRvdyBsb2NhdG9ycyBwcm92aWRlIGRpZmZlcmVudCB3YXlzIG9mIHNwZWNpZnlpbmcgdGhlIHdpbmRvdyBvYmplY3Q6XG4gICAqIGJ5IHRpdGxlLCBieSBpbnRlcm5hbCBKYXZhU2NyaXB0IFwibmFtZSxcIiBvciBieSBKYXZhU2NyaXB0IHZhcmlhYmxlLlxuICAgKiA8L3A+XG4gICAqIDx1bD5cbiAgICogPGxpPjxzdHJvbmc+dGl0bGU8L3N0cm9uZz49PGVtPk15IFNwZWNpYWwgV2luZG93PC9lbT46XG4gICAqIEZpbmRzIHRoZSB3aW5kb3cgdXNpbmcgdGhlIHRleHQgdGhhdCBhcHBlYXJzIGluIHRoZSB0aXRsZSBiYXIuICBCZSBjYXJlZnVsO1xuICAgKiB0d28gd2luZG93cyBjYW4gc2hhcmUgdGhlIHNhbWUgdGl0bGUuICBJZiB0aGF0IGhhcHBlbnMsIHRoaXMgbG9jYXRvciB3aWxsXG4gICAqIGp1c3QgcGljayBvbmUuXG4gICAqIDwvbGk+XG4gICAqIDxsaT48c3Ryb25nPm5hbWU8L3N0cm9uZz49PGVtPm15V2luZG93PC9lbT46XG4gICAqIEZpbmRzIHRoZSB3aW5kb3cgdXNpbmcgaXRzIGludGVybmFsIEphdmFTY3JpcHQgXCJuYW1lXCIgcHJvcGVydHkuICBUaGlzIGlzIHRoZSBzZWNvbmRcbiAgICogcGFyYW1ldGVyIFwid2luZG93TmFtZVwiIHBhc3NlZCB0byB0aGUgSmF2YVNjcmlwdCBtZXRob2Qgd2luZG93Lm9wZW4odXJsLCB3aW5kb3dOYW1lLCB3aW5kb3dGZWF0dXJlcywgcmVwbGFjZUZsYWcpXG4gICAqICh3aGljaCBTZWxlbml1bSBpbnRlcmNlcHRzKS5cbiAgICogPC9saT5cbiAgICogPGxpPjxzdHJvbmc+dmFyPC9zdHJvbmc+PTxlbT52YXJpYWJsZU5hbWU8L2VtPjpcbiAgICogU29tZSBwb3AtdXAgd2luZG93cyBhcmUgdW5uYW1lZCAoYW5vbnltb3VzKSwgYnV0IGFyZSBhc3NvY2lhdGVkIHdpdGggYSBKYXZhU2NyaXB0IHZhcmlhYmxlIG5hbWUgaW4gdGhlIGN1cnJlbnRcbiAgICogYXBwbGljYXRpb24gd2luZG93LCBlLmcuIFwid2luZG93LmZvbyA9IHdpbmRvdy5vcGVuKHVybCk7XCIuICBJbiB0aG9zZSBjYXNlcywgeW91IGNhbiBvcGVuIHRoZSB3aW5kb3cgdXNpbmdcbiAgICogXCJ2YXI9Zm9vXCIuXG4gICAqIDwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDxwPlxuICAgKiBJZiBubyB3aW5kb3cgbG9jYXRvciBwcmVmaXggaXMgcHJvdmlkZWQsIHdlJ2xsIHRyeSB0byBndWVzcyB3aGF0IHlvdSBtZWFuIGxpa2UgdGhpczo8L3A+XG4gICAqIDxwPjEuKSBpZiB3aW5kb3dJRCBpcyBudWxsLCAob3IgdGhlIHN0cmluZyBcIm51bGxcIikgdGhlbiBpdCBpcyBhc3N1bWVkIHRoZSB1c2VyIGlzIHJlZmVycmluZyB0byB0aGUgb3JpZ2luYWwgd2luZG93IGluc3RhbnRpYXRlZCBieSB0aGUgYnJvd3NlcikuPC9wPlxuICAgKiA8cD4yLikgaWYgdGhlIHZhbHVlIG9mIHRoZSBcIndpbmRvd0lEXCIgcGFyYW1ldGVyIGlzIGEgSmF2YVNjcmlwdCB2YXJpYWJsZSBuYW1lIGluIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHdpbmRvdywgdGhlbiBpdCBpcyBhc3N1bWVkXG4gICAqIHRoYXQgdGhpcyB2YXJpYWJsZSBjb250YWlucyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gYSBjYWxsIHRvIHRoZSBKYXZhU2NyaXB0IHdpbmRvdy5vcGVuKCkgbWV0aG9kLjwvcD5cbiAgICogPHA+My4pIE90aGVyd2lzZSwgc2VsZW5pdW0gbG9va3MgaW4gYSBoYXNoIGl0IG1haW50YWlucyB0aGF0IG1hcHMgc3RyaW5nIG5hbWVzIHRvIHdpbmRvdyBcIm5hbWVzXCIuPC9wPlxuICAgKiA8cD40LikgSWYgPGVtPnRoYXQ8L2VtPiBmYWlscywgd2UnbGwgdHJ5IGxvb3Bpbmcgb3ZlciBhbGwgb2YgdGhlIGtub3duIHdpbmRvd3MgdG8gdHJ5IHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIFwidGl0bGVcIi5cbiAgICogU2luY2UgXCJ0aXRsZVwiIGlzIG5vdCBuZWNlc3NhcmlseSB1bmlxdWUsIHRoaXMgbWF5IGhhdmUgdW5leHBlY3RlZCBiZWhhdmlvci48L3A+XG4gICAqXG4gICAqIDxwPklmIHlvdSdyZSBoYXZpbmcgdHJvdWJsZSBmaWd1cmluZyBvdXQgdGhlIG5hbWUgb2YgYSB3aW5kb3cgdGhhdCB5b3Ugd2FudCB0byBtYW5pcHVsYXRlLCBsb29rIGF0IHRoZSBTZWxlbml1bSBsb2cgbWVzc2FnZXNcbiAgICogd2hpY2ggaWRlbnRpZnkgdGhlIG5hbWVzIG9mIHdpbmRvd3MgY3JlYXRlZCB2aWEgd2luZG93Lm9wZW4gKGFuZCB0aGVyZWZvcmUgaW50ZXJjZXB0ZWQgYnkgU2VsZW5pdW0pLiAgWW91IHdpbGwgc2VlIG1lc3NhZ2VzXG4gICAqIGxpa2UgdGhlIGZvbGxvd2luZyBmb3IgZWFjaCB3aW5kb3cgYXMgaXQgaXMgb3BlbmVkOjwvcD5cbiAgICpcbiAgICogPHA+PGNvZGU+ZGVidWc6IHdpbmRvdy5vcGVuIGNhbGwgaW50ZXJjZXB0ZWQ7IHdpbmRvdyBJRCAod2hpY2ggeW91IGNhbiB1c2Ugd2l0aCBzZWxlY3RXaW5kb3coKSkgaXMgXCJteU5ld1dpbmRvd1wiPC9jb2RlPjwvcD5cbiAgICpcbiAgICogPHA+SW4gc29tZSBjYXNlcywgU2VsZW5pdW0gd2lsbCBiZSB1bmFibGUgdG8gaW50ZXJjZXB0IGEgY2FsbCB0byB3aW5kb3cub3BlbiAoaWYgdGhlIGNhbGwgb2NjdXJzIGR1cmluZyBvciBiZWZvcmUgdGhlIFwib25Mb2FkXCIgZXZlbnQsIGZvciBleGFtcGxlKS5cbiAgICogKFRoaXMgaXMgYnVnIFNFTC0zMzkuKSAgSW4gdGhvc2UgY2FzZXMsIHlvdSBjYW4gZm9yY2UgU2VsZW5pdW0gdG8gbm90aWNlIHRoZSBvcGVuIHdpbmRvdydzIG5hbWUgYnkgdXNpbmcgdGhlIFNlbGVuaXVtIG9wZW5XaW5kb3cgY29tbWFuZCwgdXNpbmdcbiAgICogYW4gZW1wdHkgKGJsYW5rKSB1cmwsIGxpa2UgdGhpczogb3BlbldpbmRvdyhcIlwiLCBcIm15RnVubnlXaW5kb3dcIikuPC9wPlxuICAgKlxuICAgKiBAcGFyYW0gd2luZG93SUQgdGhlIEphdmFTY3JpcHQgd2luZG93IElEIG9mIHRoZSB3aW5kb3cgdG8gc2VsZWN0XG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RXaW5kb3cod2luZG93SUQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0UG9wVXA9ZnVuY3Rpb24od2luZG93SUQpey8qKlxuICAgKiBTaW1wbGlmaWVzIHRoZSBwcm9jZXNzIG9mIHNlbGVjdGluZyBhIHBvcHVwIHdpbmRvdyAoYW5kIGRvZXMgbm90IG9mZmVyXG4gICAqIGZ1bmN0aW9uYWxpdHkgYmV5b25kIHdoYXQgPGNvZGU+c2VsZWN0V2luZG93KCk8L2NvZGU+IGFscmVhZHkgcHJvdmlkZXMpLlxuICAgKiA8dWw+XG4gICAqIDxsaT5JZiA8Y29kZT53aW5kb3dJRDwvY29kZT4gaXMgZWl0aGVyIG5vdCBzcGVjaWZpZWQsIG9yIHNwZWNpZmllZCBhc1xuICAgKiBcIm51bGxcIiwgdGhlIGZpcnN0IG5vbi10b3Agd2luZG93IGlzIHNlbGVjdGVkLiBUaGUgdG9wIHdpbmRvdyBpcyB0aGUgb25lXG4gICAqIHRoYXQgd291bGQgYmUgc2VsZWN0ZWQgYnkgPGNvZGU+c2VsZWN0V2luZG93KCk8L2NvZGU+IHdpdGhvdXQgcHJvdmlkaW5nIGFcbiAgICogPGNvZGU+d2luZG93SUQ8L2NvZGU+IC4gVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgd2hlbiBtb3JlIHRoYW4gb25lIHBvcHVwXG4gICAqIHdpbmRvdyBpcyBpbiBwbGF5LjwvbGk+XG4gICAqIDxsaT5PdGhlcndpc2UsIHRoZSB3aW5kb3cgd2lsbCBiZSBsb29rZWQgdXAgY29uc2lkZXJpbmdcbiAgICogPGNvZGU+d2luZG93SUQ8L2NvZGU+IGFzIHRoZSBmb2xsb3dpbmcgaW4gb3JkZXI6IDEpIHRoZSBcIm5hbWVcIiBvZiB0aGVcbiAgICogd2luZG93LCBhcyBzcGVjaWZpZWQgdG8gPGNvZGU+d2luZG93Lm9wZW4oKTwvY29kZT47IDIpIGEgamF2YXNjcmlwdFxuICAgKiB2YXJpYWJsZSB3aGljaCBpcyBhIHJlZmVyZW5jZSB0byBhIHdpbmRvdzsgYW5kIDMpIHRoZSB0aXRsZSBvZiB0aGVcbiAgICogd2luZG93LiBUaGlzIGlzIHRoZSBzYW1lIG9yZGVyZWQgbG9va3VwIHBlcmZvcm1lZCBieVxuICAgKiA8Y29kZT5zZWxlY3RXaW5kb3c8L2NvZGU+IC48L2xpPlxuICAgKiA8L3VsPlxuICAgKlxuICAgKiBAcGFyYW0gd2luZG93SUQgIGFuIGlkZW50aWZpZXIgZm9yIHRoZSBwb3B1cCB3aW5kb3csIHdoaWNoIGNhbiB0YWtlIG9uIGFcbiAgICogICAgICAgICAgICAgICAgICBudW1iZXIgb2YgZGlmZmVyZW50IG1lYW5pbmdzXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RQb3BVcCh3aW5kb3dJRCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9EZXNlbGVjdFBvcFVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFNlbGVjdHMgdGhlIG1haW4gd2luZG93LiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byB1c2luZ1xuICAgKiA8Y29kZT5zZWxlY3RXaW5kb3coKTwvY29kZT4gYW5kIHNwZWNpZnlpbmcgbm8gdmFsdWUgZm9yXG4gICAqIDxjb2RlPndpbmRvd0lEPC9jb2RlPi5cbiAgICovdGhpcy5icm93c2VyYm90LnNlbGVjdFdpbmRvdygpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0RnJhbWU9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNlbGVjdHMgYSBmcmFtZSB3aXRoaW4gdGhlIGN1cnJlbnQgd2luZG93LiAgKFlvdSBtYXkgaW52b2tlIHRoaXMgY29tbWFuZFxuICAgKiBtdWx0aXBsZSB0aW1lcyB0byBzZWxlY3QgbmVzdGVkIGZyYW1lcy4pICBUbyBzZWxlY3QgdGhlIHBhcmVudCBmcmFtZSwgdXNlXG4gICAqIFwicmVsYXRpdmU9cGFyZW50XCIgYXMgYSBsb2NhdG9yOyB0byBzZWxlY3QgdGhlIHRvcCBmcmFtZSwgdXNlIFwicmVsYXRpdmU9dG9wXCIuXG4gICAqIFlvdSBjYW4gYWxzbyBzZWxlY3QgYSBmcmFtZSBieSBpdHMgMC1iYXNlZCBpbmRleCBudW1iZXI7IHNlbGVjdCB0aGUgZmlyc3QgZnJhbWUgd2l0aFxuICAgKiBcImluZGV4PTBcIiwgb3IgdGhlIHRoaXJkIGZyYW1lIHdpdGggXCJpbmRleD0yXCIuXG4gICAqXG4gICAqIDxwPllvdSBtYXkgYWxzbyB1c2UgYSBET00gZXhwcmVzc2lvbiB0byBpZGVudGlmeSB0aGUgZnJhbWUgeW91IHdhbnQgZGlyZWN0bHksXG4gICAqIGxpa2UgdGhpczogPGNvZGU+ZG9tPWZyYW1lc1tcIm1haW5cIl0uZnJhbWVzW1wic3ViZnJhbWVcIl08L2NvZGU+PC9wPlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGZyYW1lIG9yIGlmcmFtZVxuICAgKi90aGlzLmJyb3dzZXJib3Quc2VsZWN0RnJhbWUobG9jYXRvcik7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0V2hldGhlclRoaXNGcmFtZU1hdGNoRnJhbWVFeHByZXNzaW9uPWZ1bmN0aW9uKGN1cnJlbnRGcmFtZVN0cmluZyx0YXJnZXQpey8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBjdXJyZW50L2xvY2F0b3IgaWRlbnRpZnkgdGhlIGZyYW1lIGNvbnRhaW5pbmcgdGhpcyBydW5uaW5nIGNvZGUuXG4gICAqXG4gICAqIDxwPlRoaXMgaXMgdXNlZnVsIGluIHByb3h5IGluamVjdGlvbiBtb2RlLCB3aGVyZSB0aGlzIGNvZGUgcnVucyBpbiBldmVyeVxuICAgKiBicm93c2VyIGZyYW1lIGFuZCB3aW5kb3csIGFuZCBzb21ldGltZXMgdGhlIHNlbGVuaXVtIHNlcnZlciBuZWVkcyB0byBpZGVudGlmeVxuICAgKiB0aGUgXCJjdXJyZW50XCIgZnJhbWUuICBJbiB0aGlzIGNhc2UsIHdoZW4gdGhlIHRlc3QgY2FsbHMgc2VsZWN0RnJhbWUsIHRoaXNcbiAgICogcm91dGluZSBpcyBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgdG8gZmlndXJlIG91dCB3aGljaCBvbmUgaGFzIGJlZW4gc2VsZWN0ZWQuXG4gICAqIFRoZSBzZWxlY3RlZCBmcmFtZSB3aWxsIHJldHVybiB0cnVlLCB3aGlsZSBhbGwgb3RoZXJzIHdpbGwgcmV0dXJuIGZhbHNlLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRGcmFtZVN0cmluZyBzdGFydGluZyBmcmFtZVxuICAgKiBAcGFyYW0gdGFyZ2V0IG5ldyBmcmFtZSAod2hpY2ggbWlnaHQgYmUgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgb25lKVxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgbmV3IGZyYW1lIGlzIHRoaXMgY29kZSdzIHdpbmRvd1xuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90LmRvZXNUaGlzRnJhbWVNYXRjaEZyYW1lRXhwcmVzc2lvbihjdXJyZW50RnJhbWVTdHJpbmcsdGFyZ2V0KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRXaGV0aGVyVGhpc1dpbmRvd01hdGNoV2luZG93RXhwcmVzc2lvbj1mdW5jdGlvbihfY3VycmVudFdpbmRvd1N0cmluZyx0YXJnZXQpey8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBjdXJyZW50V2luZG93U3RyaW5nIHBsdXMgdGFyZ2V0IGlkZW50aWZ5IHRoZSB3aW5kb3cgY29udGFpbmluZyB0aGlzIHJ1bm5pbmcgY29kZS5cbiAgICpcbiAgICogPHA+VGhpcyBpcyB1c2VmdWwgaW4gcHJveHkgaW5qZWN0aW9uIG1vZGUsIHdoZXJlIHRoaXMgY29kZSBydW5zIGluIGV2ZXJ5XG4gICAqIGJyb3dzZXIgZnJhbWUgYW5kIHdpbmRvdywgYW5kIHNvbWV0aW1lcyB0aGUgc2VsZW5pdW0gc2VydmVyIG5lZWRzIHRvIGlkZW50aWZ5XG4gICAqIHRoZSBcImN1cnJlbnRcIiB3aW5kb3cuICBJbiB0aGlzIGNhc2UsIHdoZW4gdGhlIHRlc3QgY2FsbHMgc2VsZWN0V2luZG93LCB0aGlzXG4gICAqIHJvdXRpbmUgaXMgY2FsbGVkIGZvciBlYWNoIHdpbmRvdyB0byBmaWd1cmUgb3V0IHdoaWNoIG9uZSBoYXMgYmVlbiBzZWxlY3RlZC5cbiAgICogVGhlIHNlbGVjdGVkIHdpbmRvdyB3aWxsIHJldHVybiB0cnVlLCB3aGlsZSBhbGwgb3RoZXJzIHdpbGwgcmV0dXJuIGZhbHNlLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRXaW5kb3dTdHJpbmcgc3RhcnRpbmcgd2luZG93XG4gICAqIEBwYXJhbSB0YXJnZXQgbmV3IHdpbmRvdyAod2hpY2ggbWlnaHQgYmUgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgb25lLCBlLmcuLCBcIl9wYXJlbnRcIilcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIG5ldyB3aW5kb3cgaXMgdGhpcyBjb2RlJ3Mgd2luZG93XG4gICAqL2lmKHdpbmRvdy5vcGVuZXIhPW51bGwmJndpbmRvdy5vcGVuZXJbdGFyZ2V0XSE9bnVsbCYmd2luZG93Lm9wZW5lclt0YXJnZXRdPT13aW5kb3cpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUG9wVXA9ZnVuY3Rpb24od2luZG93SUQsdGltZW91dCl7LyoqXG4gICAqIFdhaXRzIGZvciBhIHBvcHVwIHdpbmRvdyB0byBhcHBlYXIgYW5kIGxvYWQgdXAuXG4gICAqXG4gICAqIEBwYXJhbSB3aW5kb3dJRCB0aGUgSmF2YVNjcmlwdCB3aW5kb3cgXCJuYW1lXCIgb2YgdGhlIHdpbmRvdyB0aGF0IHdpbGwgYXBwZWFyIChub3QgdGhlIHRleHQgb2YgdGhlIHRpdGxlIGJhcilcbiAgICogICAgICAgICAgICAgICAgIElmIHVuc3BlY2lmaWVkLCBvciBzcGVjaWZpZWQgYXMgXCJudWxsXCIsIHRoaXMgY29tbWFuZCB3aWxsXG4gICAqICAgICAgICAgICAgICAgICB3YWl0IGZvciB0aGUgZmlyc3Qgbm9uLXRvcCB3aW5kb3cgdG8gYXBwZWFyIChkb24ndCByZWx5XG4gICAqICAgICAgICAgICAgICAgICBvbiB0aGlzIGlmIHlvdSBhcmUgd29ya2luZyB3aXRoIG11bHRpcGxlIHBvcHVwc1xuICAgKiAgICAgICAgICAgICAgICAgc2ltdWx0YW5lb3VzbHkpLlxuICAgKiBAcGFyYW0gdGltZW91dCBhIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBhZnRlciB3aGljaCB0aGUgYWN0aW9uIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3IuXG4gICAqICAgICAgICAgICAgICAgIElmIHRoaXMgdmFsdWUgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlZmF1bHQgU2VsZW5pdW1cbiAgICogICAgICAgICAgICAgICAgdGltZW91dCB3aWxsIGJlIHVzZWQuIFNlZSB0aGUgc2V0VGltZW91dCgpIGNvbW1hbmQuXG4gICAqL2lmKCF0aW1lb3V0KXt0aW1lb3V0PXRoaXMuZGVmYXVsdFRpbWVvdXQ7fXZhciB0aW1lb3V0VGltZT0oMCxfdXRpbHMuZ2V0VGltZW91dFRpbWUpKHRpbWVvdXQpO3ZhciBwb3B1cExvYWRlZFByZWRpY2F0ZT1mdW5jdGlvbiBwb3B1cExvYWRlZFByZWRpY2F0ZSgpe3ZhciB0YXJnZXRXaW5kb3c9dm9pZCAwO3RyeXtpZih3aW5kb3dJRCYmd2luZG93SUQhPSdudWxsJyl7dGFyZ2V0V2luZG93PV9jb21tYW5kc0FwaS5zZWxlbml1bS5icm93c2VyYm90LmdldFdpbmRvd0J5TmFtZSh3aW5kb3dJRCx0cnVlKTt9ZWxzZXt2YXIgbmFtZXM9X2NvbW1hbmRzQXBpLnNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0Tm9uVG9wV2luZG93TmFtZXMoKTt0YXJnZXRXaW5kb3c9X2NvbW1hbmRzQXBpLnNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0V2luZG93QnlOYW1lKG5hbWVzWzBdLHRydWUpO319Y2F0Y2goZSl7aWYobmV3IERhdGUoKS5nZXRUaW1lKCk+dGltZW91dFRpbWUpe3Rocm93IGU7fX1pZighdGFyZ2V0V2luZG93KXJldHVybiBmYWxzZTt0cnl7aWYoIXRhcmdldFdpbmRvdy5sb2NhdGlvbilyZXR1cm4gZmFsc2U7aWYoJ2Fib3V0OmJsYW5rJz09dGFyZ2V0V2luZG93LmxvY2F0aW9uKXJldHVybiBmYWxzZTt9Y2F0Y2goZSl7Ly9MT0cuZGVidWcoXCJMb2NhdGlvbiBleGNlcHRpb24gKFwiICsgZS5tZXNzYWdlICsgXCIpIVwiKTtcbnJldHVybiBmYWxzZTt9aWYoX3NlbGVuaXVtQnJvd3NlcmJvdC5icm93c2VyVmVyc2lvbi5pc0tvbnF1ZXJvcil7aWYoJy8nPT10YXJnZXRXaW5kb3cubG9jYXRpb24uaHJlZil7Ly8gYXBwYXJlbnRseSBLb25xdWVyb3IgdXNlcyB0aGlzIGFzIHRoZSB0ZW1wb3JhcnkgbG9jYXRpb24sIGluc3RlYWQgb2YgYWJvdXQ6YmxhbmtcbnJldHVybiBmYWxzZTt9fWlmKF9zZWxlbml1bUJyb3dzZXJib3QuYnJvd3NlclZlcnNpb24uaXNTYWZhcmkpe2lmKHRhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmPT1fY29tbWFuZHNBcGkuc2VsZW5pdW0uYnJvd3NlcmJvdC5idXR0b25XaW5kb3cubG9jYXRpb24uaHJlZil7Ly8gQXBwYXJlbnRseSBTYWZhcmkgdXNlcyB0aGlzIGFzIHRoZSB0ZW1wb3JhcnkgbG9jYXRpb24sIGluc3RlYWQgb2YgYWJvdXQ6Ymxhbmtcbi8vIHdoYXQgYSB3b3JsZCFcbi8vTE9HLmRlYnVnKFwiREdGIHdoYXQgYSB3b3JsZCFcIik7XG5yZXR1cm4gZmFsc2U7fX1pZighdGFyZ2V0V2luZG93LmRvY3VtZW50KXJldHVybiBmYWxzZTtpZighX2NvbW1hbmRzQXBpLnNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpLmRvY3VtZW50LnJlYWR5U3RhdGUpey8vIFRoaXMgaXMgRmlyZWZveCwgd2l0aCBubyByZWFkeVN0YXRlIGV4dGVuc2lvblxucmV0dXJuIHRydWU7fWlmKCdjb21wbGV0ZSchPXRhcmdldFdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTt9O3JldHVybiBTZWxlbml1bS5kZWNvcmF0ZUZ1bmN0aW9uV2l0aFRpbWVvdXQocG9wdXBMb2FkZWRQcmVkaWNhdGUsdGltZW91dCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUG9wVXAuZG9udENoZWNrQWxlcnRzQW5kQ29uZmlybXM9dHJ1ZTsvL1NlbGVuaXVtLnByb3RvdHlwZS5kb0Nob29zZUNhbmNlbE9uTmV4dENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuLyoqXG4gKiA8cD5cbiAqIEJ5IGRlZmF1bHQsIFNlbGVuaXVtJ3Mgb3ZlcnJpZGRlbiB3aW5kb3cuY29uZmlybSgpIGZ1bmN0aW9uIHdpbGxcbiAqIHJldHVybiB0cnVlLCBhcyBpZiB0aGUgdXNlciBoYWQgbWFudWFsbHkgY2xpY2tlZCBPSzsgYWZ0ZXIgcnVubmluZ1xuICogdGhpcyBjb21tYW5kLCB0aGUgbmV4dCBjYWxsIHRvIGNvbmZpcm0oKSB3aWxsIHJldHVybiBmYWxzZSwgYXMgaWZcbiAqIHRoZSB1c2VyIGhhZCBjbGlja2VkIENhbmNlbC4gIFNlbGVuaXVtIHdpbGwgdGhlbiByZXN1bWUgdXNpbmcgdGhlXG4gKiBkZWZhdWx0IGJlaGF2aW9yIGZvciBmdXR1cmUgY29uZmlybWF0aW9ucywgYXV0b21hdGljYWxseSByZXR1cm5pbmdcbiAqIHRydWUgKE9LKSB1bmxlc3MvdW50aWwgeW91IGV4cGxpY2l0bHkgY2FsbCB0aGlzIGNvbW1hbmQgZm9yIGVhY2hcbiAqIGNvbmZpcm1hdGlvbi5cbiAqIDwvcD5cbiAqIDxwPlxuICogVGFrZSBub3RlIC0gZXZlcnkgdGltZSBhIGNvbmZpcm1hdGlvbiBjb21lcyB1cCwgeW91IG11c3RcbiAqIGNvbnN1bWUgaXQgd2l0aCBhIGNvcnJlc3BvbmRpbmcgZ2V0Q29uZmlybWF0aW9uLCBvciBlbHNlXG4gKiB0aGUgbmV4dCBzZWxlbml1bSBvcGVyYXRpb24gd2lsbCBmYWlsLlxuICogPC9wPlxuICovLy90aGlzLmJyb3dzZXJib3QuY2FuY2VsTmV4dENvbmZpcm1hdGlvbihmYWxzZSk7XG4vL307XG4vL1NlbGVuaXVtLnByb3RvdHlwZS5kb0Nob29zZU9rT25OZXh0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24oKSB7XG4vKipcbiAqIDxwPlxuICogVW5kbyB0aGUgZWZmZWN0IG9mIGNhbGxpbmcgY2hvb3NlQ2FuY2VsT25OZXh0Q29uZmlybWF0aW9uLiAgTm90ZVxuICogdGhhdCBTZWxlbml1bSdzIG92ZXJyaWRkZW4gd2luZG93LmNvbmZpcm0oKSBmdW5jdGlvbiB3aWxsIG5vcm1hbGx5IGF1dG9tYXRpY2FsbHlcbiAqIHJldHVybiB0cnVlLCBhcyBpZiB0aGUgdXNlciBoYWQgbWFudWFsbHkgY2xpY2tlZCBPSywgc28geW91IHNob3VsZG4ndFxuICogbmVlZCB0byB1c2UgdGhpcyBjb21tYW5kIHVubGVzcyBmb3Igc29tZSByZWFzb24geW91IG5lZWQgdG8gY2hhbmdlXG4gKiB5b3VyIG1pbmQgcHJpb3IgdG8gdGhlIG5leHQgY29uZmlybWF0aW9uLiAgQWZ0ZXIgYW55IGNvbmZpcm1hdGlvbiwgU2VsZW5pdW0gd2lsbCByZXN1bWUgdXNpbmcgdGhlXG4gKiBkZWZhdWx0IGJlaGF2aW9yIGZvciBmdXR1cmUgY29uZmlybWF0aW9ucywgYXV0b21hdGljYWxseSByZXR1cm5pbmdcbiAqIHRydWUgKE9LKSB1bmxlc3MvdW50aWwgeW91IGV4cGxpY2l0bHkgY2FsbCBjaG9vc2VDYW5jZWxPbk5leHRDb25maXJtYXRpb24gZm9yIGVhY2hcbiAqIGNvbmZpcm1hdGlvbi5cbiAqIDwvcD5cbiAqIDxwPlxuICogVGFrZSBub3RlIC0gZXZlcnkgdGltZSBhIGNvbmZpcm1hdGlvbiBjb21lcyB1cCwgeW91IG11c3RcbiAqIGNvbnN1bWUgaXQgd2l0aCBhIGNvcnJlc3BvbmRpbmcgZ2V0Q29uZmlybWF0aW9uLCBvciBlbHNlXG4gKiB0aGUgbmV4dCBzZWxlbml1bSBvcGVyYXRpb24gd2lsbCBmYWlsLlxuICogPC9wPlxuICpcbiAqLy8vdGhpcy5icm93c2VyYm90LmNhbmNlbE5leHRDb25maXJtYXRpb24odHJ1ZSk7XG4vL307XG4vL1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fuc3dlck9uTmV4dFByb21wdCA9IGZ1bmN0aW9uKGFuc3dlcikge1xuLyoqXG4gKiBJbnN0cnVjdHMgU2VsZW5pdW0gdG8gcmV0dXJuIHRoZSBzcGVjaWZpZWQgYW5zd2VyIHN0cmluZyBpbiByZXNwb25zZSB0b1xuICogdGhlIG5leHQgSmF2YVNjcmlwdCBwcm9tcHQgW3dpbmRvdy5wcm9tcHQoKV0uXG4gKlxuICpcbiAqIEBwYXJhbSBhbnN3ZXIgdGhlIGFuc3dlciB0byBnaXZlIGluIHJlc3BvbnNlIHRvIHRoZSBwcm9tcHQgcG9wLXVwXG4gKi8vL3RoaXMuYnJvd3NlcmJvdC5zZXROZXh0UHJvbXB0UmVzdWx0KGFuc3dlcik7XG4vL307XG5TZWxlbml1bS5wcm90b3R5cGUuZG9Hb0JhY2s9ZnVuY3Rpb24oKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSB1c2VyIGNsaWNraW5nIHRoZSBcImJhY2tcIiBidXR0b24gb24gdGhlaXIgYnJvd3Nlci5cbiAgICpcbiAgICovdGhpcy5icm93c2VyYm90LmdvQmFjaygpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUmVmcmVzaD1mdW5jdGlvbigpey8qKlxuICAgKiBTaW11bGF0ZXMgdGhlIHVzZXIgY2xpY2tpbmcgdGhlIFwiUmVmcmVzaFwiIGJ1dHRvbiBvbiB0aGVpciBicm93c2VyLlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QucmVmcmVzaCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSB1c2VyIGNsaWNraW5nIHRoZSBcImNsb3NlXCIgYnV0dG9uIGluIHRoZSB0aXRsZWJhciBvZiBhIHBvcHVwXG4gICAqIHdpbmRvdyBvciB0YWIuXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5jbG9zZSgpO307U2VsZW5pdW0ucHJvdG90eXBlLmVuc3VyZU5vVW5oYW5kbGVkUG9wdXBzPWZ1bmN0aW9uKCl7aWYodGhpcy5icm93c2VyYm90Lmhhc0FsZXJ0cygpKXt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ1RoZXJlIHdhcyBhbiB1bmV4cGVjdGVkIEFsZXJ0ISBbJyt0aGlzLmJyb3dzZXJib3QuZ2V0TmV4dEFsZXJ0KCkrJ10nKTt9aWYodGhpcy5icm93c2VyYm90Lmhhc0NvbmZpcm1hdGlvbnMoKSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdUaGVyZSB3YXMgYW4gdW5leHBlY3RlZCBDb25maXJtYXRpb24hIFsnK3RoaXMuYnJvd3NlcmJvdC5nZXROZXh0Q29uZmlybWF0aW9uKCkrJ10nKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuaXNBbGVydFByZXNlbnQ9ZnVuY3Rpb24oKXsvKipcbiAgICogSGFzIGFuIGFsZXJ0IG9jY3VycmVkP1xuICAgKlxuICAgKiA8cD5cbiAgICogVGhpcyBmdW5jdGlvbiBuZXZlciB0aHJvd3MgYW4gZXhjZXB0aW9uXG4gICAqIDwvcD5cbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlcmUgaXMgYW4gYWxlcnRcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5oYXNBbGVydHMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5pc1Byb21wdFByZXNlbnQ9ZnVuY3Rpb24oKXsvKipcbiAgICogSGFzIGEgcHJvbXB0IG9jY3VycmVkP1xuICAgKlxuICAgKiA8cD5cbiAgICogVGhpcyBmdW5jdGlvbiBuZXZlciB0aHJvd3MgYW4gZXhjZXB0aW9uXG4gICAqIDwvcD5cbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHByb21wdFxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90Lmhhc1Byb21wdHMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5pc0NvbmZpcm1hdGlvblByZXNlbnQ9ZnVuY3Rpb24oKXsvKipcbiAgICogSGFzIGNvbmZpcm0oKSBiZWVuIGNhbGxlZD9cbiAgICpcbiAgICogPHA+XG4gICAqIFRoaXMgZnVuY3Rpb24gbmV2ZXIgdGhyb3dzIGFuIGV4Y2VwdGlvblxuICAgKiA8L3A+XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBjb25maXJtYXRpb25cbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5oYXNDb25maXJtYXRpb25zKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0QWxlcnQ9ZnVuY3Rpb24oKXsvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIG1lc3NhZ2Ugb2YgYSBKYXZhU2NyaXB0IGFsZXJ0IGdlbmVyYXRlZCBkdXJpbmcgdGhlIHByZXZpb3VzIGFjdGlvbiwgb3IgZmFpbCBpZiB0aGVyZSB3ZXJlIG5vIGFsZXJ0cy5cbiAgICAgKlxuICAgICAqIDxwPkdldHRpbmcgYW4gYWxlcnQgaGFzIHRoZSBzYW1lIGVmZmVjdCBhcyBtYW51YWxseSBjbGlja2luZyBPSy4gSWYgYW5cbiAgICAgKiBhbGVydCBpcyBnZW5lcmF0ZWQgYnV0IHlvdSBkbyBub3QgY29uc3VtZSBpdCB3aXRoIGdldEFsZXJ0LCB0aGUgbmV4dCBTZWxlbml1bSBhY3Rpb25cbiAgICAgKiB3aWxsIGZhaWwuPC9wPlxuICAgICAqXG4gICAgICogPHA+VW5kZXIgU2VsZW5pdW0sIEphdmFTY3JpcHQgYWxlcnRzIHdpbGwgTk9UIHBvcCB1cCBhIHZpc2libGUgYWxlcnRcbiAgICAgKiBkaWFsb2cuPC9wPlxuICAgICAqXG4gICAgICogPHA+U2VsZW5pdW0gZG9lcyBOT1Qgc3VwcG9ydCBKYXZhU2NyaXB0IGFsZXJ0cyB0aGF0IGFyZSBnZW5lcmF0ZWQgaW4gYVxuICAgICAqIHBhZ2UncyBvbmxvYWQoKSBldmVudCBoYW5kbGVyLiBJbiB0aGlzIGNhc2UgYSB2aXNpYmxlIGRpYWxvZyBXSUxMIGJlXG4gICAgICogZ2VuZXJhdGVkIGFuZCBTZWxlbml1bSB3aWxsIGhhbmcgdW50aWwgc29tZW9uZSBtYW51YWxseSBjbGlja3MgT0suPC9wPlxuICAgICAqIEByZXR1cm4gc3RyaW5nIFRoZSBtZXNzYWdlIG9mIHRoZSBtb3N0IHJlY2VudCBKYXZhU2NyaXB0IGFsZXJ0XG5cbiAgICAgKi9pZighdGhpcy5icm93c2VyYm90Lmhhc0FsZXJ0cygpKXtBc3NlcnQuZmFpbCgnVGhlcmUgd2VyZSBubyBhbGVydHMnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXROZXh0QWxlcnQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRBbGVydC5kb250Q2hlY2tBbGVydHNBbmRDb25maXJtcz10cnVlO1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDb25maXJtYXRpb249ZnVuY3Rpb24oKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSBtZXNzYWdlIG9mIGEgSmF2YVNjcmlwdCBjb25maXJtYXRpb24gZGlhbG9nIGdlbmVyYXRlZCBkdXJpbmdcbiAgICogdGhlIHByZXZpb3VzIGFjdGlvbi5cbiAgICpcbiAgICogPHA+XG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBjb25maXJtIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRydWUsIGhhdmluZyB0aGUgc2FtZSBlZmZlY3RcbiAgICogYXMgbWFudWFsbHkgY2xpY2tpbmcgT0suIFRoaXMgY2FuIGJlIGNoYW5nZWQgYnkgcHJpb3IgZXhlY3V0aW9uIG9mIHRoZVxuICAgKiBjaG9vc2VDYW5jZWxPbk5leHRDb25maXJtYXRpb24gY29tbWFuZC5cbiAgICogPC9wPlxuICAgKiA8cD5cbiAgICogSWYgYW4gY29uZmlybWF0aW9uIGlzIGdlbmVyYXRlZCBidXQgeW91IGRvIG5vdCBjb25zdW1lIGl0IHdpdGggZ2V0Q29uZmlybWF0aW9uLFxuICAgKiB0aGUgbmV4dCBTZWxlbml1bSBhY3Rpb24gd2lsbCBmYWlsLlxuICAgKiA8L3A+XG4gICAqXG4gICAqIDxwPlxuICAgKiBOT1RFOiB1bmRlciBTZWxlbml1bSwgSmF2YVNjcmlwdCBjb25maXJtYXRpb25zIHdpbGwgTk9UIHBvcCB1cCBhIHZpc2libGVcbiAgICogZGlhbG9nLlxuICAgKiA8L3A+XG4gICAqXG4gICAqIDxwPlxuICAgKiBOT1RFOiBTZWxlbml1bSBkb2VzIE5PVCBzdXBwb3J0IEphdmFTY3JpcHQgY29uZmlybWF0aW9ucyB0aGF0IGFyZVxuICAgKiBnZW5lcmF0ZWQgaW4gYSBwYWdlJ3Mgb25sb2FkKCkgZXZlbnQgaGFuZGxlci4gSW4gdGhpcyBjYXNlIGEgdmlzaWJsZVxuICAgKiBkaWFsb2cgV0lMTCBiZSBnZW5lcmF0ZWQgYW5kIFNlbGVuaXVtIHdpbGwgaGFuZyB1bnRpbCB5b3UgbWFudWFsbHkgY2xpY2tcbiAgICogT0suXG4gICAqIDwvcD5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIG1lc3NhZ2Ugb2YgdGhlIG1vc3QgcmVjZW50IEphdmFTY3JpcHQgY29uZmlybWF0aW9uIGRpYWxvZ1xuICAgKi9pZighdGhpcy5icm93c2VyYm90Lmhhc0NvbmZpcm1hdGlvbnMoKSl7QXNzZXJ0LmZhaWwoJ1RoZXJlIHdlcmUgbm8gY29uZmlybWF0aW9ucycpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1yZXR1cm4gdGhpcy5icm93c2VyYm90LmdldE5leHRDb25maXJtYXRpb24oKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDb25maXJtYXRpb24uZG9udENoZWNrQWxlcnRzQW5kQ29uZmlybXM9dHJ1ZTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0UHJvbXB0PWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbWVzc2FnZSBvZiBhIEphdmFTY3JpcHQgcXVlc3Rpb24gcHJvbXB0IGRpYWxvZyBnZW5lcmF0ZWQgZHVyaW5nXG4gICAqIHRoZSBwcmV2aW91cyBhY3Rpb24uXG4gICAqXG4gICAqIDxwPlN1Y2Nlc3NmdWwgaGFuZGxpbmcgb2YgdGhlIHByb21wdCByZXF1aXJlcyBwcmlvciBleGVjdXRpb24gb2YgdGhlXG4gICAqIGFuc3dlck9uTmV4dFByb21wdCBjb21tYW5kLiBJZiBhIHByb21wdCBpcyBnZW5lcmF0ZWQgYnV0IHlvdVxuICAgKiBkbyBub3QgZ2V0L3ZlcmlmeSBpdCwgdGhlIG5leHQgU2VsZW5pdW0gYWN0aW9uIHdpbGwgZmFpbC48L3A+XG4gICAqXG4gICAqIDxwPk5PVEU6IHVuZGVyIFNlbGVuaXVtLCBKYXZhU2NyaXB0IHByb21wdHMgd2lsbCBOT1QgcG9wIHVwIGEgdmlzaWJsZVxuICAgKiBkaWFsb2cuPC9wPlxuICAgKlxuICAgKiA8cD5OT1RFOiBTZWxlbml1bSBkb2VzIE5PVCBzdXBwb3J0IEphdmFTY3JpcHQgcHJvbXB0cyB0aGF0IGFyZSBnZW5lcmF0ZWQgaW4gYVxuICAgKiBwYWdlJ3Mgb25sb2FkKCkgZXZlbnQgaGFuZGxlci4gSW4gdGhpcyBjYXNlIGEgdmlzaWJsZSBkaWFsb2cgV0lMTCBiZVxuICAgKiBnZW5lcmF0ZWQgYW5kIFNlbGVuaXVtIHdpbGwgaGFuZyB1bnRpbCBzb21lb25lIG1hbnVhbGx5IGNsaWNrcyBPSy48L3A+XG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBtZXNzYWdlIG9mIHRoZSBtb3N0IHJlY2VudCBKYXZhU2NyaXB0IHF1ZXN0aW9uIHByb21wdFxuICAgKi9pZighdGhpcy5icm93c2VyYm90Lmhhc1Byb21wdHMoKSl7QXNzZXJ0LmZhaWwoJ1RoZXJlIHdlcmUgbm8gcHJvbXB0cycpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1yZXR1cm4gdGhpcy5icm93c2VyYm90LmdldE5leHRQcm9tcHQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbigpey8qKiBHZXRzIHRoZSBhYnNvbHV0ZSBVUkwgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGFic29sdXRlIFVSTCBvZiB0aGUgY3VycmVudCBwYWdlXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpLmxvY2F0aW9uLmhyZWY7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXsvKiogR2V0cyB0aGUgdGl0bGUgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHRpdGxlIG9mIHRoZSBjdXJyZW50IHBhZ2VcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRUaXRsZSgpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEJvZHlUZXh0PWZ1bmN0aW9uKCl7LyoqXG4gICAqIEdldHMgdGhlIGVudGlyZSB0ZXh0IG9mIHRoZSBwYWdlLlxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgZW50aXJlIHRleHQgb2YgdGhlIHBhZ2VcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5ib2R5VGV4dCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBHZXRzIHRoZSAod2hpdGVzcGFjZS10cmltbWVkKSB2YWx1ZSBvZiBhbiBpbnB1dCBmaWVsZCAob3IgYW55dGhpbmcgZWxzZSB3aXRoIGEgdmFsdWUgcGFyYW1ldGVyKS5cbiAgICogRm9yIGNoZWNrYm94L3JhZGlvIGVsZW1lbnRzLCB0aGUgdmFsdWUgd2lsbCBiZSBcIm9uXCIgb3IgXCJvZmZcIiBkZXBlbmRpbmcgb25cbiAgICogd2hldGhlciB0aGUgZWxlbWVudCBpcyBjaGVja2VkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGVsZW1lbnQgdmFsdWUsIG9yIFwib24vb2ZmXCIgZm9yIGNoZWNrYm94L3JhZGlvIGVsZW1lbnRzXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtyZXR1cm4gZWxlbWVudC52YWx1ZS50cmltKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogR2V0cyB0aGUgdGV4dCBvZiBhbiBlbGVtZW50LiBUaGlzIHdvcmtzIGZvciBhbnkgZWxlbWVudCB0aGF0IGNvbnRhaW5zXG4gICAqIHRleHQuIFRoaXMgY29tbWFuZCB1c2VzIGVpdGhlciB0aGUgdGV4dENvbnRlbnQgKE1vemlsbGEtbGlrZSBicm93c2Vycykgb3JcbiAgICogdGhlIGlubmVyVGV4dCAoSUUtbGlrZSBicm93c2Vycykgb2YgdGhlIGVsZW1lbnQsIHdoaWNoIGlzIHRoZSByZW5kZXJlZFxuICAgKiB0ZXh0IHNob3duIHRvIHRoZSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgdGV4dCBvZiB0aGUgZWxlbWVudFxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7cmV0dXJuIF9jbG9zdXJlUG9seWZpbGwuYm90LmRvbS5nZXRWaXNpYmxlVGV4dChlbGVtZW50KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRFdmFsPWZ1bmN0aW9uKHNjcmlwdCl7LyoqIEdldHMgdGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBzcGVjaWZpZWQgSmF2YVNjcmlwdCBzbmlwcGV0LiAgVGhlIHNuaXBwZXQgbWF5XG4gICAqIGhhdmUgbXVsdGlwbGUgbGluZXMsIGJ1dCBvbmx5IHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgbGluZSB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiA8cD5Ob3RlIHRoYXQsIGJ5IGRlZmF1bHQsIHRoZSBzbmlwcGV0IHdpbGwgcnVuIGluIHRoZSBjb250ZXh0IG9mIHRoZSBcInNlbGVuaXVtXCJcbiAgICogb2JqZWN0IGl0c2VsZiwgc28gPGNvZGU+dGhpczwvY29kZT4gd2lsbCByZWZlciB0byB0aGUgU2VsZW5pdW0gb2JqZWN0LiAgVXNlIDxjb2RlPndpbmRvdzwvY29kZT4gdG9cbiAgICogcmVmZXIgdG8gdGhlIHdpbmRvdyBvZiB5b3VyIGFwcGxpY2F0aW9uLCBlLmcuIDxjb2RlPndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vJyk8L2NvZGU+PC9wPlxuICAgKlxuICAgKiA8cD5JZiB5b3UgbmVlZCB0byB1c2VcbiAgICogYSBsb2NhdG9yIHRvIHJlZmVyIHRvIGEgc2luZ2xlIGVsZW1lbnQgaW4geW91ciBhcHBsaWNhdGlvbiBwYWdlLCB5b3UgY2FuXG4gICAqIHVzZSA8Y29kZT50aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoXCJpZD1mb29cIik8L2NvZGU+IHdoZXJlIFwiaWQ9Zm9vXCIgaXMgeW91ciBsb2NhdG9yLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIHNjcmlwdCB0aGUgSmF2YVNjcmlwdCBzbmlwcGV0IHRvIHJ1blxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgcmVzdWx0cyBvZiBldmFsdWF0aW5nIHRoZSBzbmlwcGV0XG4gICAqL3RyeXsvL0xPRy5pbmZvKCdzY3JpcHQgaXM6ICcgKyBzY3JpcHQpO1xudmFyIHJlc3VsdD10aGlzLmV2YWwoc2NyaXB0KTsvLyBTZWxlbml1bSBSQyBkb2Vzbid0IGFsbG93IHJldHVybmluZyBudWxsXG5pZihudWxsPT1yZXN1bHQpcmV0dXJuJ251bGwnO3JldHVybiByZXN1bHQ7fWNhdGNoKGUpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnVGhyZXcgYW4gZXhjZXB0aW9uOiAnKygwLF91dGlscy5leHRyYWN0RXhjZXB0aW9uTWVzc2FnZSkoZSkpO319O1NlbGVuaXVtLnByb3RvdHlwZS5pc0NoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIEdldHMgd2hldGhlciBhIHRvZ2dsZS1idXR0b24gKGNoZWNrYm94L3JhZGlvKSBpcyBjaGVja2VkLiAgRmFpbHMgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGRvZXNuJ3QgZXhpc3Qgb3IgaXNuJ3QgYSB0b2dnbGUtYnV0dG9uLlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byBhIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvblxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LmNoZWNrZWQ9PW51bGwpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnRWxlbWVudCAnK2xvY2F0b3IrJyBpcyBub3QgYSB0b2dnbGUtYnV0dG9uLicpO31yZXR1cm4gZWxlbWVudC5jaGVja2VkO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFRhYmxlPWZ1bmN0aW9uKHRhYmxlQ2VsbEFkZHJlc3Mpey8qKlxuICAgKiBHZXRzIHRoZSB0ZXh0IGZyb20gYSBjZWxsIG9mIGEgdGFibGUuIFRoZSBjZWxsQWRkcmVzcyBzeW50YXhcbiAgICogdGFibGVMb2NhdG9yLnJvdy5jb2x1bW4sIHdoZXJlIHJvdyBhbmQgY29sdW1uIHN0YXJ0IGF0IDAuXG4gICAqXG4gICAqIEBwYXJhbSB0YWJsZUNlbGxBZGRyZXNzIGEgY2VsbCBhZGRyZXNzLCBlLmcuIFwiZm9vLjEuNFwiXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSB0ZXh0IGZyb20gdGhlIHNwZWNpZmllZCBjZWxsXG4gICAqLy8vIFRoaXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgXCJ0YWJsZU5hbWUucm93LmNvbHVtblwiXG4vLyBGb3IgZXhhbXBsZSwgXCJteXRhYmxlLjMuNFwiXG52YXIgcGF0dGVybj0vKC4qKVxcLihcXGQrKVxcLihcXGQrKS87aWYoIXBhdHRlcm4udGVzdCh0YWJsZUNlbGxBZGRyZXNzKSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdJbnZhbGlkIHRhcmdldCBmb3JtYXQuIENvcnJlY3QgZm9ybWF0IGlzIHRhYmxlTmFtZS5yb3dOdW0uY29sdW1uTnVtJyk7fXZhciBwaWVjZXM9dGFibGVDZWxsQWRkcmVzcy5tYXRjaChwYXR0ZXJuKTt2YXIgdGFibGVOYW1lPXBpZWNlc1sxXTt2YXIgcm93PXBpZWNlc1syXTt2YXIgY29sPXBpZWNlc1szXTt2YXIgdGFibGU9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KHRhYmxlTmFtZSk7aWYocm93PnRhYmxlLnJvd3MubGVuZ3RoKXsvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbkFzc2VydC5mYWlsKCdDYW5ub3QgYWNjZXNzIHJvdyAnK3JvdysnIC0gdGFibGUgaGFzICcrdGFibGUucm93cy5sZW5ndGgrJyByb3dzJyk7fWVsc2UgaWYoY29sPnRhYmxlLnJvd3Nbcm93XS5jZWxscy5sZW5ndGgpey8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuQXNzZXJ0LmZhaWwoJ0Nhbm5vdCBhY2Nlc3MgY29sdW1uICcrY29sKycgLSB0YWJsZSByb3cgaGFzICcrdGFibGUucm93c1tyb3ddLmNlbGxzLmxlbmd0aCsnIGNvbHVtbnMnKTt9ZWxzZXt2YXIgYWN0dWFsQ29udGVudD1fY2xvc3VyZVBvbHlmaWxsLmJvdC5kb20uZ2V0VmlzaWJsZVRleHQodGFibGUucm93c1tyb3ddLmNlbGxzW2NvbF0pO3JldHVybiBhY3R1YWxDb250ZW50LnRyaW0oKTt9cmV0dXJuIG51bGw7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRMYWJlbHM9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgYWxsIG9wdGlvbiBsYWJlbHMgKHZpc2libGUgdGV4dCkgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIGxhYmVscyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhzZWxlY3RMb2NhdG9yLCd0ZXh0Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRMYWJlbD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBvcHRpb24gbGFiZWwgKHZpc2libGUgdGV4dCkgZm9yIHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBzZWxlY3RlZCBvcHRpb24gbGFiZWwgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ3RleHQnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RlZFZhbHVlcz1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBhbGwgb3B0aW9uIHZhbHVlcyAodmFsdWUgYXR0cmlidXRlcykgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIHZhbHVlcyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhzZWxlY3RMb2NhdG9yLCd2YWx1ZScpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgb3B0aW9uIHZhbHVlICh2YWx1ZSBhdHRyaWJ1dGUpIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIHZhbHVlIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCd2YWx1ZScpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkSW5kZXhlcz1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBhbGwgb3B0aW9uIGluZGV4ZXMgKG9wdGlvbiBudW1iZXIsIHN0YXJ0aW5nIGF0IDApIGZvciBzZWxlY3RlZCBvcHRpb25zIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IG9yIG11bHRpLXNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nW10gYW4gYXJyYXkgb2YgYWxsIHNlbGVjdGVkIG9wdGlvbiBpbmRleGVzIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzKHNlbGVjdExvY2F0b3IsJ2luZGV4Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJbmRleD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBvcHRpb24gaW5kZXggKG9wdGlvbiBudW1iZXIsIHN0YXJ0aW5nIGF0IDApIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIGluZGV4IGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCdpbmRleCcpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkSWRzPWZ1bmN0aW9uKHNlbGVjdExvY2F0b3Ipey8qKiBHZXRzIGFsbCBvcHRpb24gZWxlbWVudCBJRHMgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIElEcyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhzZWxlY3RMb2NhdG9yLCdpZCcpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkSWQ9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgb3B0aW9uIGVsZW1lbnQgSUQgZm9yIHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBzZWxlY3RlZCBvcHRpb24gSUQgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ2lkJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNTb21ldGhpbmdTZWxlY3RlZD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogRGV0ZXJtaW5lcyB3aGV0aGVyIHNvbWUgb3B0aW9uIGluIGEgZHJvcC1kb3duIG1lbnUgaXMgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgc29tZSBvcHRpb24gaGFzIGJlZW4gc2VsZWN0ZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoc2VsZWN0TG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdTcGVjaWZpZWQgZWxlbWVudCBpcyBub3QgYSBTZWxlY3QgKGhhcyBubyBvcHRpb25zKScpO31mb3IodmFyIGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZihlbGVtZW50Lm9wdGlvbnNbaV0uc2VsZWN0ZWQpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnRpZXM9ZnVuY3Rpb24obG9jYXRvcixwcm9wZXJ0eSl7dmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKCEoJ29wdGlvbnMnaW4gZWxlbWVudCkpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9dmFyIHNlbGVjdGVkT3B0aW9ucz1bXTtmb3IodmFyIGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZihlbGVtZW50Lm9wdGlvbnNbaV0uc2VsZWN0ZWQpe3ZhciBwcm9wVmFsPWVsZW1lbnQub3B0aW9uc1tpXVtwcm9wZXJ0eV07c2VsZWN0ZWRPcHRpb25zLnB1c2gocHJvcFZhbCk7fX1pZihzZWxlY3RlZE9wdGlvbnMubGVuZ3RoPT0wKUFzc2VydC5mYWlsKCdObyBvcHRpb24gc2VsZWN0ZWQnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5yZXR1cm4gc2VsZWN0ZWRPcHRpb25zO307U2VsZW5pdW0ucHJvdG90eXBlLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5PWZ1bmN0aW9uKGxvY2F0b3IscHJvcGVydHkpe3ZhciBzZWxlY3RlZE9wdGlvbnM9dGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzKGxvY2F0b3IscHJvcGVydHkpO2lmKHNlbGVjdGVkT3B0aW9ucy5sZW5ndGg+MSl7QXNzZXJ0LmZhaWwoJ01vcmUgdGhhbiBvbmUgc2VsZWN0ZWQgb3B0aW9uIScpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1yZXR1cm4gc2VsZWN0ZWRPcHRpb25zWzBdO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdE9wdGlvbnM9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgYWxsIG9wdGlvbiBsYWJlbHMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duLlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nW10gYW4gYXJyYXkgb2YgYWxsIG9wdGlvbiBsYWJlbHMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChzZWxlY3RMb2NhdG9yKTt2YXIgc2VsZWN0T3B0aW9ucz1bXTtmb3IodmFyIGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXt2YXIgb3B0aW9uPWVsZW1lbnQub3B0aW9uc1tpXS50ZXh0O3NlbGVjdE9wdGlvbnMucHVzaChvcHRpb24pO31yZXR1cm4gc2VsZWN0T3B0aW9uczt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYXR0cmlidXRlTG9jYXRvcil7LyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIG9mIGFuIGVsZW1lbnQgYXR0cmlidXRlLiBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBtYXlcbiAgICogZGlmZmVyIGFjcm9zcyBicm93c2VycyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdGhlIFwic3R5bGVcIiBhdHRyaWJ1dGUsIGZvclxuICAgKiBleGFtcGxlKS5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yIGZvbGxvd2VkIGJ5IGFuICYjMDY0OyBzaWduIGFuZCB0aGVuIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUsIGUuZy4gXCJmb28mIzA2NDtiYXJcIlxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVcbiAgICovdmFyIHJlc3VsdD10aGlzLmJyb3dzZXJib3QuZmluZEF0dHJpYnV0ZShhdHRyaWJ1dGVMb2NhdG9yKTtpZihyZXN1bHQ9PW51bGwpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnQ291bGQgbm90IGZpbmQgZWxlbWVudCBhdHRyaWJ1dGU6ICcrYXR0cmlidXRlTG9jYXRvcik7fXJldHVybiByZXN1bHQ7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNUZXh0UHJlc2VudD1mdW5jdGlvbihwYXR0ZXJuKXsvKipcbiAgICogVmVyaWZpZXMgdGhhdCB0aGUgc3BlY2lmaWVkIHRleHQgcGF0dGVybiBhcHBlYXJzIHNvbWV3aGVyZSBvbiB0aGUgcmVuZGVyZWQgcGFnZSBzaG93biB0byB0aGUgdXNlci5cbiAgICogQHBhcmFtIHBhdHRlcm4gYSA8YSBocmVmPVwiI3BhdHRlcm5zXCI+cGF0dGVybjwvYT4gdG8gbWF0Y2ggd2l0aCB0aGUgdGV4dCBvZiB0aGUgcGFnZVxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgcGF0dGVybiBtYXRjaGVzIHRoZSB0ZXh0LCBmYWxzZSBvdGhlcndpc2VcbiAgICovdmFyIGFsbFRleHQ9dGhpcy5icm93c2VyYm90LmJvZHlUZXh0KCk7dmFyIHBhdHRlcm5NYXRjaGVyPW5ldyBfUGF0dGVybk1hdGNoZXIyLmRlZmF1bHQocGF0dGVybik7aWYocGF0dGVybk1hdGNoZXIuc3RyYXRlZ3k9PV9QYXR0ZXJuTWF0Y2hlcjIuZGVmYXVsdC5zdHJhdGVnaWVzLmdsb2Ipe2lmKHBhdHRlcm4uaW5kZXhPZignZ2xvYjonKT09MCl7cGF0dGVybj1wYXR0ZXJuLnN1YnN0cmluZygnZ2xvYjonLmxlbmd0aCk7Ly8gc3RyaXAgb2ZmIFwiZ2xvYjpcIlxufXBhdHRlcm5NYXRjaGVyLm1hdGNoZXI9bmV3IF9QYXR0ZXJuTWF0Y2hlcjIuZGVmYXVsdC5zdHJhdGVnaWVzLmdsb2JDb250YWlucyhwYXR0ZXJuKTt9ZWxzZSBpZihwYXR0ZXJuTWF0Y2hlci5zdHJhdGVneT09X1BhdHRlcm5NYXRjaGVyMi5kZWZhdWx0LnN0cmF0ZWdpZXMuZXhhY3Qpe3BhdHRlcm49cGF0dGVybi5zdWJzdHJpbmcoJ2V4YWN0OicubGVuZ3RoKTsvLyBzdHJpcCBvZmYgXCJleGFjdDpcIlxucmV0dXJuIGFsbFRleHQuaW5kZXhPZihwYXR0ZXJuKSE9LTE7fXJldHVybiBwYXR0ZXJuTWF0Y2hlci5tYXRjaGVzKGFsbFRleHQpO307ZnVuY3Rpb24gaXNFbGVtZW50Tm90UHJlc2VudChsb2NhdG9yKXtyZXR1cm4hdGhpcy5pc0VsZW1lbnRQcmVzZW50KGxvY2F0b3IpO31TZWxlbml1bS5wcm90b3R5cGUuaXNFbGVtZW50UHJlc2VudD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogVmVyaWZpZXMgdGhhdCB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgc29tZXdoZXJlIG9uIHRoZSBwYWdlLlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyBwcmVzZW50LCBmYWxzZSBvdGhlcndpc2VcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50T3JOdWxsKGxvY2F0b3IpO2lmKGVsZW1lbnQ9PW51bGwpe3JldHVybiBmYWxzZTt9cmV0dXJuIHRydWU7fTtmdW5jdGlvbiB1bmFibGVUb0xvY2F0ZVRhcmdldEVsZW1lbnRFcnJvcigpe3Rocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvY2F0ZSB0YXJnZXQgZWxlbWVudC4nKTt9ZnVuY3Rpb24gaXNOb3REaXNwbGF5ZWQobG9jYXRvcil7dHJ5e3JldHVybiF0aGlzLmlzVmlzaWJsZShsb2NhdG9yKTt9Y2F0Y2goZXJyb3Ipe3VuYWJsZVRvTG9jYXRlVGFyZ2V0RWxlbWVudEVycm9yKCk7fX1mdW5jdGlvbiBpc0Rpc3BsYXllZChsb2NhdG9yKXt0cnl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKGxvY2F0b3IpO31jYXRjaChlcnJvcil7cmV0dXJuIGZhbHNlO319U2VsZW5pdW0ucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgdmlzaWJsZS4gQW5cbiAgICogZWxlbWVudCBjYW4gYmUgcmVuZGVyZWQgaW52aXNpYmxlIGJ5IHNldHRpbmcgdGhlIENTUyBcInZpc2liaWxpdHlcIlxuICAgKiBwcm9wZXJ0eSB0byBcImhpZGRlblwiLCBvciB0aGUgXCJkaXNwbGF5XCIgcHJvcGVydHkgdG8gXCJub25lXCIsIGVpdGhlciBmb3IgdGhlXG4gICAqIGVsZW1lbnQgaXRzZWxmIG9yIG9uZSBpZiBpdHMgYW5jZXN0b3JzLiAgVGhpcyBtZXRob2Qgd2lsbCBmYWlsIGlmXG4gICAqIHRoZSBlbGVtZW50IGlzIG5vdCBwcmVzZW50LlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL3ZhciBlbGVtZW50PXZvaWQgMDtlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTsvLyBER0YgaWYgaXQncyBhbiBpbnB1dCB0YWcgb2YgdHlwZSBcImhpZGRlblwiIHRoZW4gaXQncyBub3QgdmlzaWJsZVxuaWYoZWxlbWVudC50YWdOYW1lKXt2YXIgdGFnTmFtZT1uZXcgU3RyaW5nKGVsZW1lbnQudGFnTmFtZSkudG9Mb3dlckNhc2UoKTtpZih0YWdOYW1lPT0naW5wdXQnKXtpZihlbGVtZW50LnR5cGUpe3ZhciBlbGVtZW50VHlwZT1uZXcgU3RyaW5nKGVsZW1lbnQudHlwZSkudG9Mb3dlckNhc2UoKTtpZihlbGVtZW50VHlwZT09J2hpZGRlbicpe3JldHVybiBmYWxzZTt9fX19dmFyIHZpc2liaWxpdHk9dGhpcy5maW5kRWZmZWN0aXZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LCd2aXNpYmlsaXR5Jyk7dmFyIF9pc0Rpc3BsYXllZD10aGlzLl9pc0Rpc3BsYXllZChlbGVtZW50KTtyZXR1cm4gdmlzaWJpbGl0eSE9J2hpZGRlbicmJl9pc0Rpc3BsYXllZDt9O1NlbGVuaXVtLnByb3RvdHlwZS5maW5kRWZmZWN0aXZlU3R5bGVQcm9wZXJ0eT1mdW5jdGlvbihlbGVtZW50LHByb3BlcnR5KXt2YXIgZWZmZWN0aXZlU3R5bGU9dGhpcy5maW5kRWZmZWN0aXZlU3R5bGUoZWxlbWVudCk7dmFyIHByb3BlcnR5VmFsdWU9ZWZmZWN0aXZlU3R5bGVbcHJvcGVydHldO2lmKHByb3BlcnR5VmFsdWU9PSdpbmhlcml0JyYmZWxlbWVudC5wYXJlbnROb2RlLnN0eWxlKXtyZXR1cm4gdGhpcy5maW5kRWZmZWN0aXZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LnBhcmVudE5vZGUscHJvcGVydHkpO31yZXR1cm4gcHJvcGVydHlWYWx1ZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5faXNEaXNwbGF5ZWQ9ZnVuY3Rpb24oZWxlbWVudCl7dmFyIGRpc3BsYXk9dGhpcy5maW5kRWZmZWN0aXZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LCdkaXNwbGF5Jyk7aWYoZGlzcGxheT09J25vbmUnKXJldHVybiBmYWxzZTtpZihlbGVtZW50LnBhcmVudE5vZGUuc3R5bGUpe3JldHVybiB0aGlzLl9pc0Rpc3BsYXllZChlbGVtZW50LnBhcmVudE5vZGUpO31yZXR1cm4gdHJ1ZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5maW5kRWZmZWN0aXZlU3R5bGU9ZnVuY3Rpb24oZWxlbWVudCl7aWYoZWxlbWVudC5zdHlsZT09dW5kZWZpbmVkKXtyZXR1cm4gdW5kZWZpbmVkOy8vIG5vdCBhIHN0eWxlZCBlbGVtZW50XG59dmFyIHdpbmRvdz10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO2lmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXsvLyBET00tTGV2ZWwtMi1DU1NcbnJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LG51bGwpO31pZihlbGVtZW50LmN1cnJlbnRTdHlsZSl7Ly8gbm9uLXN0YW5kYXJkIElFIGFsdGVybmF0aXZlXG5yZXR1cm4gZWxlbWVudC5jdXJyZW50U3R5bGU7Ly8gVE9ETzogdGhpcyB3b24ndCByZWFsbHkgd29yayBpbiBhIGdlbmVyYWwgc2Vuc2UsIGFzXG4vLyAgIGN1cnJlbnRTdHlsZSBpcyBub3QgaWRlbnRpY2FsIHRvIGdldENvbXB1dGVkU3R5bGUoKVxuLy8gICAuLi4gYnV0IGl0J3MgZ29vZCBlbm91Z2ggZm9yIFwidmlzaWJpbGl0eVwiXG59aWYod2luZG93LmRvY3VtZW50LmRlZmF1bHRWaWV3JiZ3aW5kb3cuZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSl7cmV0dXJuIHdpbmRvdy5kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsbnVsbCk7fXRocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnY2Fubm90IGRldGVybWluZSBlZmZlY3RpdmUgc3R5bGVzaGVldCBpbiB0aGlzIGJyb3dzZXInKTt9O2Z1bmN0aW9uIGlzRWRpdGFibGUobG9jYXRvcil7dHJ5e3JldHVybiB0aGlzLmlzRWRpdGFibGUobG9jYXRvcik7fWNhdGNoKGVycm9yKXt1bmFibGVUb0xvY2F0ZVRhcmdldEVsZW1lbnRFcnJvcigpO319ZnVuY3Rpb24gaXNOb3RFZGl0YWJsZShsb2NhdG9yKXt0cnl7cmV0dXJuIXRoaXMuaXNFZGl0YWJsZShsb2NhdG9yKTt9Y2F0Y2goZXJyb3Ipe3VuYWJsZVRvTG9jYXRlVGFyZ2V0RWxlbWVudEVycm9yKCk7fX1TZWxlbml1bS5wcm90b3R5cGUuaXNFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgaW5wdXQgZWxlbWVudCBpcyBlZGl0YWJsZSwgaWUgaGFzbid0IGJlZW4gZGlzYWJsZWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIGlucHV0IGVsZW1lbnQgaXMgZWRpdGFibGUsIGZhbHNlIG90aGVyd2lzZVxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZT09dW5kZWZpbmVkKXtBc3NlcnQuZmFpbCgnRWxlbWVudCAnK2xvY2F0b3IrJyBpcyBub3QgYW4gaW5wdXQuJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufWlmKGVsZW1lbnQuZGlzYWJsZWQpe3JldHVybiBmYWxzZTt9Ly8gREdGIFwicmVhZG9ubHlcIiBpcyBhIGJpdCBnb29meS4uLiBpdCBkb2Vzbid0IG5lY2Vzc2FyaWx5IGhhdmUgYSB2YWx1ZVxuLy8gWW91IGNhbiB3cml0ZSA8aW5wdXQgcmVhZG9ubHkgdmFsdWU9XCJibGFja1wiPlxudmFyIHJlYWRPbmx5Tm9kZT1lbGVtZW50LmdldEF0dHJpYnV0ZU5vZGUoJ3JlYWRvbmx5Jyk7aWYocmVhZE9ubHlOb2RlKXsvLyBER0Ygb24gSUUsIGV2ZXJ5IGlucHV0IGVsZW1lbnQgaGFzIGEgcmVhZE9ubHkgbm9kZSwgYnV0IGl0IG1heSBiZSBmYWxzZVxuaWYodHlwZW9mIHJlYWRPbmx5Tm9kZS5ub2RlVmFsdWU9PSdib29sZWFuJyl7dmFyIHJlYWRPbmx5PXJlYWRPbmx5Tm9kZS5ub2RlVmFsdWU7aWYocmVhZE9ubHkpe3JldHVybiBmYWxzZTt9fWVsc2V7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0QWxsQnV0dG9ucz1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgYWxsIGJ1dHRvbnMgb24gdGhlIHBhZ2UuXG4gICAqXG4gICAqIDxwPklmIGEgZ2l2ZW4gYnV0dG9uIGhhcyBubyBJRCwgaXQgd2lsbCBhcHBlYXIgYXMgXCJcIiBpbiB0aGlzIGFycmF5LjwvcD5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmdbXSB0aGUgSURzIG9mIGFsbCBidXR0b25zIG9uIHRoZSBwYWdlXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0QWxsQnV0dG9ucygpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsbExpbmtzPWZ1bmN0aW9uKCl7LyoqIFJldHVybnMgdGhlIElEcyBvZiBhbGwgbGlua3Mgb24gdGhlIHBhZ2UuXG4gICAqXG4gICAqIDxwPklmIGEgZ2l2ZW4gbGluayBoYXMgbm8gSUQsIGl0IHdpbGwgYXBwZWFyIGFzIFwiXCIgaW4gdGhpcyBhcnJheS48L3A+XG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nW10gdGhlIElEcyBvZiBhbGwgbGlua3Mgb24gdGhlIHBhZ2VcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGxMaW5rcygpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsbEZpZWxkcz1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgYWxsIGlucHV0IGZpZWxkcyBvbiB0aGUgcGFnZS5cbiAgICpcbiAgICogPHA+SWYgYSBnaXZlbiBmaWVsZCBoYXMgbm8gSUQsIGl0IHdpbGwgYXBwZWFyIGFzIFwiXCIgaW4gdGhpcyBhcnJheS48L3A+XG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nW10gdGhlIElEcyBvZiBhbGwgZmllbGQgb24gdGhlIHBhZ2VcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGxGaWVsZHMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NldE1vdXNlU3BlZWQ9ZnVuY3Rpb24ocGl4ZWxzKXsvKiogQ29uZmlndXJlIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gXCJtb3VzZW1vdmVcIiBldmVudHMgZHVyaW5nIGRyYWdBbmREcm9wIGNvbW1hbmRzIChkZWZhdWx0PTEwKS5cbiAgICogPHA+U2V0dGluZyB0aGlzIHZhbHVlIHRvIDAgbWVhbnMgdGhhdCB3ZSdsbCBzZW5kIGEgXCJtb3VzZW1vdmVcIiBldmVudCB0byBldmVyeSBzaW5nbGUgcGl4ZWxcbiAgICogaW4gYmV0d2VlbiB0aGUgc3RhcnQgbG9jYXRpb24gYW5kIHRoZSBlbmQgbG9jYXRpb247IHRoYXQgY2FuIGJlIHZlcnkgc2xvdywgYW5kIG1heVxuICAgKiBjYXVzZSBzb21lIGJyb3dzZXJzIHRvIGZvcmNlIHRoZSBKYXZhU2NyaXB0IHRvIHRpbWVvdXQuPC9wPlxuICAgKlxuICAgKiA8cD5JZiB0aGUgbW91c2Ugc3BlZWQgaXMgZ3JlYXRlciB0aGFuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gZHJhZ2dlZCBvYmplY3RzLCB3ZSdsbFxuICAgKiBqdXN0IHNlbmQgb25lIFwibW91c2Vtb3ZlXCIgYXQgdGhlIHN0YXJ0IGxvY2F0aW9uIGFuZCB0aGVuIG9uZSBmaW5hbCBvbmUgYXQgdGhlIGVuZCBsb2NhdGlvbi48L3A+XG4gICAqIEBwYXJhbSBwaXhlbHMgdGhlIG51bWJlciBvZiBwaXhlbHMgYmV0d2VlbiBcIm1vdXNlbW92ZVwiIGV2ZW50c1xuICAgKi92YXIgaW50VmFsdWU9bmV3IE51bWJlcihwaXhlbHMpO2lmKGludFZhbHVlLmNvbnN0cnVjdG9yIT1OdW1iZXJ8fGludFZhbHVlPDApe3RoaXMubW91c2VTcGVlZD1TZWxlbml1bS5ERUZBVUxUX01PVVNFX1NQRUVEO31lbHNle3RoaXMubW91c2VTcGVlZD1waXhlbHM7fX07U2VsZW5pdW0ucHJvdG90eXBlLmdldE1vdXNlU3BlZWQ9ZnVuY3Rpb24oKXsvKiogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHBpeGVscyBiZXR3ZWVuIFwibW91c2Vtb3ZlXCIgZXZlbnRzIGR1cmluZyBkcmFnQW5kRHJvcCBjb21tYW5kcyAoZGVmYXVsdD0xMCkuXG4gICAqXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gXCJtb3VzZW1vdmVcIiBldmVudHMgZHVyaW5nIGRyYWdBbmREcm9wIGNvbW1hbmRzIChkZWZhdWx0PTEwKVxuICAgKi9yZXR1cm4gdGhpcy5tb3VzZVNwZWVkO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRHJhZ0FuZERyb3A9ZnVuY3Rpb24obG9jYXRvcixtb3ZlbWVudHNTdHJpbmcpey8qKiBEcmFncyBhbiBlbGVtZW50IGEgY2VydGFpbiBkaXN0YW5jZSBhbmQgdGhlbiBkcm9wcyBpdFxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcbiAgICogQHBhcmFtIG1vdmVtZW50c1N0cmluZyBvZmZzZXQgaW4gcGl4ZWxzIGZyb20gdGhlIGN1cnJlbnQgbG9jYXRpb24gdG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIGJlIG1vdmVkLCBlLmcuLCBcIis3MCwtMzAwXCJcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBjbGllbnRTdGFydFhZPWdldENsaWVudFhZKGVsZW1lbnQpO3ZhciBjbGllbnRTdGFydFg9Y2xpZW50U3RhcnRYWVswXTt2YXIgY2xpZW50U3RhcnRZPWNsaWVudFN0YXJ0WFlbMV07dmFyIG1vdmVtZW50cz1tb3ZlbWVudHNTdHJpbmcuc3BsaXQoLywvKTt2YXIgbW92ZW1lbnRYPU51bWJlcihtb3ZlbWVudHNbMF0pO3ZhciBtb3ZlbWVudFk9TnVtYmVyKG1vdmVtZW50c1sxXSk7dmFyIGNsaWVudEZpbmlzaFg9Y2xpZW50U3RhcnRYK21vdmVtZW50WDwwPzA6Y2xpZW50U3RhcnRYK21vdmVtZW50WDt2YXIgY2xpZW50RmluaXNoWT1jbGllbnRTdGFydFkrbW92ZW1lbnRZPDA/MDpjbGllbnRTdGFydFkrbW92ZW1lbnRZO3ZhciBtb3VzZVNwZWVkPXRoaXMubW91c2VTcGVlZDt2YXIgbW92ZT1mdW5jdGlvbiBtb3ZlKGN1cnJlbnQsZGVzdCl7aWYoY3VycmVudD09ZGVzdClyZXR1cm4gY3VycmVudDtpZihNYXRoLmFicyhjdXJyZW50LWRlc3QpPG1vdXNlU3BlZWQpcmV0dXJuIGRlc3Q7cmV0dXJuIGN1cnJlbnQ8ZGVzdD9jdXJyZW50K21vdXNlU3BlZWQ6Y3VycmVudC1tb3VzZVNwZWVkO307dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlZG93bicsdHJ1ZSxjbGllbnRTdGFydFgsY2xpZW50U3RhcnRZKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudFN0YXJ0WCxjbGllbnRTdGFydFkpO3ZhciBjbGllbnRYPWNsaWVudFN0YXJ0WDt2YXIgY2xpZW50WT1jbGllbnRTdGFydFk7d2hpbGUoY2xpZW50WCE9Y2xpZW50RmluaXNoWHx8Y2xpZW50WSE9Y2xpZW50RmluaXNoWSl7Y2xpZW50WD1tb3ZlKGNsaWVudFgsY2xpZW50RmluaXNoWCk7Y2xpZW50WT1tb3ZlKGNsaWVudFksY2xpZW50RmluaXNoWSk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlbW92ZScsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO310aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudEZpbmlzaFgsY2xpZW50RmluaXNoWSk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNldXAnLHRydWUsY2xpZW50RmluaXNoWCxjbGllbnRGaW5pc2hZKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RyYWdBbmREcm9wVG9PYmplY3Q9ZnVuY3Rpb24obG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQsbG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KXsvKiogRHJhZ3MgYW4gZWxlbWVudCBhbmQgZHJvcHMgaXQgb24gYW5vdGhlciBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yT2ZPYmplY3RUb0JlRHJhZ2dlZCBhbiBlbGVtZW50IHRvIGJlIGRyYWdnZWRcbiAgICogQHBhcmFtIGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCBhbiBlbGVtZW50IHdob3NlIGxvY2F0aW9uIChpLmUuLCB3aG9zZSBjZW50ZXItbW9zdCBwaXhlbCkgd2lsbCBiZSB0aGUgcG9pbnQgd2hlcmUgbG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQgIGlzIGRyb3BwZWRcbiAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yT2ZPYmplY3RUb0JlRHJhZ2dlZCkuZHJhZ2dhYmxlKXsvL29yaWdpbiBjb2RlXG52YXIgc3RhcnRYPXRoaXMuZ2V0RWxlbWVudFBvc2l0aW9uTGVmdChsb2NhdG9yT2ZPYmplY3RUb0JlRHJhZ2dlZCk7dmFyIHN0YXJ0WT10aGlzLmdldEVsZW1lbnRQb3NpdGlvblRvcChsb2NhdG9yT2ZPYmplY3RUb0JlRHJhZ2dlZCk7dmFyIGRlc3RpbmF0aW9uTGVmdFg9dGhpcy5nZXRFbGVtZW50UG9zaXRpb25MZWZ0KGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCk7dmFyIGRlc3RpbmF0aW9uVG9wWT10aGlzLmdldEVsZW1lbnRQb3NpdGlvblRvcChsb2NhdG9yT2ZEcmFnRGVzdGluYXRpb25PYmplY3QpO3ZhciBkZXN0aW5hdGlvbldpZHRoPXRoaXMuZ2V0RWxlbWVudFdpZHRoKGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCk7dmFyIGRlc3RpbmF0aW9uSGVpZ2h0PXRoaXMuZ2V0RWxlbWVudEhlaWdodChsb2NhdG9yT2ZEcmFnRGVzdGluYXRpb25PYmplY3QpO3ZhciBlbmRYPU1hdGgucm91bmQoZGVzdGluYXRpb25MZWZ0WCtkZXN0aW5hdGlvbldpZHRoLzIpO3ZhciBlbmRZPU1hdGgucm91bmQoZGVzdGluYXRpb25Ub3BZK2Rlc3RpbmF0aW9uSGVpZ2h0LzIpO3ZhciBkZWx0YVg9ZW5kWC1zdGFydFg7dmFyIGRlbHRhWT1lbmRZLXN0YXJ0WTt2YXIgbW92ZW1lbnRzU3RyaW5nPScnK2RlbHRhWCsnLCcrZGVsdGFZO3RoaXMuZG9EcmFnQW5kRHJvcChsb2NhdG9yT2ZPYmplY3RUb0JlRHJhZ2dlZCxtb3ZlbWVudHNTdHJpbmcpO31lbHNley8vRHJhZ0FuZERyb3BFeHQsIFNodW8tSGVuZyBTaGloLCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8wOS8yOVxudmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkKTt2YXIgdGFyZ2V0PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yT2ZEcmFnRGVzdGluYXRpb25PYmplY3QpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyRHJhZ0V2ZW50KGVsZW1lbnQsdGFyZ2V0KTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XaW5kb3dGb2N1cz1mdW5jdGlvbigpey8qKiBHaXZlcyBmb2N1cyB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHdpbmRvd1xuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpLmZvY3VzKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XaW5kb3dNYXhpbWl6ZT1mdW5jdGlvbigpey8qKiBSZXNpemUgY3VycmVudGx5IHNlbGVjdGVkIHdpbmRvdyB0byB0YWtlIHVwIHRoZSBlbnRpcmUgc2NyZWVuXG4gICAqXG4gICAqL3ZhciB3aW5kb3c9dGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTtpZih3aW5kb3chPW51bGwmJndpbmRvdy5zY3JlZW4pe3dpbmRvdy5tb3ZlVG8oMCwwKTsvLyBJdCBhcHBlYXJzIEZpcmVmb3ggb24gTWFjIHdvbid0IG1vdmUgYSB3aW5kb3cgdG8gKDAsMCkuICBCdXQsIHlvdSBjYW4gbW92ZSBpdCB0byAoMCwxKSwgd2hpY2hcbi8vIHNlZW1zIHRvIGRvIGJhc2ljYWxseSB0aGUgc2FtZSB0aGluZy4gIEluIG15IChLSk0gLSA2LzIwLzEwKSB0ZXN0cywgYW55dGhpbmcgbGVzcyB0aGFuICgwLCAyMilcbi8vIHB1c2hlZCB0aGUgYnJvd3NlciB0byAoMCwwKSwgc28gaXQgc2VlbXMgaXQncyBpbXByb3Blcmx5IGFjY291bnRpbmcgZm9yIHNvbWV0aGluZyBpbiB0aGUgYnJvd3NlciBjaHJvbWUuXG5pZih3aW5kb3cuc2NyZWVuWCE9MCl7d2luZG93Lm1vdmVUbygwLDEpO313aW5kb3cucmVzaXplVG8oc2NyZWVuLmF2YWlsV2lkdGgsc2NyZWVuLmF2YWlsSGVpZ2h0KTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0SHRtbFNvdXJjZT1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBlbnRpcmUgSFRNTCBzb3VyY2UgYmV0d2VlbiB0aGUgb3BlbmluZyBhbmRcbiAgICogY2xvc2luZyBcImh0bWxcIiB0YWdzLlxuICAgKlxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgZW50aXJlIEhUTUwgc291cmNlXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmlubmVySFRNTDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NldEN1cnNvclBvc2l0aW9uPWZ1bmN0aW9uKGxvY2F0b3IscG9zaXRpb24pey8qKlxuICAgKiBNb3ZlcyB0aGUgdGV4dCBjdXJzb3IgdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiB0aGUgZ2l2ZW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYS5cbiAgICogVGhpcyBtZXRob2Qgd2lsbCBmYWlsIGlmIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpc24ndCBhbiBpbnB1dCBlbGVtZW50IG9yIHRleHRhcmVhLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byBhbiBpbnB1dCBlbGVtZW50IG9yIHRleHRhcmVhXG4gICAqIEBwYXJhbSBwb3NpdGlvbiB0aGUgbnVtZXJpY2FsIHBvc2l0aW9uIG9mIHRoZSBjdXJzb3IgaW4gdGhlIGZpZWxkOyBwb3NpdGlvbiBzaG91bGQgYmUgMCB0byBtb3ZlIHRoZSBwb3NpdGlvbiB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaWVsZC4gIFlvdSBjYW4gYWxzbyBzZXQgdGhlIGN1cnNvciB0byAtMSB0byBtb3ZlIGl0IHRvIHRoZSBlbmQgb2YgdGhlIGZpZWxkLlxuICAgKi92YXIgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZT09dW5kZWZpbmVkKXtBc3NlcnQuZmFpbCgnRWxlbWVudCAnK2xvY2F0b3IrJyBpcyBub3QgYW4gaW5wdXQuJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufWlmKHBvc2l0aW9uPT0tMSl7cG9zaXRpb249ZWxlbWVudC52YWx1ZS5sZW5ndGg7fWlmKGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UmJiFfc2VsZW5pdW1Ccm93c2VyYm90LmJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpe2VsZW1lbnQuZm9jdXMoKTtlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKC8qc3RhcnQqL3Bvc2l0aW9uLC8qZW5kKi9wb3NpdGlvbik7fWVsc2UgaWYoZWxlbWVudC5jcmVhdGVUZXh0UmFuZ2Upe19jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5maXJlKGVsZW1lbnQsX2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7dmFyIHJhbmdlPWVsZW1lbnQuY3JlYXRlVGV4dFJhbmdlKCk7cmFuZ2UuY29sbGFwc2UodHJ1ZSk7cmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJyxwb3NpdGlvbik7cmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLHBvc2l0aW9uKTtyYW5nZS5zZWxlY3QoKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudEluZGV4PWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBHZXQgdGhlIHJlbGF0aXZlIGluZGV4IG9mIGFuIGVsZW1lbnQgdG8gaXRzIHBhcmVudCAoc3RhcnRpbmcgZnJvbSAwKS4gVGhlIGNvbW1lbnQgbm9kZSBhbmQgZW1wdHkgdGV4dCBub2RlXG4gICAqIHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudFxuICAgKiBAcmV0dXJuIG51bWJlciBvZiByZWxhdGl2ZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byBpdHMgcGFyZW50IChzdGFydGluZyBmcm9tIDApXG4gICAqL3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt2YXIgcHJldmlvdXNTaWJsaW5nPXZvaWQgMDt2YXIgaW5kZXg9MDt3aGlsZSgocHJldmlvdXNTaWJsaW5nPWVsZW1lbnQucHJldmlvdXNTaWJsaW5nKSE9bnVsbCl7aWYoIXRoaXMuX2lzQ29tbWVudE9yRW1wdHlUZXh0Tm9kZShwcmV2aW91c1NpYmxpbmcpKXtpbmRleCsrO31lbGVtZW50PXByZXZpb3VzU2libGluZzt9cmV0dXJuIGluZGV4O307U2VsZW5pdW0ucHJvdG90eXBlLmlzT3JkZXJlZD1mdW5jdGlvbihsb2NhdG9yMSxsb2NhdG9yMil7LyoqXG4gICAqIENoZWNrIGlmIHRoZXNlIHR3byBlbGVtZW50cyBoYXZlIHNhbWUgcGFyZW50IGFuZCBhcmUgb3JkZXJlZCBzaWJsaW5ncyBpbiB0aGUgRE9NLiBUd28gc2FtZSBlbGVtZW50cyB3aWxsXG4gICAqIG5vdCBiZSBjb25zaWRlcmVkIG9yZGVyZWQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yMSBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byB0aGUgZmlyc3QgZWxlbWVudFxuICAgKiBAcGFyYW0gbG9jYXRvcjIgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gdGhlIHNlY29uZCBlbGVtZW50XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIGVsZW1lbnQxIGlzIHRoZSBwcmV2aW91cyBzaWJsaW5nIG9mIGVsZW1lbnQyLCBmYWxzZSBvdGhlcndpc2VcbiAgICovdmFyIGVsZW1lbnQxPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yMSk7dmFyIGVsZW1lbnQyPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yMik7aWYoZWxlbWVudDE9PT1lbGVtZW50MilyZXR1cm4gZmFsc2U7dmFyIHByZXZpb3VzU2libGluZz12b2lkIDA7d2hpbGUoKHByZXZpb3VzU2libGluZz1lbGVtZW50Mi5wcmV2aW91c1NpYmxpbmcpIT1udWxsKXtpZihwcmV2aW91c1NpYmxpbmc9PT1lbGVtZW50MSl7cmV0dXJuIHRydWU7fWVsZW1lbnQyPXByZXZpb3VzU2libGluZzt9cmV0dXJuIGZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLl9pc0NvbW1lbnRPckVtcHR5VGV4dE5vZGU9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTh8fG5vZGUubm9kZVR5cGU9PTMmJiEvW15cXHRcXG5cXHIgXS8udGVzdChub2RlLmRhdGEpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRQb3NpdGlvbkxlZnQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFJldHJpZXZlcyB0aGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnQgT1IgYW4gZWxlbWVudCBpdHNlbGZcbiAgICogQHJldHVybiBudW1iZXIgb2YgcGl4ZWxzIGZyb20gdGhlIGVkZ2Ugb2YgdGhlIGZyYW1lLlxuICAgKi92YXIgZWxlbWVudD12b2lkIDA7aWYoJ3N0cmluZyc9PXR5cGVvZiBsb2NhdG9yKXtlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt9ZWxzZXtlbGVtZW50PWxvY2F0b3I7fXZhciB4PWVsZW1lbnQub2Zmc2V0TGVmdDt2YXIgZWxlbWVudFBhcmVudD1lbGVtZW50Lm9mZnNldFBhcmVudDt3aGlsZShlbGVtZW50UGFyZW50IT1udWxsKXtpZihkb2N1bWVudC5hbGwpe2lmKGVsZW1lbnRQYXJlbnQudGFnTmFtZSE9J1RBQkxFJyYmZWxlbWVudFBhcmVudC50YWdOYW1lIT0nQk9EWScpe3grPWVsZW1lbnRQYXJlbnQuY2xpZW50TGVmdDt9fS8vIE5ldHNjYXBlL0RPTVxuZWxzZXtpZihlbGVtZW50UGFyZW50LnRhZ05hbWU9PSdUQUJMRScpe3ZhciBwYXJlbnRCb3JkZXI9cGFyc2VJbnQoZWxlbWVudFBhcmVudC5ib3JkZXIpO2lmKGlzTmFOKHBhcmVudEJvcmRlcikpe3ZhciBwYXJlbnRGcmFtZT1lbGVtZW50UGFyZW50LmdldEF0dHJpYnV0ZSgnZnJhbWUnKTtpZihwYXJlbnRGcmFtZSE9bnVsbCl7eCs9MTt9fWVsc2UgaWYocGFyZW50Qm9yZGVyPjApe3grPXBhcmVudEJvcmRlcjt9fX14Kz1lbGVtZW50UGFyZW50Lm9mZnNldExlZnQ7ZWxlbWVudFBhcmVudD1lbGVtZW50UGFyZW50Lm9mZnNldFBhcmVudDt9cmV0dXJuIHg7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudFBvc2l0aW9uVG9wPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudCBPUiBhbiBlbGVtZW50IGl0c2VsZlxuICAgKiBAcmV0dXJuIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgZWRnZSBvZiB0aGUgZnJhbWUuXG4gICAqL3ZhciBlbGVtZW50PXZvaWQgMDtpZignc3RyaW5nJz09dHlwZW9mIGxvY2F0b3Ipe2VsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO31lbHNle2VsZW1lbnQ9bG9jYXRvcjt9dmFyIHk9MDt3aGlsZShlbGVtZW50IT1udWxsKXtpZihkb2N1bWVudC5hbGwpe2lmKGVsZW1lbnQudGFnTmFtZSE9J1RBQkxFJyYmZWxlbWVudC50YWdOYW1lIT0nQk9EWScpe3krPWVsZW1lbnQuY2xpZW50VG9wO319Ly8gTmV0c2NhcGUvRE9NXG5lbHNle2lmKGVsZW1lbnQudGFnTmFtZT09J1RBQkxFJyl7dmFyIHBhcmVudEJvcmRlcj1wYXJzZUludChlbGVtZW50LmJvcmRlcik7aWYoaXNOYU4ocGFyZW50Qm9yZGVyKSl7dmFyIHBhcmVudEZyYW1lPWVsZW1lbnQuZ2V0QXR0cmlidXRlKCdmcmFtZScpO2lmKHBhcmVudEZyYW1lIT1udWxsKXt5Kz0xO319ZWxzZSBpZihwYXJlbnRCb3JkZXI+MCl7eSs9cGFyZW50Qm9yZGVyO319fXkrPWVsZW1lbnQub2Zmc2V0VG9wOy8vIE5ldHNjYXBlIGNhbiBnZXQgY29uZnVzZWQgaW4gc29tZSBjYXNlcywgc3VjaCB0aGF0IHRoZSBoZWlnaHQgb2YgdGhlIHBhcmVudCBpcyBzbWFsbGVyXG4vLyB0aGFuIHRoYXQgb2YgdGhlIGVsZW1lbnQgKHdoaWNoIGl0IHNob3VsZG4ndCByZWFsbHkgYmUpLiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB3ZSBuZWVkIHRvXG4vLyBleGNsdWRlIHRoaXMgZWxlbWVudCwgc2luY2UgaXQgd2lsbCByZXN1bHQgaW4gdG9vIGxhcmdlIGEgJ3RvcCcgcmV0dXJuIHZhbHVlLlxuaWYoZWxlbWVudC5vZmZzZXRQYXJlbnQmJmVsZW1lbnQub2Zmc2V0UGFyZW50Lm9mZnNldEhlaWdodCYmZWxlbWVudC5vZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0PGVsZW1lbnQub2Zmc2V0SGVpZ2h0KXsvLyBza2lwIHRoZSBwYXJlbnQgdGhhdCdzIHRvbyBzbWFsbFxuZWxlbWVudD1lbGVtZW50Lm9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7fWVsc2V7Ly8gTmV4dCB1cC4uLlxuZWxlbWVudD1lbGVtZW50Lm9mZnNldFBhcmVudDt9fXJldHVybiB5O307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRXaWR0aD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSB3aWR0aCBvZiBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnRcbiAgICogQHJldHVybiBudW1iZXIgd2lkdGggb2YgYW4gZWxlbWVudCBpbiBwaXhlbHNcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRIZWlnaHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFJldHJpZXZlcyB0aGUgaGVpZ2h0IG9mIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudFxuICAgKiBAcmV0dXJuIG51bWJlciBoZWlnaHQgb2YgYW4gZWxlbWVudCBpbiBwaXhlbHNcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDdXJzb3JQb3NpdGlvbj1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSB0ZXh0IGN1cnNvciBwb3NpdGlvbiBpbiB0aGUgZ2l2ZW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYTsgYmV3YXJlLCB0aGlzIG1heSBub3Qgd29yayBwZXJmZWN0bHkgb24gYWxsIGJyb3dzZXJzLlxuICAgKlxuICAgKiA8cD5TcGVjaWZpY2FsbHksIGlmIHRoZSBjdXJzb3Ivc2VsZWN0aW9uIGhhcyBiZWVuIGNsZWFyZWQgYnkgSmF2YVNjcmlwdCwgdGhpcyBjb21tYW5kIHdpbGwgdGVuZCB0b1xuICAgKiByZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGxvY2F0aW9uIG9mIHRoZSBjdXJzb3IsIGV2ZW4gdGhvdWdoIHRoZSBjdXJzb3IgaXMgbm93IGdvbmUgZnJvbSB0aGUgcGFnZS4gIFRoaXMgaXMgZmlsZWQgYXMgPGEgaHJlZj1cImh0dHA6Ly9qaXJhLm9wZW5xYS5vcmcvYnJvd3NlL1NFTC0yNDNcIj5TRUwtMjQzPC9hPi48L3A+XG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYSwgb3IgdGhlcmUgaXMgbm8gY3Vyc29yIGluIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byBhbiBpbnB1dCBlbGVtZW50IG9yIHRleHRhcmVhXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1lcmljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnNvciBpbiB0aGUgZmllbGRcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBkb2M9dGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCk7dmFyIHdpbj10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO3ZhciBlbGVtZW50UmFuZ2U9dm9pZCAwO2lmKGRvYy5zZWxlY3Rpb24mJiFfc2VsZW5pdW1Ccm93c2VyYm90LmJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpe3RyeXt2YXIgc2VsZWN0UmFuZ2U9ZG9jLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmR1cGxpY2F0ZSgpO2VsZW1lbnRSYW5nZT1lbGVtZW50LmNyZWF0ZVRleHRSYW5nZSgpO3NlbGVjdFJhbmdlLm1vdmUoJ2NoYXJhY3RlcicsMCk7ZWxlbWVudFJhbmdlLm1vdmUoJ2NoYXJhY3RlcicsMCk7ZWxlbWVudFJhbmdlLnNldEVuZFBvaW50KCdFbmRUb0VuZCcsc2VsZWN0UmFuZ2UpO31jYXRjaChlKXtBc3NlcnQuZmFpbCgnVGhlcmUgaXMgbm8gY3Vyc29yIG9uIHRoaXMgcGFnZSEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59dmFyIGFuc3dlcj1TdHJpbmcoZWxlbWVudFJhbmdlLnRleHQpLnJlcGxhY2UoL1xcci9nLCcnKS5sZW5ndGg7cmV0dXJuIGFuc3dlcjt9ZWxzZXtpZih0eXBlb2YgZWxlbWVudC5zZWxlY3Rpb25TdGFydCE9J3VuZGVmaW5lZCcpe2lmKHdpbi5nZXRTZWxlY3Rpb24mJl90eXBlb2Yod2luLmdldFNlbGVjdGlvbigpLnJhbmdlQ291bnQpIT11bmRlZmluZWQmJndpbi5nZXRTZWxlY3Rpb24oKS5yYW5nZUNvdW50PT0wKXtBc3NlcnQuZmFpbCgnVGhlcmUgaXMgbm8gY3Vyc29yIG9uIHRoaXMgcGFnZSEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIGVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7fX10aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBkZXRlY3QgY3Vyc29yIHBvc2l0aW9uIG9uIHRoaXMgYnJvd3NlciFcIik7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RXhwcmVzc2lvbj1mdW5jdGlvbihleHByZXNzaW9uKXsvKipcbiAgICogUmV0dXJucyB0aGUgc3BlY2lmaWVkIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIDxwPlRoaXMgaXMgdXNlZnVsIGJlY2F1c2Ugb2YgSmF2YVNjcmlwdCBwcmVwcm9jZXNzaW5nLlxuICAgKiBJdCBpcyB1c2VkIHRvIGdlbmVyYXRlIGNvbW1hbmRzIGxpa2UgYXNzZXJ0RXhwcmVzc2lvbiBhbmQgd2FpdEZvckV4cHJlc3Npb24uPC9wPlxuICAgKlxuICAgKiBAcGFyYW0gZXhwcmVzc2lvbiB0aGUgdmFsdWUgdG8gcmV0dXJuXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSB2YWx1ZSBwYXNzZWQgaW5cbiAgICovcmV0dXJuIGV4cHJlc3Npb247fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0WHBhdGhDb3VudD1mdW5jdGlvbih4cGF0aCl7LyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBub2RlcyB0aGF0IG1hdGNoIHRoZSBzcGVjaWZpZWQgeHBhdGgsIGVnLiBcIi8vdGFibGVcIiB3b3VsZCBnaXZlXG4gICAqIHRoZSBudW1iZXIgb2YgdGFibGVzLlxuICAgKlxuICAgKiBAcGFyYW0geHBhdGggdGhlIHhwYXRoIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUuIGRvIE5PVCB3cmFwIHRoaXMgZXhwcmVzc2lvbiBpbiBhICdjb3VudCgpJyBmdW5jdGlvbjsgd2Ugd2lsbCBkbyB0aGF0IGZvciB5b3UuXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1iZXIgb2Ygbm9kZXMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIHhwYXRoXG4gICAqL3ZhciByZXN1bHQ9dGhpcy5icm93c2VyYm90LmV2YWx1YXRlWFBhdGhDb3VudCh4cGF0aCx0aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKSk7cmV0dXJuIHJlc3VsdDt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDc3NDb3VudD1mdW5jdGlvbihjc3Mpey8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygbm9kZXMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIGNzcyBzZWxlY3RvciwgZWcuIFwiY3NzPXRhYmxlXCIgd291bGQgZ2l2ZVxuICAgKiB0aGUgbnVtYmVyIG9mIHRhYmxlcy5cbiAgICpcbiAgICogQHBhcmFtIGNzcyB0aGUgY3NzIHNlbGVjdG9yIHRvIGV2YWx1YXRlLiBkbyBOT1Qgd3JhcCB0aGlzIGV4cHJlc3Npb24gaW4gYSAnY291bnQoKScgZnVuY3Rpb247IHdlIHdpbGwgZG8gdGhhdCBmb3IgeW91LlxuICAgKiBAcmV0dXJuIHRoZSBudW1iZXIgb2Ygbm9kZXMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIHNlbGVjdG9yXG4gICAqL3ZhciByZXN1bHQ9dGhpcy5icm93c2VyYm90LmV2YWx1YXRlQ3NzQ291bnQoY3NzLHRoaXMuYnJvd3NlcmJvdC5nZXREb2N1bWVudCgpKTtyZXR1cm4gcmVzdWx0O307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzaWduSWQ9ZnVuY3Rpb24obG9jYXRvcixpZGVudGlmaWVyKXsvKipcbiAgICogVGVtcG9yYXJpbHkgc2V0cyB0aGUgXCJpZFwiIGF0dHJpYnV0ZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQsIHNvIHlvdSBjYW4gbG9jYXRlIGl0IGluIHRoZSBmdXR1cmVcbiAgICogdXNpbmcgaXRzIElEIHJhdGhlciB0aGFuIGEgc2xvdy9jb21wbGljYXRlZCBYUGF0aC4gIFRoaXMgSUQgd2lsbCBkaXNhcHBlYXIgb25jZSB0aGUgcGFnZSBpc1xuICAgKiByZWxvYWRlZC5cbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudFxuICAgKiBAcGFyYW0gaWRlbnRpZmllciBhIHN0cmluZyB0byBiZSB1c2VkIGFzIHRoZSBJRCBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnRcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2VsZW1lbnQuaWQ9aWRlbnRpZmllcjt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0FsbG93TmF0aXZlWHBhdGg9ZnVuY3Rpb24oYWxsb3cpey8qKlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBTZWxlbml1bSBzaG91bGQgdXNlIHRoZSBuYXRpdmUgaW4tYnJvd3NlciBpbXBsZW1lbnRhdGlvblxuICAgKiBvZiBYUGF0aCAoaWYgYW55IG5hdGl2ZSB2ZXJzaW9uIGlzIGF2YWlsYWJsZSk7IGlmIHlvdSBwYXNzIFwiZmFsc2VcIiB0b1xuICAgKiB0aGlzIGZ1bmN0aW9uLCB3ZSB3aWxsIGFsd2F5cyB1c2Ugb3VyIHB1cmUtSmF2YVNjcmlwdCB4cGF0aCBsaWJyYXJ5LlxuICAgKiBVc2luZyB0aGUgcHVyZS1KUyB4cGF0aCBsaWJyYXJ5IGNhbiBpbXByb3ZlIHRoZSBjb25zaXN0ZW5jeSBvZiB4cGF0aFxuICAgKiBlbGVtZW50IGxvY2F0b3JzIGJldHdlZW4gZGlmZmVyZW50IGJyb3dzZXIgdmVuZG9ycywgYnV0IHRoZSBwdXJlLUpTXG4gICAqIHZlcnNpb24gaXMgbXVjaCBzbG93ZXIgdGhhbiB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9ucy5cbiAgICogQHBhcmFtIGFsbG93IGJvb2xlYW4sIHRydWUgbWVhbnMgd2UnbGwgcHJlZmVyIHRvIHVzZSBuYXRpdmUgWFBhdGg7IGZhbHNlIG1lYW5zIHdlJ2xsIG9ubHkgdXNlIEpTIFhQYXRoXG4gICAqL2lmKCdmYWxzZSc9PWFsbG93fHwnMCc9PWFsbG93KXsvLyBUaGUgc3RyaW5ncyBcImZhbHNlXCIgYW5kIFwiMFwiIGFyZSB0cnVlIHZhbHVlcyBpbiBKU1xuYWxsb3c9ZmFsc2U7fXRoaXMuYnJvd3NlcmJvdC5zZXRBbGxvd05hdGl2ZVhQYXRoKGFsbG93KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0lnbm9yZUF0dHJpYnV0ZXNXaXRob3V0VmFsdWU9ZnVuY3Rpb24oaWdub3JlKXsvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgU2VsZW5pdW0gd2lsbCBpZ25vcmUgeHBhdGggYXR0cmlidXRlcyB0aGF0IGhhdmUgbm9cbiAgICogdmFsdWUsIGkuZS4gYXJlIHRoZSBlbXB0eSBzdHJpbmcsIHdoZW4gdXNpbmcgdGhlIG5vbi1uYXRpdmUgeHBhdGhcbiAgICogZXZhbHVhdGlvbiBlbmdpbmUuIFlvdSdkIHdhbnQgdG8gZG8gdGhpcyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBpbiBJRS5cbiAgICogSG93ZXZlciwgdGhpcyBjb3VsZCBicmVhayBjZXJ0YWluIHhwYXRocywgZm9yIGV4YW1wbGUgYW4geHBhdGggdGhhdCBsb29rc1xuICAgKiBmb3IgYW4gYXR0cmlidXRlIHdob3NlIHZhbHVlIGlzIE5PVCB0aGUgZW1wdHkgc3RyaW5nLlxuICAgKlxuICAgKiBUaGUgaG9wZSBpcyB0aGF0IHN1Y2ggeHBhdGhzIGFyZSByZWxhdGl2ZWx5IHJhcmUsIGJ1dCB0aGUgdXNlciBzaG91bGRcbiAgICogaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIHRoZW0uIE5vdGUgdGhhdCB0aGlzIG9ubHkgaW5mbHVlbmNlcyB4cGF0aFxuICAgKiBldmFsdWF0aW9uIHdoZW4gdXNpbmcgdGhlIGFqYXhzbHQgZW5naW5lIChpLmUuIG5vdCBcImphdmFzY3JpcHQteHBhdGhcIikuXG4gICAqXG4gICAqIEBwYXJhbSBpZ25vcmUgYm9vbGVhbiwgdHJ1ZSBtZWFucyB3ZSdsbCBpZ25vcmUgYXR0cmlidXRlcyB3aXRob3V0IHZhbHVlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgYXQgdGhlIGV4cGVuc2Ugb2YgeHBhdGggXCJjb3JyZWN0bmVzc1wiOyBmYWxzZSBtZWFuc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHdlJ2xsIHNhY3JpZmljZSBzcGVlZCBmb3IgY29ycmVjdG5lc3MuXG4gICAqL2lmKCdmYWxzZSc9PWlnbm9yZXx8JzAnPT1pZ25vcmUpe2lnbm9yZT1mYWxzZTt9dGhpcy5icm93c2VyYm90LnNldElnbm9yZUF0dHJpYnV0ZXNXaXRob3V0VmFsdWUoaWdub3JlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JDb25kaXRpb249ZnVuY3Rpb24oc2NyaXB0LHRpbWVvdXQpey8qKlxuICAgKiBSdW5zIHRoZSBzcGVjaWZpZWQgSmF2YVNjcmlwdCBzbmlwcGV0IHJlcGVhdGVkbHkgdW50aWwgaXQgZXZhbHVhdGVzIHRvIFwidHJ1ZVwiLlxuICAgKiBUaGUgc25pcHBldCBtYXkgaGF2ZSBtdWx0aXBsZSBsaW5lcywgYnV0IG9ubHkgdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBsaW5lXG4gICAqIHdpbGwgYmUgY29uc2lkZXJlZC5cbiAgICpcbiAgICogPHA+Tm90ZSB0aGF0LCBieSBkZWZhdWx0LCB0aGUgc25pcHBldCB3aWxsIGJlIHJ1biBpbiB0aGUgcnVubmVyJ3MgdGVzdCB3aW5kb3csIG5vdCBpbiB0aGUgd2luZG93XG4gICAqIG9mIHlvdXIgYXBwbGljYXRpb24uICBUbyBnZXQgdGhlIHdpbmRvdyBvZiB5b3VyIGFwcGxpY2F0aW9uLCB5b3UgY2FuIHVzZVxuICAgKiB0aGUgSmF2YVNjcmlwdCBzbmlwcGV0IDxjb2RlPnNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpPC9jb2RlPiwgYW5kIHRoZW5cbiAgICogcnVuIHlvdXIgSmF2YVNjcmlwdCBpbiB0aGVyZTwvcD5cbiAgICogQHBhcmFtIHNjcmlwdCB0aGUgSmF2YVNjcmlwdCBzbmlwcGV0IHRvIHJ1blxuICAgKiBAcGFyYW0gdGltZW91dCBhIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBhZnRlciB3aGljaCB0aGlzIGNvbW1hbmQgd2lsbCByZXR1cm4gd2l0aCBhbiBlcnJvclxuICAgKi9yZXR1cm4gU2VsZW5pdW0uZGVjb3JhdGVGdW5jdGlvbldpdGhUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZhbChzY3JpcHQpO30sdGltZW91dCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yQ29uZGl0aW9uLmRvbnRDaGVja0FsZXJ0c0FuZENvbmZpcm1zPXRydWU7U2VsZW5pdW0ucHJvdG90eXBlLmRvU2V0VGltZW91dD1mdW5jdGlvbih0aW1lb3V0KXsvKipcbiAgICogU3BlY2lmaWVzIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IFNlbGVuaXVtIHdpbGwgd2FpdCBmb3IgYWN0aW9ucyB0byBjb21wbGV0ZS5cbiAgICpcbiAgICogPHA+QWN0aW9ucyB0aGF0IHJlcXVpcmUgd2FpdGluZyBpbmNsdWRlIFwib3BlblwiIGFuZCB0aGUgXCJ3YWl0Rm9yKlwiIGFjdGlvbnMuPC9wPlxuICAgKiBUaGUgZGVmYXVsdCB0aW1lb3V0IGlzIDMwIHNlY29uZHMuXG4gICAqIEBwYXJhbSB0aW1lb3V0IGEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIGFmdGVyIHdoaWNoIHRoZSBhY3Rpb24gd2lsbCByZXR1cm4gd2l0aCBhbiBlcnJvclxuICAgKi9pZighdGltZW91dCl7dGltZW91dD1TZWxlbml1bS5ERUZBVUxUX1RJTUVPVVQ7fXRoaXMuZGVmYXVsdFRpbWVvdXQ9dGltZW91dDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JQYWdlVG9Mb2FkPWZ1bmN0aW9uKHRpbWVvdXQpey8qKlxuICAgKiBXYWl0cyBmb3IgYSBuZXcgcGFnZSB0byBsb2FkLlxuICAgKlxuICAgKiA8cD5Zb3UgY2FuIHVzZSB0aGlzIGNvbW1hbmQgaW5zdGVhZCBvZiB0aGUgXCJBbmRXYWl0XCIgc3VmZml4ZXMsIFwiY2xpY2tBbmRXYWl0XCIsIFwic2VsZWN0QW5kV2FpdFwiLCBcInR5cGVBbmRXYWl0XCIgZXRjLlxuICAgKiAod2hpY2ggYXJlIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBKUyBBUEkpLjwvcD5cbiAgICpcbiAgICogPHA+U2VsZW5pdW0gY29uc3RhbnRseSBrZWVwcyB0cmFjayBvZiBuZXcgcGFnZXMgbG9hZGluZywgYW5kIHNldHMgYSBcIm5ld1BhZ2VMb2FkZWRcIlxuICAgKiBmbGFnIHdoZW4gaXQgZmlyc3Qgbm90aWNlcyBhIHBhZ2UgbG9hZC4gIFJ1bm5pbmcgYW55IG90aGVyIFNlbGVuaXVtIGNvbW1hbmQgYWZ0ZXJcbiAgICogdHVybnMgdGhlIGZsYWcgdG8gZmFsc2UuICBIZW5jZSwgaWYgeW91IHdhbnQgdG8gd2FpdCBmb3IgYSBwYWdlIHRvIGxvYWQsIHlvdSBtdXN0XG4gICAqIHdhaXQgaW1tZWRpYXRlbHkgYWZ0ZXIgYSBTZWxlbml1bSBjb21tYW5kIHRoYXQgY2F1c2VkIGEgcGFnZS1sb2FkLjwvcD5cbiAgICogQHBhcmFtIHRpbWVvdXQgYSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgYWZ0ZXIgd2hpY2ggdGhpcyBjb21tYW5kIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3JcbiAgICovLy8gaW4gcGktbW9kZSwgdGhlIHRlc3QgYW5kIHRoZSBoYXJuZXNzIHNoYXJlIHRoZSB3aW5kb3c7IHRodXMgaWYgd2UgYXJlIGV4ZWN1dGluZyB0aGlzIGNvZGUsIHRoZW4gd2UgaGF2ZSBsb2FkZWRcbmlmKHdpbmRvd1sncHJveHlJbmplY3Rpb25Nb2RlJ109PW51bGx8fCF3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddKXtyZXR1cm4gdGhpcy5tYWtlUGFnZUxvYWRDb25kaXRpb24odGltZW91dCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckZyYW1lVG9Mb2FkPWZ1bmN0aW9uKF9mcmFtZUFkZHJlc3MsdGltZW91dCl7LyoqXG4gICAqIFdhaXRzIGZvciBhIG5ldyBmcmFtZSB0byBsb2FkLlxuICAgKlxuICAgKiA8cD5TZWxlbml1bSBjb25zdGFudGx5IGtlZXBzIHRyYWNrIG9mIG5ldyBwYWdlcyBhbmQgZnJhbWVzIGxvYWRpbmcsXG4gICAqIGFuZCBzZXRzIGEgXCJuZXdQYWdlTG9hZGVkXCIgZmxhZyB3aGVuIGl0IGZpcnN0IG5vdGljZXMgYSBwYWdlIGxvYWQuPC9wPlxuICAgKlxuICAgKiBTZWUgd2FpdEZvclBhZ2VUb0xvYWQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBmcmFtZUFkZHJlc3MgRnJhbWVBZGRyZXNzIGZyb20gdGhlIHNlcnZlciBzaWRlXG4gICAqIEBwYXJhbSB0aW1lb3V0IGEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIGFmdGVyIHdoaWNoIHRoaXMgY29tbWFuZCB3aWxsIHJldHVybiB3aXRoIGFuIGVycm9yXG4gICAqLy8vIGluIHBpLW1vZGUsIHRoZSB0ZXN0IGFuZCB0aGUgaGFybmVzcyBzaGFyZSB0aGUgd2luZG93OyB0aHVzIGlmIHdlIGFyZSBleGVjdXRpbmcgdGhpcyBjb2RlLCB0aGVuIHdlIGhhdmUgbG9hZGVkXG5pZih3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddPT1udWxsfHwhd2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXSl7cmV0dXJuIHRoaXMubWFrZVBhZ2VMb2FkQ29uZGl0aW9uKHRpbWVvdXQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5faXNOZXdQYWdlTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5pc05ld1BhZ2VMb2FkZWQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5fYWJvcnRYaHJSZXF1ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5hYm9ydFhoclJlcXVlc3QoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JQYWdlVG9Mb2FkLmRvbnRDaGVja0FsZXJ0c0FuZENvbmZpcm1zPXRydWU7LyoqXG4gKiBFdmFsdWF0ZSBhIHBhcmFtZXRlciwgcGVyZm9ybWluZyBKYXZhU2NyaXB0IGV2YWx1YXRpb24gYW5kIHZhcmlhYmxlIHN1YnN0aXR1dGlvbi5cbiAqIElmIHRoZSBzdHJpbmcgbWF0Y2hlcyB0aGUgcGF0dGVybiBcImphdmFzY3JpcHR7IC4uLiB9XCIsIGV2YWx1YXRlIHRoZSBzdHJpbmcgYmV0d2VlbiB0aGUgYnJhY2VzLlxuICovU2VsZW5pdW0ucHJvdG90eXBlLnByZXByb2Nlc3NQYXJhbWV0ZXI9ZnVuY3Rpb24odmFsdWUpe2lmKCF2YWx1ZS5zY3JpcHQpey8vIG9ubHkgZm9yIG5vbi1zY3JpcHRzXG52YXIgbWF0Y2g9dmFsdWUubWF0Y2goL15qYXZhc2NyaXB0XFx7KCgufFxccj9cXG4pKylcXH0kLyk7aWYobWF0Y2gmJm1hdGNoWzFdKXtfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7bG9nOnt0eXBlOid3YXJuJyxtZXNzYWdlOidwYXJhbWV0ZXIgcHJlcHJvY2Vzc2luZyB1c2luZyBqYXZhc2NyaXB0e30gdGFnIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgZXhlY3V0ZSBzY3JpcHQnfX0pO3ZhciByZXN1bHQ9dGhpcy5ldmFsKG1hdGNoWzFdKTtyZXR1cm4gcmVzdWx0PT1udWxsP251bGw6cmVzdWx0LnRvU3RyaW5nKCk7fX1yZXR1cm4gdmFsdWU7fTtTZWxlbml1bS5wcm90b3R5cGUucmVwbGFjZUtleXM9ZnVuY3Rpb24oc3RyKXt2YXIga2V5cz1bXTt2YXIgbWF0Y2g9c3RyLm1hdGNoKC9cXCRcXHtcXHcrXFx9L2cpO2lmKCFtYXRjaCl7a2V5cy5wdXNoKHN0cik7fWVsc2V7dmFyIGk9MDt3aGlsZShpPHN0ci5sZW5ndGgpe3ZhciBjdXJyZW50S2V5PW1hdGNoLnNoaWZ0KCksY3VycmVudEtleUluZGV4PXN0ci5pbmRleE9mKGN1cnJlbnRLZXksaSk7aWYoY3VycmVudEtleUluZGV4Pmkpey8vIHB1c2ggdGhlIHN0cmluZyBiZWZvcmUgdGhlIGN1cnJlbnQga2V5XG5rZXlzLnB1c2goc3RyLnN1YnN0cihpLGN1cnJlbnRLZXlJbmRleC1pKSk7aT1jdXJyZW50S2V5SW5kZXg7fWlmKGN1cnJlbnRLZXkpe2lmKC9eXFwkXFx7S0VZX1xcdytcXH0vLnRlc3QoY3VycmVudEtleSkpey8vIGlzIGEga2V5XG52YXIga2V5TmFtZT1jdXJyZW50S2V5Lm1hdGNoKC9cXCRcXHtLRVlfKFxcdyspXFx9LylbMV07dmFyIGtleT1fY2xvc3VyZVBvbHlmaWxsLmJvdC5LZXlib2FyZC5LZXlzW2tleU5hbWVdO2lmKGtleSl7a2V5cy5wdXNoKGtleSk7fWVsc2V7dGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbmlzZWQga2V5ICcra2V5TmFtZSk7fX1lbHNley8vIG5vdCBhIGtleSwgYW5kIG5vdCBhIHN0b3JlZCB2YXJpYWJsZSwgcHVzaCBpdCBhcy1pc1xua2V5cy5wdXNoKGN1cnJlbnRLZXkpO31pKz1jdXJyZW50S2V5Lmxlbmd0aDt9ZWxzZSBpZihpPHN0ci5sZW5ndGgpey8vIHB1c2ggdGhlIHJlc3Qgb2YgdGhlIHN0cmluZ1xua2V5cy5wdXNoKHN0ci5zdWJzdHIoaSxzdHIubGVuZ3RoKSk7aT1zdHIubGVuZ3RoO319fXJldHVybiBrZXlzO307U2VsZW5pdW0ucHJvdG90eXBlLmdldENvb2tpZT1mdW5jdGlvbigpey8qKlxuICAgKiBSZXR1cm4gYWxsIGNvb2tpZXMgb2YgdGhlIGN1cnJlbnQgcGFnZSB1bmRlciB0ZXN0LlxuICAgKlxuICAgKiBAcmV0dXJuIHN0cmluZyBhbGwgY29va2llcyBvZiB0aGUgY3VycmVudCBwYWdlIHVuZGVyIHRlc3RcbiAgICovdmFyIGRvYz10aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKTtyZXR1cm4gZG9jLmNvb2tpZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDb29raWVCeU5hbWU9ZnVuY3Rpb24obmFtZSl7LyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBjb29raWUgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUsIG9yIHRocm93cyBhbiBlcnJvciBpZiB0aGUgY29va2llIGlzIG5vdCBwcmVzZW50LlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY29va2llXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSB2YWx1ZSBvZiB0aGUgY29va2llXG4gICAqL3ZhciB2PXRoaXMuYnJvd3NlcmJvdC5nZXRDb29raWVCeU5hbWUobmFtZSk7aWYodj09PW51bGwpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdChcIkNvb2tpZSAnXCIrbmFtZStcIicgd2FzIG5vdCBmb3VuZFwiKTt9cmV0dXJuIHY7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNDb29raWVQcmVzZW50PWZ1bmN0aW9uKG5hbWUpey8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYSBjb29raWUgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgaXMgcHJlc2VudCwgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY29va2llXG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIGEgY29va2llIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGlzIHByZXNlbnQsIG9yIGZhbHNlIG90aGVyd2lzZS5cbiAgICovdmFyIHY9dGhpcy5icm93c2VyYm90LmdldENvb2tpZUJ5TmFtZShuYW1lKTt2YXIgYWJzZW50PXY9PT1udWxsO3JldHVybiFhYnNlbnQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DcmVhdGVDb29raWU9ZnVuY3Rpb24obmFtZVZhbHVlUGFpcixvcHRpb25zU3RyaW5nKXsvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvb2tpZSB3aG9zZSBwYXRoIGFuZCBkb21haW4gYXJlIHNhbWUgd2l0aCB0aG9zZSBvZiBjdXJyZW50IHBhZ2VcbiAgICogdW5kZXIgdGVzdCwgdW5sZXNzIHlvdSBzcGVjaWZpZWQgYSBwYXRoIGZvciB0aGlzIGNvb2tpZSBleHBsaWNpdGx5LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZVZhbHVlUGFpciBuYW1lIGFuZCB2YWx1ZSBvZiB0aGUgY29va2llIGluIGEgZm9ybWF0IFwibmFtZT12YWx1ZVwiXG4gICAqIEBwYXJhbSBvcHRpb25zU3RyaW5nIG9wdGlvbnMgZm9yIHRoZSBjb29raWUuIEN1cnJlbnRseSBzdXBwb3J0ZWQgb3B0aW9ucyBpbmNsdWRlICdwYXRoJywgJ21heF9hZ2UnIGFuZCAnZG9tYWluJy5cbiAgICogICAgICB0aGUgb3B0aW9uc1N0cmluZydzIGZvcm1hdCBpcyBcInBhdGg9L3BhdGgvLCBtYXhfYWdlPTYwLCBkb21haW49LmZvby5jb21cIi4gVGhlIG9yZGVyIG9mIG9wdGlvbnMgYXJlIGlycmVsZXZhbnQsIHRoZSB1bml0XG4gICAqICAgICAgb2YgdGhlIHZhbHVlIG9mICdtYXhfYWdlJyBpcyBzZWNvbmQuICBOb3RlIHRoYXQgc3BlY2lmeWluZyBhIGRvbWFpbiB0aGF0IGlzbid0IGEgc3Vic2V0IG9mIHRoZSBjdXJyZW50IGRvbWFpbiB3aWxsXG4gICAqICAgICAgdXN1YWxseSBmYWlsLlxuICAgKi8vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbnZhciByZXN1bHRzPS9bXlxccz1cXFtcXF1cXChcXCksXCJcXC9cXD9AOjtdKz1bXlxccz1cXFtcXF1cXChcXCksXCJcXC9cXD9AOjtdKi8udGVzdChuYW1lVmFsdWVQYWlyKTtpZighcmVzdWx0cyl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdJbnZhbGlkIHBhcmFtZXRlci4nKTt9dmFyIGNvb2tpZT1uYW1lVmFsdWVQYWlyLnRyaW0oKTtyZXN1bHRzPS9tYXhfYWdlPShcXGQrKS8uZXhlYyhvcHRpb25zU3RyaW5nKTtpZihyZXN1bHRzKXt2YXIgZXhwaXJlRGF0ZUluTWlsbGlzZWNvbmRzPW5ldyBEYXRlKCkuZ2V0VGltZSgpK3Jlc3VsdHNbMV0qMTAwMDtjb29raWUrPSc7IGV4cGlyZXM9JytuZXcgRGF0ZShleHBpcmVEYXRlSW5NaWxsaXNlY29uZHMpLnRvR01UU3RyaW5nKCk7fXJlc3VsdHM9L3BhdGg9KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7dmFyIHBhdGg9cmVzdWx0c1sxXTtpZihfc2VsZW5pdW1Ccm93c2VyYm90LmJyb3dzZXJWZXJzaW9uLmtodG1sKXsvLyBTYWZhcmkgYW5kIGNvbnF1ZXJlciBkb24ndCBsaWtlIHBhdGhzIHdpdGggLyBhdCB0aGUgZW5kXG5pZignLychPXBhdGgpe3BhdGg9cGF0aC5yZXBsYWNlKC9cXC8kLywnJyk7fX1jb29raWUrPSc7IHBhdGg9JytwYXRoO31yZXN1bHRzPS9kb21haW49KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7dmFyIGRvbWFpbj1yZXN1bHRzWzFdO2Nvb2tpZSs9JzsgZG9tYWluPScrZG9tYWluO30vL0xPRy5kZWJ1ZyhcIlNldHRpbmcgY29va2llIHRvOiBcIiArIGNvb2tpZSk7XG50aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKS5jb29raWU9Y29va2llO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRGVsZXRlQ29va2llPWZ1bmN0aW9uKG5hbWUsb3B0aW9uc1N0cmluZyl7LyoqXG4gICAqIERlbGV0ZSBhIG5hbWVkIGNvb2tpZSB3aXRoIHNwZWNpZmllZCBwYXRoIGFuZCBkb21haW4uICBCZSBjYXJlZnVsOyB0byBkZWxldGUgYSBjb29raWUsIHlvdVxuICAgKiBuZWVkIHRvIGRlbGV0ZSBpdCB1c2luZyB0aGUgZXhhY3Qgc2FtZSBwYXRoIGFuZCBkb21haW4gdGhhdCB3ZXJlIHVzZWQgdG8gY3JlYXRlIHRoZSBjb29raWUuXG4gICAqIElmIHRoZSBwYXRoIGlzIHdyb25nLCBvciB0aGUgZG9tYWluIGlzIHdyb25nLCB0aGUgY29va2llIHNpbXBseSB3b24ndCBiZSBkZWxldGVkLiAgQWxzb1xuICAgKiBub3RlIHRoYXQgc3BlY2lmeWluZyBhIGRvbWFpbiB0aGF0IGlzbid0IGEgc3Vic2V0IG9mIHRoZSBjdXJyZW50IGRvbWFpbiB3aWxsIHVzdWFsbHkgZmFpbC5cbiAgICpcbiAgICogU2luY2UgdGhlcmUncyBubyB3YXkgdG8gZGlzY292ZXIgYXQgcnVudGltZSB0aGUgb3JpZ2luYWwgcGF0aCBhbmQgZG9tYWluIG9mIGEgZ2l2ZW4gY29va2llLFxuICAgKiB3ZSd2ZSBhZGRlZCBhbiBvcHRpb24gY2FsbGVkICdyZWN1cnNlJyB0byB0cnkgYWxsIHN1Yi1kb21haW5zIG9mIHRoZSBjdXJyZW50IGRvbWFpbiB3aXRoXG4gICAqIGFsbCBwYXRocyB0aGF0IGFyZSBhIHN1YnNldCBvZiB0aGUgY3VycmVudCBwYXRoLiAgQmV3YXJlOyB0aGlzIG9wdGlvbiBjYW4gYmUgc2xvdy4gIEluXG4gICAqIGJpZy1PIG5vdGF0aW9uLCBpdCBvcGVyYXRlcyBpbiBPKG4qbSkgdGltZSwgd2hlcmUgbiBpcyB0aGUgbnVtYmVyIG9mIGRvdHMgaW4gdGhlIGRvbWFpblxuICAgKiBuYW1lIGFuZCBtIGlzIHRoZSBudW1iZXIgb2Ygc2xhc2hlcyBpbiB0aGUgcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGNvb2tpZSB0byBiZSBkZWxldGVkXG4gICAqIEBwYXJhbSBvcHRpb25zU3RyaW5nIG9wdGlvbnMgZm9yIHRoZSBjb29raWUuIEN1cnJlbnRseSBzdXBwb3J0ZWQgb3B0aW9ucyBpbmNsdWRlICdwYXRoJywgJ2RvbWFpbidcbiAgICogICAgICBhbmQgJ3JlY3Vyc2UuJyBUaGUgb3B0aW9uc1N0cmluZydzIGZvcm1hdCBpcyBcInBhdGg9L3BhdGgvLCBkb21haW49LmZvby5jb20sIHJlY3Vyc2U9dHJ1ZVwiLlxuICAgKiAgICAgIFRoZSBvcmRlciBvZiBvcHRpb25zIGFyZSBpcnJlbGV2YW50LiBOb3RlIHRoYXQgc3BlY2lmeWluZyBhIGRvbWFpbiB0aGF0IGlzbid0IGEgc3Vic2V0IG9mXG4gICAqICAgICAgdGhlIGN1cnJlbnQgZG9tYWluIHdpbGwgdXN1YWxseSBmYWlsLlxuICAgKi8vLyBzZXQgdGhlIGV4cGlyZSB0aW1lIG9mIHRoZSBjb29raWUgdG8gYmUgZGVsZXRlZCB0byBvbmUgbWludXRlIGJlZm9yZSBub3cuXG52YXIgcGF0aD0nJzt2YXIgZG9tYWluPScnO3ZhciByZWN1cnNlPWZhbHNlO3ZhciBtYXRjaGVkPWZhbHNlO3ZhciByZXN1bHRzPS9wYXRoPShbXlxccyxdKylbLF0/Ly5leGVjKG9wdGlvbnNTdHJpbmcpO2lmKHJlc3VsdHMpe21hdGNoZWQ9dHJ1ZTtwYXRoPXJlc3VsdHNbMV07fXJlc3VsdHM9L2RvbWFpbj0oW15cXHMsXSspWyxdPy8uZXhlYyhvcHRpb25zU3RyaW5nKTtpZihyZXN1bHRzKXttYXRjaGVkPXRydWU7ZG9tYWluPXJlc3VsdHNbMV07fXJlc3VsdHM9L3JlY3Vyc2U9KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7bWF0Y2hlZD10cnVlO3JlY3Vyc2U9cmVzdWx0c1sxXTtpZignZmFsc2UnPT1yZWN1cnNlKXtyZWN1cnNlPWZhbHNlO319Ly8gVHJlYXQgdGhlIGVudGlyZSBvcHRpb25zU3RyaW5nIGFzIGEgcGF0aCAoZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuaWYob3B0aW9uc1N0cmluZyYmIW1hdGNoZWQpey8vTE9HLndhcm4oXCJVc2luZyBlbnRpcmUgb3B0aW9uc1N0cmluZyBhcyBhIHBhdGg7IHBsZWFzZSBjaGFuZ2UgdGhlIGFyZ3VtZW50IHRvIGRlbGV0ZUNvb2tpZSB0byB1c2UgcGF0aD1cIiArIG9wdGlvbnNTdHJpbmcpO1xucGF0aD1vcHRpb25zU3RyaW5nO31pZihfc2VsZW5pdW1Ccm93c2VyYm90LmJyb3dzZXJWZXJzaW9uLmtodG1sKXsvLyBTYWZhcmkgYW5kIGNvbnF1ZXJlciBkb24ndCBsaWtlIHBhdGhzIHdpdGggLyBhdCB0aGUgZW5kXG5pZignLychPXBhdGgpe3BhdGg9cGF0aC5yZXBsYWNlKC9cXC8kLywnJyk7fX1wYXRoPXBhdGgudHJpbSgpO2RvbWFpbj1kb21haW4udHJpbSgpO3ZhciBjb29raWVOYW1lPW5hbWUudHJpbSgpO2lmKHJlY3Vyc2Upe3RoaXMuYnJvd3NlcmJvdC5yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lLGRvbWFpbixwYXRoKTt9ZWxzZXt0aGlzLmJyb3dzZXJib3QuZGVsZXRlQ29va2llKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RlbGV0ZUFsbFZpc2libGVDb29raWVzPWZ1bmN0aW9uKCl7LyoqIENhbGxzIGRlbGV0ZUNvb2tpZSB3aXRoIHJlY3Vyc2U9dHJ1ZSBvbiBhbGwgY29va2llcyB2aXNpYmxlIHRvIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqIEFzIG5vdGVkIG9uIHRoZSBkb2N1bWVudGF0aW9uIGZvciBkZWxldGVDb29raWUsIHJlY3Vyc2U9dHJ1ZSBjYW4gYmUgbXVjaCBzbG93ZXJcbiAgICogdGhhbiBzaW1wbHkgZGVsZXRpbmcgdGhlIGNvb2tpZXMgdXNpbmcgYSBrbm93biBkb21haW4vcGF0aC5cbiAgICovdmFyIHdpbj10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO3ZhciBkb2M9d2luLmRvY3VtZW50O3ZhciBjb29raWVOYW1lcz10aGlzLmJyb3dzZXJib3QuZ2V0QWxsQ29va2llTmFtZXMoZG9jKTt2YXIgZG9tYWluPWRvYy5kb21haW47dmFyIHBhdGg9d2luLmxvY2F0aW9uLnBhdGhuYW1lO2Zvcih2YXIgaT0wO2k8Y29va2llTmFtZXMubGVuZ3RoO2krKyl7dGhpcy5icm93c2VyYm90LnJlY3Vyc2l2ZWx5RGVsZXRlQ29va2llKGNvb2tpZU5hbWVzW2ldLGRvbWFpbixwYXRoLHdpbik7fX07Ly9TZWxlbml1bS5wcm90b3R5cGUuZG9TZXRCcm93c2VyTG9nTGV2ZWwgPSBmdW5jdGlvbihsb2dMZXZlbCkge1xuLyoqXG4gKiBTZXRzIHRoZSB0aHJlc2hvbGQgZm9yIGJyb3dzZXItc2lkZSBsb2dnaW5nIG1lc3NhZ2VzOyBsb2cgbWVzc2FnZXMgYmVuZWF0aCB0aGlzIHRocmVzaG9sZCB3aWxsIGJlIGRpc2NhcmRlZC5cbiAqIFZhbGlkIGxvZ0xldmVsIHN0cmluZ3MgYXJlOiBcImRlYnVnXCIsIFwiaW5mb1wiLCBcIndhcm5cIiwgXCJlcnJvclwiIG9yIFwib2ZmXCIuXG4gKiBUbyBzZWUgdGhlIGJyb3dzZXIgbG9ncywgeW91IG5lZWQgdG9cbiAqIGVpdGhlciBzaG93IHRoZSBsb2cgd2luZG93IGluIEdVSSBtb2RlLCBvciBlbmFibGUgYnJvd3Nlci1zaWRlIGxvZ2dpbmcgaW4gU2VsZW5pdW0gUkMuXG4gKlxuICogQHBhcmFtIGxvZ0xldmVsIG9uZSBvZiB0aGUgZm9sbG93aW5nOiBcImRlYnVnXCIsIFwiaW5mb1wiLCBcIndhcm5cIiwgXCJlcnJvclwiIG9yIFwib2ZmXCJcbiAqLy8qICAgIGlmIChsb2dMZXZlbCA9PSBudWxsIHx8IGxvZ0xldmVsID09IFwiXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJZb3UgbXVzdCBzcGVjaWZ5IGEgbG9nIGxldmVsXCIpO1xuICAgIH1cbiAgICBsb2dMZXZlbCA9IGxvZ0xldmVsLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKC8vTE9HLmxvZ0xldmVsc1tsb2dMZXZlbF0gPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIkludmFsaWQgbG9nIGxldmVsOiBcIiArIGxvZ0xldmVsKTtcbiAgICB9XG4gICAgLy9MT0cuc2V0TG9nTGV2ZWxUaHJlc2hvbGQobG9nTGV2ZWwpO1xufSovU2VsZW5pdW0ucHJvdG90eXBlLmRvRXhlY3V0ZVNjcmlwdD1mdW5jdGlvbihzY3JpcHQsdmFyTmFtZSl7dmFyIHZhbHVlPXRoaXMuZXZhbChzY3JpcHQuc2NyaXB0LHNjcmlwdC5hcmd2KTtpZih2YWx1ZSYmdmFsdWUuY29uc3RydWN0b3IubmFtZT09PSdQcm9taXNlJyl7dGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBzeW5jIG9wZXJhdGlvbiwgaW5zdGVhZCByZWNlaXZlZCBQcm9taXNlJyk7fWlmKHZhck5hbWUpe3JldHVybiBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6dmFsdWUsc3RvcmVWYXI6dmFyTmFtZX0pO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0V4ZWN1dGVBc3luY1NjcmlwdD1mdW5jdGlvbihzY3JpcHQsdmFyTmFtZSl7dmFyIHZhbHVlPXRoaXMuZXZhbChzY3JpcHQuc2NyaXB0LHNjcmlwdC5hcmd2KTtpZih2YWx1ZSYmdmFsdWUuY29uc3RydWN0b3IubmFtZSE9PSdQcm9taXNlJyl7dGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhc3luYyBvcGVyYXRpb24sIGluc3RlYWQgcmVjZWl2ZWQgJysodmFsdWU/dmFsdWUuY29uc3RydWN0b3IubmFtZTp2YWx1ZSkpO31yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHYpe2lmKHZhck5hbWUpe3JldHVybiBfd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6dixzdG9yZVZhcjp2YXJOYW1lfSk7fX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUnVuU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdCl7LyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgXCJzY3JpcHRcIiB0YWcgaW4gdGhlIGJvZHkgb2YgdGhlIGN1cnJlbnQgdGVzdCB3aW5kb3csIGFuZFxuICAgKiBhZGRzIHRoZSBzcGVjaWZpZWQgdGV4dCBpbnRvIHRoZSBib2R5IG9mIHRoZSBjb21tYW5kLiAgU2NyaXB0cyBydW4gaW5cbiAgICogdGhpcyB3YXkgY2FuIG9mdGVuIGJlIGRlYnVnZ2VkIG1vcmUgZWFzaWx5IHRoYW4gc2NyaXB0cyBleGVjdXRlZCB1c2luZ1xuICAgKiBTZWxlbml1bSdzIFwiZ2V0RXZhbFwiIGNvbW1hbmQuICBCZXdhcmUgdGhhdCBKUyBleGNlcHRpb25zIHRocm93biBpbiB0aGVzZSBzY3JpcHRcbiAgICogdGFncyBhcmVuJ3QgbWFuYWdlZCBieSBTZWxlbml1bSwgc28geW91IHNob3VsZCBwcm9iYWJseSB3cmFwIHlvdXIgc2NyaXB0XG4gICAqIGluIHRyeS9jYXRjaCBibG9ja3MgaWYgdGhlcmUgaXMgYW55IGNoYW5jZSB0aGF0IHRoZSBzY3JpcHQgd2lsbCB0aHJvd1xuICAgKiBhbiBleGNlcHRpb24uXG4gICAqIEBwYXJhbSBzY3JpcHQgdGhlIEphdmFTY3JpcHQgc25pcHBldCB0byBydW5cbiAgICovdGhpcy5ldmFsKHNjcmlwdC5zY3JpcHQsc2NyaXB0LmFyZ3YpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUm9sbHVwPWZ1bmN0aW9uKHJvbGx1cE5hbWUsa3dhcmdzKXsvKipcbiAgICogRXhlY3V0ZXMgYSBjb21tYW5kIHJvbGx1cCwgd2hpY2ggaXMgYSBzZXJpZXMgb2YgY29tbWFuZHMgd2l0aCBhIHVuaXF1ZVxuICAgKiBuYW1lLCBhbmQgb3B0aW9uYWxseSBhcmd1bWVudHMgdGhhdCBjb250cm9sIHRoZSBnZW5lcmF0aW9uIG9mIHRoZSBzZXQgb2ZcbiAgICogY29tbWFuZHMuIElmIGFueSBvbmUgb2YgdGhlIHJvbGxlZC11cCBjb21tYW5kcyBmYWlscywgdGhlIHJvbGx1cCBpc1xuICAgKiBjb25zaWRlcmVkIHRvIGhhdmUgZmFpbGVkLiBSb2xsdXBzIG1heSBhbHNvIGNvbnRhaW4gbmVzdGVkIHJvbGx1cHMuXG4gICAqXG4gICAqIEBwYXJhbSByb2xsdXBOYW1lICB0aGUgbmFtZSBvZiB0aGUgcm9sbHVwIGNvbW1hbmRcbiAgICogQHBhcmFtIGt3YXJncyAgICAgIGtleXdvcmQgYXJndW1lbnRzIHN0cmluZyB0aGF0IGluZmx1ZW5jZXMgaG93IHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgcm9sbHVwIGV4cGFuZHMgaW50byBjb21tYW5kc1xuICAgKi8vLyB3ZSBoYXZlIHRvIHRlbXBvcmFyaWx5IGhpamFjayB0aGUgY29tbWFuZFN0YXJ0ZWQsIG5leHRDb21tYW5kKCksXG4vLyBjb21tYW5kQ29tcGxldGUoKSwgYW5kIGNvbW1hbmRFcnJvcigpIG1ldGhvZHMgb2YgdGhlIFRlc3RMb29wIG9iamVjdC5cbi8vIFdoZW4gdGhlIGV4cGFuZGVkIHJvbGx1cCBjb21tYW5kcyBhcmUgZG9uZSBleGVjdXRpbmcgKG9yIGFuIGVycm9yIGhhc1xuLy8gb2NjdXJyZWQpLCB3ZSdsbCByZXN0b3JlIHRoZW0gdG8gdGhlaXIgb3JpZ2luYWwgdmFsdWVzLlxudmFyIGxvb3A9Y3VycmVudFRlc3R8fGh0bWxUZXN0UnVubmVyLmN1cnJlbnRUZXN0Oy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbnZhciBiYWNrdXBNYW5hZ2VyPXtiYWNrdXA6ZnVuY3Rpb24gYmFja3VwKCl7Zm9yKHZhciBpdGVtIGluIHRoaXMuZGF0YSl7dGhpcy5kYXRhW2l0ZW1dPWxvb3BbaXRlbV07fX0scmVzdG9yZTpmdW5jdGlvbiByZXN0b3JlKCl7Zm9yKHZhciBpdGVtIGluIHRoaXMuZGF0YSl7bG9vcFtpdGVtXT10aGlzLmRhdGFbaXRlbV07fX0sZGF0YTp7cmVxdWlyZXNDYWxsQmFjazpudWxsLGNvbW1hbmRTdGFydGVkOm51bGwsbmV4dENvbW1hbmQ6bnVsbCxjb21tYW5kQ29tcGxldGU6bnVsbCxjb21tYW5kRXJyb3I6bnVsbCxwZW5kaW5nUm9sbHVwQ29tbWFuZHM6bnVsbCxyb2xsdXBGYWlsZWQ6bnVsbCxyb2xsdXBGYWlsZWRNZXNzYWdlOm51bGx9Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG59O3ZhciBydWxlPVJvbGx1cE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRSb2xsdXBSdWxlKHJvbGx1cE5hbWUpO3ZhciBleHBhbmRlZENvbW1hbmRzPXJ1bGUuZ2V0RXhwYW5kZWRDb21tYW5kcyhrd2FyZ3MpOy8vIGhvbGQgeW91ciBicmVhdGggLi4uXG50cnl7YmFja3VwTWFuYWdlci5iYWNrdXAoKTtsb29wLnJlcXVpcmVzQ2FsbEJhY2s9ZmFsc2U7bG9vcC5jb21tYW5kU3RhcnRlZD1mdW5jdGlvbigpe307bG9vcC5uZXh0Q29tbWFuZD1mdW5jdGlvbigpe2lmKHRoaXMucGVuZGluZ1JvbGx1cENvbW1hbmRzLmxlbmd0aD09MCl7cmV0dXJuIG51bGw7fXZhciBjb21tYW5kPXRoaXMucGVuZGluZ1JvbGx1cENvbW1hbmRzLnNoaWZ0KCk7cmV0dXJuIGNvbW1hbmQ7fTtsb29wLmNvbW1hbmRDb21wbGV0ZT1mdW5jdGlvbihyZXN1bHQpe2lmKHJlc3VsdC5mYWlsZWQpe3RoaXMucm9sbHVwRmFpbGVkPXRydWU7dGhpcy5yb2xsdXBGYWlsdXJlTWVzc2FnZXMucHVzaChyZXN1bHQuZmFpbHVyZU1lc3NhZ2UpO31pZih0aGlzLnBlbmRpbmdSb2xsdXBDb21tYW5kcy5sZW5ndGg9PTApe3Jlc3VsdD17ZmFpbGVkOnRoaXMucm9sbHVwRmFpbGVkLGZhaWx1cmVNZXNzYWdlOnRoaXMucm9sbHVwRmFpbHVyZU1lc3NhZ2VzLmpvaW4oJzsgJykvL0xPRy5pbmZvKCdSb2xsdXAgZXhlY3V0aW9uIGNvbXBsZXRlOiAnICsgKHJlc3VsdC5mYWlsZWQgPyAnZmFpbGVkISAoc2VlIGVycm9yIG1lc3NhZ2VzIGJlbG93KScgOiAnb2snKSk7XG59O2JhY2t1cE1hbmFnZXIucmVzdG9yZSgpO3RoaXMuY29tbWFuZENvbXBsZXRlKHJlc3VsdCk7fX07bG9vcC5jb21tYW5kRXJyb3I9ZnVuY3Rpb24oZXJyb3JNZXNzYWdlKXsvL0xPRy5pbmZvKCdSb2xsdXAgZXhlY3V0aW9uIGNvbXBsZXRlOiBib21iZWQhJyk7XG5iYWNrdXBNYW5hZ2VyLnJlc3RvcmUoKTt0aGlzLmNvbW1hbmRFcnJvcihlcnJvck1lc3NhZ2UpO307bG9vcC5wZW5kaW5nUm9sbHVwQ29tbWFuZHM9ZXhwYW5kZWRDb21tYW5kcztsb29wLnJvbGx1cEZhaWxlZD1mYWxzZTtsb29wLnJvbGx1cEZhaWx1cmVNZXNzYWdlcz1bXTt9Y2F0Y2goZSl7Ly9MT0cuZXJyb3IoJ1JvbGx1cCBlcnJvcjogJyArIGUpO1xuYmFja3VwTWFuYWdlci5yZXN0b3JlKCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQWRkU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdENvbnRlbnQsc2NyaXB0VGFnSWQpey8qKlxuICAgKiBMb2FkcyBzY3JpcHQgY29udGVudCBpbnRvIGEgbmV3IHNjcmlwdCB0YWcgaW4gdGhlIFNlbGVuaXVtIGRvY3VtZW50LiBUaGlzXG4gICAqIGRpZmZlcnMgZnJvbSB0aGUgcnVuU2NyaXB0IGNvbW1hbmQgaW4gdGhhdCBydW5TY3JpcHQgYWRkcyB0aGUgc2NyaXB0IHRhZ1xuICAgKiB0byB0aGUgZG9jdW1lbnQgb2YgdGhlIEFVVCwgbm90IHRoZSBTZWxlbml1bSBkb2N1bWVudC4gVGhlIGZvbGxvd2luZ1xuICAgKiBlbnRpdGllcyBpbiB0aGUgc2NyaXB0IGNvbnRlbnQgYXJlIHJlcGxhY2VkIGJ5IHRoZSBjaGFyYWN0ZXJzIHRoZXlcbiAgICogcmVwcmVzZW50OlxuICAgKlxuICAgKiAgICAgJmx0O1xuICAgKiAgICAgJmd0O1xuICAgKiAgICAgJmFtcDtcbiAgICpcbiAgICogVGhlIGNvcnJlc3BvbmRpbmcgcmVtb3ZlIGNvbW1hbmQgaXMgcmVtb3ZlU2NyaXB0LlxuICAgKlxuICAgKiBAcGFyYW0gc2NyaXB0Q29udGVudCAgdGhlIEphdmFzY3JpcHQgY29udGVudCBvZiB0aGUgc2NyaXB0IHRvIGFkZFxuICAgKiBAcGFyYW0gc2NyaXB0VGFnSWQgICAgKG9wdGlvbmFsKSB0aGUgaWQgb2YgdGhlIG5ldyBzY3JpcHQgdGFnLiBJZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkLCBhbmQgYW4gZWxlbWVudCB3aXRoIHRoaXMgaWQgYWxyZWFkeVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzLCB0aGlzIG9wZXJhdGlvbiB3aWxsIGZhaWwuXG4gICAqL2lmKHNjcmlwdFRhZ0lkJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzY3JpcHRUYWdJZCkpe3ZhciBtc2c9XCJFbGVtZW50IHdpdGggaWQgJ1wiK3NjcmlwdFRhZ0lkK1wiJyBhbHJlYWR5IGV4aXN0cyFcIjt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQobXNnKTt9dmFyIGhlYWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTt2YXIgc2NyaXB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3NjcmlwdC50eXBlPSd0ZXh0L2phdmFzY3JpcHQnO2lmKHNjcmlwdFRhZ0lkKXtzY3JpcHQuaWQ9c2NyaXB0VGFnSWQ7fS8vIHJlcGxhY2Ugc29tZSBlbnRpdGllc1xuc2NyaXB0Q29udGVudD1zY3JpcHRDb250ZW50LnJlcGxhY2UoLyZsdDsvZywnPCcpLnJlcGxhY2UoLyZndDsvZywnPicpLnJlcGxhY2UoLyZhbXA7L2csJyYnKTtzY3JpcHQudGV4dD1zY3JpcHRDb250ZW50O2hlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1JlbW92ZVNjcmlwdD1mdW5jdGlvbihzY3JpcHRUYWdJZCl7LyoqXG4gICAqIFJlbW92ZXMgYSBzY3JpcHQgdGFnIGZyb20gdGhlIFNlbGVuaXVtIGRvY3VtZW50IGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuXG4gICAqIGlkLiBEb2VzIG5vdGhpbmcgaWYgdGhlIHJlZmVyZW5jZWQgdGFnIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBzY3JpcHRUYWdJZCAgdGhlIGlkIG9mIHRoZSBzY3JpcHQgZWxlbWVudCB0byByZW1vdmUuXG4gICAqL3ZhciBzY3JpcHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2NyaXB0VGFnSWQpO2lmKHNjcmlwdCYmKDAsX3V0aWxzLmdldFRhZ05hbWUpKHNjcmlwdCk9PSdzY3JpcHQnKXtzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1VzZVhwYXRoTGlicmFyeT1mdW5jdGlvbihsaWJyYXJ5TmFtZSl7LyoqXG4gICAqIEFsbG93cyBjaG9pY2Ugb2Ygb25lIG9mIHRoZSBhdmFpbGFibGUgbGlicmFyaWVzLlxuICAgKiBAcGFyYW0gbGlicmFyeU5hbWUgbmFtZSBvZiB0aGUgZGVzaXJlZCBsaWJyYXJ5XG4gICAqIE9ubHkgdGhlIGZvbGxvd2luZyBjYW4gYmUgY2hvc2VuOlxuICAgKiA8dWw+XG4gICAqICAgPGxpPlwiYWpheHNsdFwiIC0gR29vZ2xlJ3MgbGlicmFyeTwvbGk+XG4gICAqICAgPGxpPlwiamF2YXNjcmlwdC14cGF0aFwiIC0gQ3lib3p1IExhYnMnIGZhc3RlciBsaWJyYXJ5PC9saT5cbiAgICogICA8bGk+XCJycGMtb3B0aW1pemluZy1hamF4c2x0XCIgLSB0aGUgUlBDIG9wdGltaXppbmcgc3RyYXRlZ3ksIGRlbGVnYXRpbmcgdG8gYWpheHNsdDwvbGk+XG4gICAqICAgPGxpPlwicnBjLW9wdGltaXppbmctanN4cGF0aFwiIC0gdGhlIFJQQyBvcHRpbWl6aW5nIHN0cmF0ZWd5LCBkZWxlZ2F0aW5nIHRvIGphdmFzY3JpcHQteHBhdGg8L2xpPlxuICAgKiAgIDxsaT5cImRlZmF1bHRcIiAtIFRoZSBkZWZhdWx0IGxpYnJhcnkuICBDdXJyZW50bHkgdGhlIGRlZmF1bHQgbGlicmFyeSBpcyBcImFqYXhzbHRcIiAuPC9saT5cbiAgICogPC91bD5cbiAgICogSWYgbGlicmFyeU5hbWUgaXNuJ3Qgb25lIG9mIHRoZXNlLCBpdCBtYXkgYmUgdGhlIG5hbWUgb2YgYW5vdGhlciBlbmdpbmVcbiAgICogcmVnaXN0ZXJlZCB0byB0aGUgYnJvd3NlcmJvdCdzIFhQYXRoRXZhbHVhdG9yLCBmb3IgZXhhbXBsZSBieSBvdmVycmlkaW5nXG4gICAqIFhQYXRoRXZhbHVhdG9yLnByb3RvdHlwZS5pbml0KCkgLiBJZiBpdCBpcyBub3QgYSByZWdpc3RlcmVkIGVuZ2luZVxuICAgKiBlaXRoZXIsIHRoZW4gbm8gY2hhbmdlIHdpbGwgYmUgbWFkZS5cbiAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5nZXRYUGF0aEVuZ2luZShsaWJyYXJ5TmFtZSkpe3JldHVybjt9dGhpcy5icm93c2VyYm90LnNldFhQYXRoRW5naW5lKGxpYnJhcnlOYW1lKTt9Oy8qKlxuICogIEZhY3RvcnkgZm9yIGNyZWF0aW5nIFwiT3B0aW9uIExvY2F0b3JzXCIuXG4gKiAgQW4gT3B0aW9uTG9jYXRvciBpcyBhbiBvYmplY3QgZm9yIGRlYWxpbmcgd2l0aCBTZWxlY3Qgb3B0aW9ucyAoZS5nLiBmb3JcbiAqICBmaW5kaW5nIGEgc3BlY2lmaWVkIG9wdGlvbiwgb3IgYXNzZXJ0aW5nIHRoYXQgdGhlIHNlbGVjdGVkIG9wdGlvbiBvZlxuICogIFNlbGVjdCBlbGVtZW50IG1hdGNoZXMgc29tZSBjb25kaXRpb24uXG4gKiAgVGhlIHR5cGUgb2YgbG9jYXRvciByZXR1cm5lZCBieSB0aGUgZmFjdG9yeSBkZXBlbmRzIG9uIHRoZSBsb2NhdG9yIHN0cmluZzpcbiAqICAgICBsYWJlbD08ZXhwPiAgKE9wdGlvbkxvY2F0b3JCeUxhYmVsKVxuICogICAgIHZhbHVlPTxleHA+ICAoT3B0aW9uTG9jYXRvckJ5VmFsdWUpXG4gKiAgICAgaW5kZXg9PGV4cD4gIChPcHRpb25Mb2NhdG9yQnlJbmRleClcbiAqICAgICBpZD08ZXhwPiAgICAgKE9wdGlvbkxvY2F0b3JCeUlkKVxuICogICAgIDxleHA+IChkZWZhdWx0IGlzIE9wdGlvbkxvY2F0b3JCeUxhYmVsKS5cbiAqL2Z1bmN0aW9uIE9wdGlvbkxvY2F0b3JGYWN0b3J5KCl7fU9wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5mcm9tTG9jYXRvclN0cmluZz1mdW5jdGlvbihsb2NhdG9yU3RyaW5nKXt2YXIgbG9jYXRvclR5cGU9J2xhYmVsJzt2YXIgbG9jYXRvclZhbHVlPWxvY2F0b3JTdHJpbmc7Ly8gSWYgdGhlcmUgaXMgYSBsb2NhdG9yIHByZWZpeCwgdXNlIHRoZSBzcGVjaWZpZWQgc3RyYXRlZ3lcbnZhciByZXN1bHQ9bG9jYXRvclN0cmluZy5tYXRjaCgvXihbYS16QS1aXSspPSguKikvKTtpZihyZXN1bHQpe2xvY2F0b3JUeXBlPXJlc3VsdFsxXTtsb2NhdG9yVmFsdWU9cmVzdWx0WzJdO31pZih0aGlzLm9wdGlvbkxvY2F0b3JzPT11bmRlZmluZWQpe3RoaXMucmVnaXN0ZXJPcHRpb25Mb2NhdG9ycygpO31pZih0aGlzLm9wdGlvbkxvY2F0b3JzW2xvY2F0b3JUeXBlXSl7cmV0dXJuIG5ldyB0aGlzLm9wdGlvbkxvY2F0b3JzW2xvY2F0b3JUeXBlXShsb2NhdG9yVmFsdWUpO310aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ1Vua25vd24gb3B0aW9uIGxvY2F0b3IgdHlwZTogJytsb2NhdG9yVHlwZSk7fTsvKipcbiAqIFRvIGFsbG93IGZvciBlYXN5IGV4dGVuc2lvbiwgYWxsIG9mIHRoZSBvcHRpb24gbG9jYXRvcnMgYXJlIGZvdW5kIGJ5XG4gKiBzZWFyY2hpbmcgZm9yIGFsbCBtZXRob2RzIG9mIE9wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZSB0aGF0IHN0YXJ0XG4gKiB3aXRoIFwiT3B0aW9uTG9jYXRvckJ5XCIuXG4gKiBUT0RPOiBDb25zaWRlciB1c2luZyB0aGUgdGVybSBcIk9wdGlvbiBTcGVjaWZpZXJcIiBpbnN0ZWFkIG9mIFwiT3B0aW9uIExvY2F0b3JcIi5cbiAqL09wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5yZWdpc3Rlck9wdGlvbkxvY2F0b3JzPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25Mb2NhdG9ycz17fTtmb3IodmFyIGZ1bmN0aW9uTmFtZSBpbiB0aGlzKXt2YXIgcmVzdWx0PS9PcHRpb25Mb2NhdG9yQnkoW0EtWl0uKykkLy5leGVjKGZ1bmN0aW9uTmFtZSk7aWYocmVzdWx0IT1udWxsKXt2YXIgbG9jYXRvck5hbWU9KDAsX3V0aWxzLmxvd2VyRmlyc3RDaGFyKShyZXN1bHRbMV0pO3RoaXMub3B0aW9uTG9jYXRvcnNbbG9jYXRvck5hbWVdPXRoaXNbZnVuY3Rpb25OYW1lXTt9fX07LyoqXG4gKiAgT3B0aW9uTG9jYXRvciBmb3Igb3B0aW9ucyBpZGVudGlmaWVkIGJ5IHRoZWlyIGxhYmVscy5cbiAqL09wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5PcHRpb25Mb2NhdG9yQnlMYWJlbD1mdW5jdGlvbihsYWJlbCl7dGhpcy5sYWJlbD1sYWJlbDt0aGlzLmxhYmVsTWF0Y2hlcj1uZXcgX1BhdHRlcm5NYXRjaGVyMi5kZWZhdWx0KHRoaXMubGFiZWwpO3RoaXMuZmluZE9wdGlvbj1mdW5jdGlvbihlbGVtZW50KXtmb3IodmFyIGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZih0aGlzLmxhYmVsTWF0Y2hlci5tYXRjaGVzKGVsZW1lbnQub3B0aW9uc1tpXS50ZXh0KSl7cmV0dXJuIGVsZW1lbnQub3B0aW9uc1tpXTt9fXRocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdChcIk9wdGlvbiB3aXRoIGxhYmVsICdcIit0aGlzLmxhYmVsK1wiJyBub3QgZm91bmRcIik7fTt0aGlzLmFzc2VydFNlbGVjdGVkPWZ1bmN0aW9uKGVsZW1lbnQpe3ZhciBzZWxlY3RlZExhYmVsPWVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXhdLnRleHQ7QXNzZXJ0Lm1hdGNoZXModGhpcy5sYWJlbCxzZWxlY3RlZExhYmVsKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59O307LyoqXG4gKiAgT3B0aW9uTG9jYXRvciBmb3Igb3B0aW9ucyBpZGVudGlmaWVkIGJ5IHRoZWlyIHZhbHVlcy5cbiAqL09wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5PcHRpb25Mb2NhdG9yQnlWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy52YWx1ZT12YWx1ZTt0aGlzLnZhbHVlTWF0Y2hlcj1uZXcgX1BhdHRlcm5NYXRjaGVyMi5kZWZhdWx0KHRoaXMudmFsdWUpO3RoaXMuZmluZE9wdGlvbj1mdW5jdGlvbihlbGVtZW50KXtmb3IodmFyIGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZih0aGlzLnZhbHVlTWF0Y2hlci5tYXRjaGVzKGVsZW1lbnQub3B0aW9uc1tpXS52YWx1ZSkpe3JldHVybiBlbGVtZW50Lm9wdGlvbnNbaV07fX10aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoXCJPcHRpb24gd2l0aCB2YWx1ZSAnXCIrdGhpcy52YWx1ZStcIicgbm90IGZvdW5kXCIpO307dGhpcy5hc3NlcnRTZWxlY3RlZD1mdW5jdGlvbihlbGVtZW50KXt2YXIgc2VsZWN0ZWRWYWx1ZT1lbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4XS52YWx1ZTtBc3NlcnQubWF0Y2hlcyh0aGlzLnZhbHVlLHNlbGVjdGVkVmFsdWUpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn07fTsvKipcbiAqICBPcHRpb25Mb2NhdG9yIGZvciBvcHRpb25zIGlkZW50aWZpZWQgYnkgdGhlaXIgaW5kZXguXG4gKi9PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUuT3B0aW9uTG9jYXRvckJ5SW5kZXg9ZnVuY3Rpb24oaW5kZXgpe3RoaXMuaW5kZXg9TnVtYmVyKGluZGV4KTtpZihpc05hTih0aGlzLmluZGV4KXx8dGhpcy5pbmRleDwwKXt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ0lsbGVnYWwgSW5kZXg6ICcraW5kZXgpO310aGlzLmZpbmRPcHRpb249ZnVuY3Rpb24oZWxlbWVudCl7aWYoZWxlbWVudC5vcHRpb25zLmxlbmd0aDw9dGhpcy5pbmRleCl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdJbmRleCBvdXQgb2YgcmFuZ2UuICBPbmx5ICcrZWxlbWVudC5vcHRpb25zLmxlbmd0aCsnIG9wdGlvbnMgYXZhaWxhYmxlJyk7fXJldHVybiBlbGVtZW50Lm9wdGlvbnNbdGhpcy5pbmRleF07fTt0aGlzLmFzc2VydFNlbGVjdGVkPWZ1bmN0aW9uKGVsZW1lbnQpe0Fzc2VydC5lcXVhbHModGhpcy5pbmRleCxlbGVtZW50LnNlbGVjdGVkSW5kZXgpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn07fTsvKipcbiAqICBPcHRpb25Mb2NhdG9yIGZvciBvcHRpb25zIGlkZW50aWZpZWQgYnkgdGhlaXIgaWQuXG4gKi9PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUuT3B0aW9uTG9jYXRvckJ5SWQ9ZnVuY3Rpb24oaWQpe3RoaXMuaWQ9aWQ7dGhpcy5pZE1hdGNoZXI9bmV3IF9QYXR0ZXJuTWF0Y2hlcjIuZGVmYXVsdCh0aGlzLmlkKTt0aGlzLmZpbmRPcHRpb249ZnVuY3Rpb24oZWxlbWVudCl7Zm9yKHZhciBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7aWYodGhpcy5pZE1hdGNoZXIubWF0Y2hlcyhlbGVtZW50Lm9wdGlvbnNbaV0uaWQpKXtyZXR1cm4gZWxlbWVudC5vcHRpb25zW2ldO319dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KFwiT3B0aW9uIHdpdGggaWQgJ1wiK3RoaXMuaWQrXCInIG5vdCBmb3VuZFwiKTt9O3RoaXMuYXNzZXJ0U2VsZWN0ZWQ9ZnVuY3Rpb24oZWxlbWVudCl7dmFyIHNlbGVjdGVkSWQ9ZWxlbWVudC5vcHRpb25zW2VsZW1lbnQuc2VsZWN0ZWRJbmRleF0uaWQ7QXNzZXJ0Lm1hdGNoZXModGhpcy5pZCxzZWxlY3RlZElkKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59O307Ly9FZGl0Q29udGVudEV4dCwgTGluIFl1biBXZW4sIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzExLzE3XG5TZWxlbml1bS5wcm90b3R5cGUuZG9FZGl0Q29udGVudD1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXsvKipcbiAgICp0byBzZXQgdGV4dCBpbiB0aGUgZWxlbWVudCB3aGljaCdzIGNvbmVudEVkaXRhYmxlIGF0dHJpYnV0ZSBpcyB0cnVlXG4gICAqQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXG4gICAqQHBhcmFtIHZhbHVlIHRoZSBjb250ZXh0IG9mIHRoZSBlbGVtZW50IGluIGh0bWxcbiAgICovdmFyIGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3ZhciBlZGl0YWJsZT1lbGVtZW50LmNvbnRlbnRFZGl0YWJsZTtpZihlZGl0YWJsZT09J3RydWUnKXtlbGVtZW50LmlubmVySFRNTD0oMCxfZXNjYXBlLmVzY2FwZUhUTUwpKHZhbHVlKTt9ZWxzZXt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ1RoZSB2YWx1ZSBvZiBjb250ZW50RWRpdGFibGUgYXR0cmlidXRlIG9mIHRoaXMgZWxlbWVudCBpcyBub3QgdHJ1ZS4nKTt9fTsvLyBNb2RpZmllZCBwcm9tcHQgYnkgU2lkZWVYIGNvbWl0dGVycyAoQ29weXJpZ2h0IDIwMTcpXG5TZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VDYW5jZWxPbk5leHRQcm9tcHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LmNhbmNlbE5leHRQcm9tcHQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fuc3dlck9uTmV4dFByb21wdD1mdW5jdGlvbihhbnN3ZXIpe3JldHVybiB0aGlzLmJyb3dzZXJib3Quc2V0TmV4dFByb21wdFJlc3VsdChhbnN3ZXIpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0UHJvbXB0PWZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0UHJvbXB0TWVzc2FnZSgpLnRoZW4oZnVuY3Rpb24oYWN0dWFsTWVzc2FnZSl7aWYobWVzc2FnZSE9YWN0dWFsTWVzc2FnZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJQcm9tcHQgbWVzc2FnZSBkb2Vzbid0IG1hdGNoIGFjdHVhbCBtZXNzYWdlXCIpO2Vsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTt9KTt9Oy8vIE1vZGlmaWVkIGFsZXJ0IGJ5IFNpZGVlWCBjb21pdHRlcnMgKENvcHlyaWdodCAyMDE3KVxuU2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0QWxlcnQ9ZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGVydE1lc3NhZ2UoKS50aGVuKGZ1bmN0aW9uKGFjdHVhbE1lc3NhZ2Upe2lmKG1lc3NhZ2UhPWFjdHVhbE1lc3NhZ2UpcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQWxlcnQgbWVzc2FnZSBkb2Vzbid0IG1hdGNoIGFjdHVhbCBtZXNzYWdlXCIpO2Vsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTt9KTt9Oy8vIE1vZGlmaWVkIGNvbmZpcm0gYnkgU2lkZWVYIGNvbWl0dGVycyAoQ29weXJpZ2h0IDIwMTcpXG5TZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VDYW5jZWxPbk5leHRDb25maXJtYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LnNldE5leHRDb25maXJtYXRpb25SZXN1bHQoZmFsc2UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ2hvb3NlT2tPbk5leHRDb25maXJtYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LnNldE5leHRDb25maXJtYXRpb25SZXN1bHQodHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRDb25maXJtYXRpb249ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0Q29uZmlybWF0aW9uTWVzc2FnZSgpLnRoZW4oZnVuY3Rpb24oYWN0dWFsTWVzc2FnZSl7aWYodmFsdWUhPWFjdHVhbE1lc3NhZ2UpcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQ29uZmlybWF0aW9uIG1lc3NhZ2UgZG9lc24ndCBtYXRjaCBhY3R1YWwgbWVzc2FnZVwiKTtlbHNlIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7fSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TaG93RWxlbWVudD1mdW5jdGlvbihsb2NhdG9yKXt2YXIgZWxlbWVudEZvckluamVjdGluZ1N0eWxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGUucmVsPSdzdHlsZXNoZWV0JztlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGUuaHJlZj1fd2ViZXh0ZW5zaW9uUG9seWZpbGwyLmRlZmF1bHQucnVudGltZS5nZXRVUkwoJy9hc3NldHMvaGlnaGxpZ2h0LmNzcycpOyhkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGVsZW1lbnRGb3JJbmplY3RpbmdTdHlsZSk7dmFyIGhpZ2hsaWdodEVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7aGlnaGxpZ2h0RWxlbWVudC5pZD0nc2VsZW5pdW0taGlnaGxpZ2h0Jztkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhpZ2hsaWdodEVsZW1lbnQpO2lmKGxvY2F0b3IueCl7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5sZWZ0PXBhcnNlSW50KGxvY2F0b3IueCkrJ3B4JztoaWdobGlnaHRFbGVtZW50LnN0eWxlLnRvcD1wYXJzZUludChsb2NhdG9yLnkpKydweCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS53aWR0aD1wYXJzZUludChsb2NhdG9yLndpZHRoKSsncHgnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUuaGVpZ2h0PXBhcnNlSW50KGxvY2F0b3IuaGVpZ2h0KSsncHgnO31lbHNle3ZhciBib2R5UmVjdHM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt2YXIgZWxlbWVudFJlY3RzPWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5sZWZ0PXBhcnNlSW50KGVsZW1lbnRSZWN0cy5sZWZ0LWJvZHlSZWN0cy5sZWZ0KSsncHgnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUudG9wPXBhcnNlSW50KGVsZW1lbnRSZWN0cy50b3AtYm9keVJlY3RzLnRvcCkrJ3B4JztoaWdobGlnaHRFbGVtZW50LnN0eWxlLndpZHRoPXBhcnNlSW50KGVsZW1lbnRSZWN0cy53aWR0aCkrJ3B4JztoaWdobGlnaHRFbGVtZW50LnN0eWxlLmhlaWdodD1wYXJzZUludChlbGVtZW50UmVjdHMuaGVpZ2h0KSsncHgnO31oaWdobGlnaHRFbGVtZW50LnN0eWxlLnBvc2l0aW9uPSdhYnNvbHV0ZSc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS56SW5kZXg9JzEwMCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5kaXNwbGF5PSdibG9jayc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPSdub25lJzsoMCxfc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZDIuZGVmYXVsdCkoaGlnaGxpZ2h0RWxlbWVudCx7Y2VudGVySWZOZWVkZWQ6dHJ1ZX0pO2hpZ2hsaWdodEVsZW1lbnQuY2xhc3NOYW1lPSdhY3RpdmUtc2VsZW5pdW0taGlnaGxpZ2h0JztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChoaWdobGlnaHRFbGVtZW50KTtlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGUpO30sNTAwKTtyZXR1cm4nZWxlbWVudCBmb3VuZCc7fTs7dmFyIF90ZW1wPWZ1bmN0aW9uKCl7aWYodHlwZW9mIF9fUkVBQ1RfSE9UX0xPQURFUl9fPT09J3VuZGVmaW5lZCcpe3JldHVybjt9X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoU2VsZW5pdW0sJ1NlbGVuaXVtJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWFwaS5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKHRocm93SWZOb1Zhck5hbWVQcm92aWRlZCwndGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWFwaS5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKHdhaXRVbnRpbCwnd2FpdFVudGlsJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWFwaS5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGdldENsaWVudFhZLCdnZXRDbGllbnRYWScsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9zZWxlbml1bS1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihnZXRDb29yZHMsJ2dldENvb3JkcycsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9zZWxlbml1bS1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcihpc0VsZW1lbnROb3RQcmVzZW50LCdpc0VsZW1lbnROb3RQcmVzZW50JywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWFwaS5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKHVuYWJsZVRvTG9jYXRlVGFyZ2V0RWxlbWVudEVycm9yLCd1bmFibGVUb0xvY2F0ZVRhcmdldEVsZW1lbnRFcnJvcicsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9zZWxlbml1bS1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcihpc05vdERpc3BsYXllZCwnaXNOb3REaXNwbGF5ZWQnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYXBpLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoaXNEaXNwbGF5ZWQsJ2lzRGlzcGxheWVkJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWFwaS5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGlzRWRpdGFibGUsJ2lzRWRpdGFibGUnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYXBpLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoaXNOb3RFZGl0YWJsZSwnaXNOb3RFZGl0YWJsZScsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9zZWxlbml1bS1hcGkuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihPcHRpb25Mb2NhdG9yRmFjdG9yeSwnT3B0aW9uTG9jYXRvckZhY3RvcnknLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYXBpLmpzJyk7fSgpOztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvc2VsZW5pdW0tYXBpLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///231\n");

/***/ }),

/***/ 232:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.IEBrowserBot=exports.OperaBrowserBot=exports.SafariBrowserBot=exports.KonquerorBrowserBot=exports.MozillaBrowserBot=exports.default=exports.browserVersion=undefined;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _seleniumApi=__webpack_require__(231);var _seleniumApi2=_interopRequireDefault(_seleniumApi);var _SeleniumError=__webpack_require__(110);var _SeleniumError2=_interopRequireDefault(_SeleniumError);var _commandsApi=__webpack_require__(141);var _closurePolyfill=__webpack_require__(80);var _closurePolyfill2=_interopRequireDefault(_closurePolyfill);var _utils=__webpack_require__(111);var _PatternMatcher=__webpack_require__(233);var _PatternMatcher2=_interopRequireDefault(_PatternMatcher);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/*\n * Copyright 2011 Software Freedom Conservancy\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n *//*\n * This script provides the Javascript API to drive the test application contained within\n * a Browser Window.\n * TODO:\n *    Add support for more events (keyboard and mouse)\n *    Allow to switch \"user-entry\" mode from mouse-based to keyboard-based, firing different\n *          events in different modes.\n */var browserVersion=exports.browserVersion=new window.global.BrowserVersion();window.global.browserVersion=browserVersion;// The window to which the commands will be sent.  For example, to click on a\n// popup window, first select that window, and then do a normal click command.\nvar BrowserBot=function BrowserBot(topLevelApplicationWindow){_classCallCheck(this,BrowserBot);this.topWindow=topLevelApplicationWindow;this.topFrame=this.topWindow;this.baseUrl=window.location.href;_closurePolyfill.bot.setWindow(window);//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nthis.count=1;// the buttonWindow is the Selenium window\n// it contains the Run/Pause buttons... this should *not* be the AUT window\nthis.buttonWindow=window;this.currentWindow=this.topWindow;this.currentWindowName=null;this.allowNativeXpath=true;this.xpathEvaluator=new XPathEvaluator('ajaxslt');// change to \"javascript-xpath\" for the newer, faster engine\n// We need to know this in advance, in case the frame closes unexpectedly\nthis.isSubFrameSelected=false;this.altKeyDown=false;this.controlKeyDown=false;this.shiftKeyDown=false;this.metaKeyDown=false;this.modalDialogTest=null;this.recordedAlerts=new Array();this.recordedConfirmations=new Array();this.recordedPrompts=new Array();this.openedWindows={};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nthis.openedWindows['win_ser_local']=this.topWindow;this.nextConfirmResult=true;this.nextPromptResult='';this.newPageLoaded=false;this.pageLoadError=null;this.ignoreResponseCode=false;this.xhr=null;this.abortXhr=false;this.isXhrSent=false;this.isXhrDone=false;this.xhrOpenLocation=null;this.xhrResponseCode=null;this.xhrStatusText=null;this.shouldHighlightLocatedElement=false;this.uniqueId='seleniumMarker'+new Date().getTime();this.pollingForLoad=new Object();this.permDeniedCount=new Object();this.windowPollers=new Array();// DGF for backwards compatibility\nthis.browserbot=this;var self=this;Object.assign(this,PageBot.prototype);this._registerAllLocatorFunctions();this.recordPageLoad=function(){self.newPageLoaded=true;};this.isNewPageLoaded=function(){var e=void 0;if(this.pageLoadError){e=this.pageLoadError;this.pageLoadError=null;throw e;}if(self.ignoreResponseCode){return self.newPageLoaded;}else{if(self.isXhrSent&&self.isXhrDone){if(!(self.xhrResponseCode>=200&&self.xhrResponseCode<=399||self.xhrResponseCode==0)){// TODO: for IE status like: 12002, 12007, ... provide corresponding statusText messages also.\ne='XHR ERROR: URL = '+self.xhrOpenLocation+' Response_Code = '+self.xhrResponseCode+' Error_Message = '+self.xhrStatusText;self.abortXhr=false;self.isXhrSent=false;self.isXhrDone=false;self.xhrResponseCode=null;self.xhrStatusText=null;throw new _SeleniumError2.default(e);}}return self.newPageLoaded&&(self.isXhrSent?self.abortXhr||self.isXhrDone:true);}};this.setAllowNativeXPath=function(allow){this.xpathEvaluator.setAllowNativeXPath(allow);};this.setIgnoreAttributesWithoutValue=function(ignore){this.xpathEvaluator.setIgnoreAttributesWithoutValue(ignore);};this.setXPathEngine=function(engineName){this.xpathEvaluator.setCurrentEngine(engineName);};this.getXPathEngine=function(){return this.xpathEvaluator.getCurrentEngine();};};// DGF PageBot exists for backwards compatibility with old user-extensions\nexports.default=BrowserBot;var PageBot=function PageBot(){};BrowserBot.createForWindow=function(window,proxyInjectionMode){var browserbot=void 0;if(browserVersion.isIE){browserbot=new IEBrowserBot(window);}else if(browserVersion.isKonqueror){browserbot=new KonquerorBrowserBot(window);}else if(browserVersion.isOpera){browserbot=new OperaBrowserBot(window);}else if(browserVersion.isSafari){browserbot=new SafariBrowserBot(window);}else{// Use mozilla by default\nbrowserbot=new MozillaBrowserBot(window);}// getCurrentWindow has the side effect of modifying it to handle page loads etc\nbrowserbot.proxyInjectionMode=proxyInjectionMode;browserbot.getCurrentWindow();// for modifyWindow side effect.  This is not a transparent style\nreturn browserbot;};// todo: rename?  This doesn't actually \"do\" anything.\nBrowserBot.prototype.doModalDialogTest=function(test){this.modalDialogTest=test;};BrowserBot.prototype.cancelNextConfirmation=function(result){this.nextConfirmResult=result;};//BrowserBot.prototype.setNextPromptResult = function(result) {\n//this.nextResult = result;\n//};\nBrowserBot.prototype.hasAlerts=function(){return this.recordedAlerts.length>0;};BrowserBot.prototype.relayBotToRC=function(s){// DGF need to do this funny trick to see if we're in PI mode, because\n// \"this\" might be the window, rather than the browserbot (e.g. during window.alert)\nvar piMode=this.proxyInjectionMode;if(!piMode){if(typeof _commandsApi.selenium!='undefined'){piMode=_commandsApi.selenium.browserbot&&_commandsApi.selenium.browserbot.proxyInjectionMode;}}if(piMode){this.relayToRC('selenium.'+s);}};BrowserBot.prototype.relayToRC=function(){return null;};BrowserBot.prototype.resetPopups=function(){this.recordedAlerts=[];this.recordedConfirmations=[];this.recordedPrompts=[];};BrowserBot.prototype.getNextAlert=function(){var t=this.recordedAlerts.shift();if(t){t=t.replace(/\\n/g,' ');// because Selenese loses \\n's when retrieving text from HTML table\n}this.relayBotToRC('browserbot.recordedAlerts');return t;};BrowserBot.prototype.hasConfirmations=function(){return this.recordedConfirmations.length>0;};BrowserBot.prototype.getNextConfirmation=function(){var t=this.recordedConfirmations.shift();this.relayBotToRC('browserbot.recordedConfirmations');return t;};BrowserBot.prototype.hasPrompts=function(){return this.recordedPrompts.length>0;};BrowserBot.prototype.getNextPrompt=function(){var t=this.recordedPrompts.shift();this.relayBotToRC('browserbot.recordedPrompts');return t;};/* Fire a mouse event in a browser-compatible manner */BrowserBot.prototype.triggerMouseEvent=function(element,eventType,canBubble,clientX,clientY,button){clientX=clientX?clientX:0;clientY=clientY?clientY:0;//LOG.debug(\"triggerMouseEvent assumes setting screenX and screenY to 0 is ok\");\nvar screenX=0;var screenY=0;canBubble=(typeof canBubble==='undefined'?'undefined':_typeof(canBubble))==undefined?true:canBubble;var doc=_closurePolyfill2.default.dom.getOwnerDocument(element);var view=_closurePolyfill2.default.dom.getWindow(doc);var evt=doc.createEvent('MouseEvents');if(evt.initMouseEvent){// see http://developer.mozilla.org/en/docs/DOM:event.button and\n// http://developer.mozilla.org/en/docs/DOM:event.initMouseEvent for button ternary logic logic\n//Safari\nevt.initMouseEvent(eventType,canBubble,true,view,1,screenX,screenY,clientX,clientY,this.controlKeyDown,this.altKeyDown,this.shiftKeyDown,this.metaKeyDown,button?button:0,null);}else{//LOG.warn(\"element doesn't have initMouseEvent; firing an event which should -- but doesn't -- have other mouse-event related attributes here, as well as controlKeyDown, altKeyDown, shiftKeyDown, metaKeyDown\");\nevt.initEvent(eventType,canBubble,true);evt.shiftKey=this.shiftKeyDown;evt.metaKey=this.metaKeyDown;evt.altKey=this.altKeyDown;evt.ctrlKey=this.controlKeyDown;if(button){evt.button=button;}}element.dispatchEvent(evt);};//DragAndDropExt, Shuo-Heng Shih, SELAB, CSIE, NCKU, 2016/10/17\nBrowserBot.prototype.triggerDragEvent=function(element,target){var getXpathOfElement=function getXpathOfElement(element){if(element==null){return'null';}if(element.parentElement==null){return'/'+element.tagName;}var siblingElement=element.parentElement.children;var tagCount=0;var totalTagCount=0;var isFound=false;for(var i=0;i<siblingElement.length;i++){if(siblingElement[i].tagName==element.tagName&&!isFound){tagCount++;totalTagCount++;}else if(siblingElement[i].tagName==element.tagName){totalTagCount++;}if(siblingElement[i]==element){isFound=true;}}if(totalTagCount>1){return getXpathOfElement(element.parentElement)+'/'+element.tagName+'['+tagCount+']';}return getXpathOfElement(element.parentElement)+'/'+element.tagName;};var script=\"                                              \\\n        function simulateDragDrop(sourceNode, destinationNode){\\\n        function createCustomEvent(type) {                     \\\n            var event = new CustomEvent('CustomEvent');        \\\n            event.initCustomEvent(type, true, true, null);     \\\n            event.dataTransfer = {                             \\\n                data: {                                        \\\n                },                                             \\\n                setData: function(type, val) {                 \\\n                    this.data[type] = val;                     \\\n                },                                             \\\n                getData: function(type) {                      \\\n                    return this.data[type];                    \\\n                }                                              \\\n            };                                                 \\\n            return event;                                      \\\n        }                                                      \\\n        function dispatchEvent(node, type, event) {            \\\n            if (node.dispatchEvent) {                          \\\n                return node.dispatchEvent(event);              \\\n            }                                                  \\\n            if (node.fireEvent) {                              \\\n                return node.fireEvent('on' + type, event);     \\\n            }                                                  \\\n        }                                                      \\\n        var event = createCustomEvent('dragstart');            \\\n        dispatchEvent(sourceNode, 'dragstart', event);         \\\n                                                               \\\n        var dropEvent = createCustomEvent('drop');             \\\n        dropEvent.dataTransfer = event.dataTransfer;           \\\n        dispatchEvent(destinationNode, 'drop', dropEvent);     \\\n                                                               \\\n        var dragEndEvent = createCustomEvent('dragend');       \\\n        dragEndEvent.dataTransfer = event.dataTransfer;        \\\n        dispatchEvent(sourceNode, 'dragend', dragEndEvent);    \\\n    }                                                          \\\n    simulateDragDrop(document.evaluate('\"+getXpathOfElement(element)+\"', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue, document.evaluate('\"+getXpathOfElement(target)+\"', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue);\\\n    \";var win=this.browserbot.getCurrentWindow();var doc=win.document;var scriptTag=doc.createElement('script');scriptTag.type='text/javascript';scriptTag.text=script;doc.body.appendChild(scriptTag);};BrowserBot.prototype._windowClosed=function(win){try{var c=win.closed;if(c==null)return true;return c;}catch(ignored){// Firefox 15+ may already have marked the win dead. Accessing it\n// causes an exception to be thrown. That exception tells us the window\n// is closed.\nreturn true;}};BrowserBot.uniqueKey=1;BrowserBot.prototype._modifyWindow=function(win){// In proxyInjectionMode, have to suppress //LOG calls in _modifyWindow to avoid an infinite loop\nif(this._windowClosed(win)){if(!this.proxyInjectionMode){//LOG.error(\"modifyWindow: Window was closed!\");\n}return null;}if(!this.proxyInjectionMode){}//LOG.debug('modifyWindow ' + this.uniqueId + \":\" + win[this.uniqueId]);\n// Assign a unique label for this window. We set this on a known attribute so we can reliably\n// find it later. This is slightly different from uniqueId.\nwin.seleniumKey=BrowserBot.uniqueKey++;try{this.modifyWindowToRecordPopUpDialogs(win,this);}catch(ex){console.error(ex);// eslint-disable-line no-console\n}//Commenting out for issue 1854\n//win[this.uniqueId] = 1;\n// In proxyInjection mode, we have our own mechanism for detecting page loads\nif(!this.proxyInjectionMode){this.modifySeparateTestWindowToDetectPageLoads(win);}if(win.frames&&win.frames.length&&win.frames.length>0){for(var i=0;i<win.frames.length;i++){try{this._modifyWindow(win.frames[i]);}catch(e){}// eslint-disable-line no-empty\n// we're just trying to be opportunistic; don't worry if this doesn't work out\n}}return win;};BrowserBot.prototype.selectWindow=function(target){if(!target||target=='null'){this._selectTopWindow();return;}var result=target.match(/^([a-zA-Z]+)=(.*)/);if(!result){this._selectWindowByWindowId(target);return;}var locatorType=result[1];var locatorValue=result[2];if(locatorType=='title'){this._selectWindowByTitle(locatorValue);}// TODO separate name and var into separate functions\nelse if(locatorType=='name'){this._selectWindowByName(locatorValue);}else if(locatorType=='var'){var win=this.getCurrentWindow().eval(locatorValue);if(win){this._selectWindowByName(win.name);}else{throw new _SeleniumError2.default('Window not found by var: '+locatorValue);}}else{throw new _SeleniumError2.default('Window locator not recognized: '+locatorType);}};BrowserBot.prototype.selectPopUp=function(windowId){if(!windowId||windowId=='null'){this._selectFirstNonTopWindow();}else{this._selectWindowByWindowId(windowId);}};BrowserBot.prototype._selectTopWindow=function(){this.currentWindowName=null;this.currentWindow=this.topWindow;this.topFrame=this.topWindow;this.isSubFrameSelected=false;};BrowserBot.prototype._selectWindowByWindowId=function(windowId){try{this._selectWindowByName(windowId);}catch(e){this._selectWindowByTitle(windowId);}};BrowserBot.prototype._selectWindowByName=function(target){this.currentWindow=this.getWindowByName(target,false);this.topFrame=this.currentWindow;this.currentWindowName=target;this.isSubFrameSelected=false;};BrowserBot.prototype._selectWindowByTitle=function(target){var windowName=this.getWindowNameByTitle(target);if(!windowName){this._selectTopWindow();}else{this._selectWindowByName(windowName);}};BrowserBot.prototype._selectFirstNonTopWindow=function(){var names=this.getNonTopWindowNames();if(names.length){this._selectWindowByName(names[0]);}};BrowserBot.prototype.selectFrame=function(target){var frame=void 0;if(target.indexOf('index=')==0){target=target.substr(6);frame=this.getCurrentWindow().frames[target];if(frame==null){throw new _SeleniumError2.default('Not found: frames['+target+']');}if(!frame.document){throw new _SeleniumError2.default('frames['+target+'] is not a frame');}this.currentWindow=frame;this.isSubFrameSelected=true;}else if(target=='relative=up'||target=='relative=parent'){this.currentWindow=this.getCurrentWindow().parent;this.isSubFrameSelected=this._getFrameElement(this.currentWindow)!=null;}else if(target=='relative=top'){this.currentWindow=this.topFrame;this.isSubFrameSelected=false;}else{frame=this.findElement(target);if(frame==null){throw new _SeleniumError2.default('Not found: '+target);}// now, did they give us a frame or a frame ELEMENT?\nvar match=false;if(frame.contentWindow){// this must be a frame element\nif(browserVersion.isHTA){// stupid HTA bug; can't get in the front door\ntarget=frame.contentWindow.name;}else{this.currentWindow=frame.contentWindow;this.isSubFrameSelected=true;match=true;}}else if(frame.document&&frame.location){// must be an actual window frame\nthis.currentWindow=frame;this.isSubFrameSelected=true;match=true;}if(!match){// neither, let's loop through the frame names\nvar win=this.getCurrentWindow();if(win&&win.frames&&win.frames.length){for(var i=0;i<win.frames.length;i++){if(win.frames[i].name==target){this.currentWindow=win.frames[i];this.isSubFrameSelected=true;match=true;break;}}}if(!match){throw new _SeleniumError2.default('Not a frame: '+target);}}}// modifies the window\nthis.getCurrentWindow();};BrowserBot.prototype.doesThisFrameMatchFrameExpression=function(currentFrameString,target){var isDom=false;if(target.indexOf('dom=')==0){target=target.substr(4);isDom=true;}else if(target.indexOf('index=')==0){target='frames['+target.substr(6)+']';isDom=true;}var t=void 0;//Evalinsandbox\n// eslint-disable-next-line no-undef\nvar mySandbox=new Components.utils.Sandbox(this.currentWindow.location.href);mySandbox.currentFrameString=currentFrameString;mySandbox.target=target;try{// eslint-disable-next-line no-undef\nt=Components.utils.evalInSandbox(currentFrameString+'.'+target,mySandbox);//eval(\"t=\" + currentFrameString + \".\" + target);\n}catch(e){}// eslint-disable-line no-empty\nvar autWindow=this.browserbot.getCurrentWindow();if(t!=null){try{if(t.window==autWindow){return true;}if(t.window.uniqueId==autWindow.uniqueId){return true;}return false;}catch(permDenied){// DGF if the windows are incomparable, they're probably not the same...\n}}if(isDom){return false;}// eslint-disable-next-line no-undef\nvar currentFrame=Components.utils.evalInSandbox(currentFrameString,mySandbox);//var currentFrame;\n//eval(\"currentFrame=\" + currentFrameString);\nif(target=='relative=up'){if(currentFrame.window.parent==autWindow){return true;}return false;}if(target=='relative=top'){if(currentFrame.window.top==autWindow){return true;}return false;}if(currentFrame.window==autWindow.parent){if(autWindow.name==target){return true;}try{var element=this.findElement(target,currentFrame.window);if(element.contentWindow==autWindow){return true;}}catch(e){}// eslint-disable-line no-empty\n}return false;};BrowserBot.prototype.abortXhrRequest=function(){if(this.ignoreResponseCode){//LOG.debug(\"XHR response code being ignored. Nothing to abort.\");\n}else{if(this.abortXhr==false&&this.isXhrSent&&!this.isXhrDone){//LOG.info(\"abortXhrRequest(): aborting request\");\nthis.abortXhr=true;this.xhr.abort();}}};BrowserBot.prototype.onXhrStateChange=function(method){//LOG.info(\"onXhrStateChange(): xhr.readyState = \" + this.xhr.readyState + \" method = \" + method + \" time = \" + new Date().getTime());\nif(this.xhr.readyState==4){// check if the request got aborted.\nif(this.abortXhr==true){this.xhrResponseCode=0;this.xhrStatusText='Request Aborted';this.isXhrDone=true;return;}try{if(method=='HEAD'&&(this.xhr.status==501||this.xhr.status==405)){//LOG.info(\"onXhrStateChange(): HEAD ajax returned 501 or 405, retrying with GET\");\n// handle 501 response code from servers that do not support 'HEAD' method.\n// send GET ajax request with range 0-1.\nthis.xhr=new XMLHttpRequest();this.xhr.onreadystatechange=this.onXhrStateChange.bind(this,'GET');this.xhr.open('GET',this.xhrOpenLocation,true);this.xhr.setRequestHeader('Range','bytes:0-1');this.xhr.send('');this.isXhrSent=true;return;}this.xhrResponseCode=this.xhr.status;this.xhrStatusText=this.xhr.statusText;}catch(ex){//LOG.info(\"encountered exception while reading xhrResponseCode.\" + ex.message);\nthis.xhrResponseCode=-1;this.xhrStatusText='Request Error';}this.isXhrDone=true;}};BrowserBot.prototype.openWindow=function(url,windowID){if(url!=''){url='https://www.google.com';}if(browserVersion.isHTA){// in HTA mode, calling .open on the window interprets the url relative to that window\n// we need to absolute-ize the URL to make it consistent\nvar child=this.getCurrentWindow().open(url,windowID,'resizable=yes');_commandsApi.selenium.browserbot.openedWindows[windowID]=child;}else{this.getCurrentWindow().open(url,windowID,'resizable=yes');}};BrowserBot.prototype.setIFrameLocation=function(iframe,location){iframe.src=location;};BrowserBot.prototype.getCurrentPage=function(){return this;};BrowserBot.prototype.windowNeedsModifying=function(win,uniqueId){// On anything but Firefox, checking the unique id is enough.\n// Firefox 4 introduces a race condition which selenium regularly loses.\ntry{// eslint-disable-next-line no-undef\nvar appInfo=Components.classes['@mozilla.org/xre/app-info;1'].getService(// eslint-disable-next-line no-undef\nComponents.interfaces.nsIXULAppInfo);// eslint-disable-next-line no-undef\nvar versionChecker=Components.classes['@mozilla.org/xpcom/version-comparator;1'// eslint-disable-next-line no-undef\n].getService(Components.interfaces.nsIVersionComparator);if(versionChecker.compare(appInfo.version,'4.0b1')>=0){return win.alert.toString().indexOf('native code')!=-1;}}catch(ignored){}// eslint-disable-line no-empty\nreturn!win[uniqueId];};BrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(originalWindow,browserBot){var self=this;// Apparently, Firefox 4 makes it possible to unwrap an object to find that\n// there's nothing in it.\nvar windowToModify=_closurePolyfill.core.firefox.unwrap(originalWindow);if(!windowToModify){windowToModify=originalWindow;}windowToModify.seleniumAlert=windowToModify.alert;if(!self.windowNeedsModifying(windowToModify,browserBot.uniqueId)){return;}windowToModify.alert=function(alert){browserBot.recordedAlerts.push(alert);self.relayBotToRC.call(self,'browserbot.recordedAlerts');};windowToModify.confirm=function(message){browserBot.recordedConfirmations.push(message);var result=browserBot.nextConfirmResult;browserBot.nextConfirmResult=true;self.relayBotToRC.call(self,'browserbot.recordedConfirmations');return result;};windowToModify.prompt=function(message){browserBot.recordedPrompts.push(message);var result=!browserBot.nextConfirmResult?null:browserBot.nextPromptResult;browserBot.nextConfirmResult=true;browserBot.nextPromptResult='';self.relayBotToRC.call(self,'browserbot.recordedPrompts');return result;};// Keep a reference to all popup windows by name\n// note that in IE the \"windowName\" argument must be a valid javascript identifier, it seems.\nvar originalOpen=windowToModify.open;var originalOpenReference=void 0;if(browserVersion.isHTA){originalOpenReference='selenium_originalOpen'+new Date().getTime();windowToModify[originalOpenReference]=windowToModify.open;}var isHTA=browserVersion.isHTA;var newOpen=function newOpen(url,windowName,windowFeatures,replaceFlag){var myOriginalOpen=originalOpen;if(isHTA){myOriginalOpen=this[originalOpenReference];}//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nif(windowName==''||windowName=='_blank'||typeof windowName==='undefined'){windowName='win_ser_'+self.count;self.count+=1;}var openedWindow=myOriginalOpen(url,windowName,windowFeatures,replaceFlag);//LOG.debug(\"window.open call intercepted; window ID (which you can use with selectWindow()) is \\\"\" +  windowName + \"\\\"\");\nif(windowName!=null){openedWindow['seleniumWindowName']=windowName;}_commandsApi.selenium.browserbot.openedWindows[windowName]=openedWindow;return openedWindow;};if(browserVersion.isHTA){originalOpenReference='selenium_originalOpen'+new Date().getTime();var newOpenReference='selenium_newOpen'+new Date().getTime();var setOriginalRef=\"this['\"+originalOpenReference+\"'] = this.open;\";if(windowToModify.eval){windowToModify.eval(setOriginalRef);windowToModify.open=newOpen;}else{// DGF why can't I eval here?  Seems like I'm querying the window at a bad time, maybe?\nsetOriginalRef+=\"this.open = this['\"+newOpenReference+\"'];\";windowToModify[newOpenReference]=newOpen;windowToModify.setTimeout(setOriginalRef,0);}}else{windowToModify.open=newOpen;}};/**\n * Call the supplied function when a the current page unloads and a new one loads.\n * This is done by polling continuously until the document changes and is fully loaded.\n */BrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads=function(windowObject){// Since the unload event doesn't fire in Safari 1.3, we start polling immediately\nif(!windowObject){//LOG.warn(\"modifySeparateTestWindowToDetectPageLoads: no windowObject!\");\nreturn;}if(this._windowClosed(windowObject)){//LOG.info(\"modifySeparateTestWindowToDetectPageLoads: windowObject was closed\");\nreturn;}var oldMarker=this.isPollingForLoad(windowObject);if(oldMarker){//LOG.debug(\"modifySeparateTestWindowToDetectPageLoads: already polling this window: \" + oldMarker);\nreturn;}var marker='selenium'+new Date().getTime();//LOG.debug(\"Starting pollForLoad (\" + marker + \"): \" + windowObject.location);\nthis.pollingForLoad[marker]=true;// if this is a frame, add a load listener, otherwise, attach a poller\nvar frameElement=this._getFrameElement(windowObject);// DGF HTA mode can't attach load listeners to subframes (yuk!)\nvar htaSubFrame=this._isHTASubFrame(windowObject);if(frameElement&&!htaSubFrame){//LOG.debug(\"modifySeparateTestWindowToDetectPageLoads: this window is a frame; attaching a load listener\");\n//addLoadListener(frameElement, this.recordPageLoad); TODO: check if this is necessary\nframeElement[marker]=true;frameElement['frame'+this.uniqueId]=marker;//LOG.debug(\"dgf this.uniqueId=\"+this.uniqueId);\n//LOG.debug(\"dgf marker=\"+marker);\n//LOG.debug(\"dgf frameElement['frame'+this.uniqueId]=\"+frameElement['frame'+this.uniqueId]);\nframeElement[this.uniqueId]=marker;//LOG.debug(\"dgf frameElement[this.uniqueId]=\"+frameElement[this.uniqueId]);\n}else{windowObject.location[marker]=true;windowObject[this.uniqueId]=marker;this.pollForLoad(this.recordPageLoad,windowObject,windowObject.document,windowObject.location,windowObject.location.href,marker);}};BrowserBot.prototype._isHTASubFrame=function(){if(!browserVersion.isHTA)return false;// DGF this is wrong! what if \"win\" isn't the selected window?\nreturn this.isSubFrameSelected;};BrowserBot.prototype._getFrameElement=function(win){var frameElement=null;var caught=void 0;try{frameElement=win.frameElement;}catch(e){caught=true;}if(caught){// on IE, checking frameElement in a pop-up results in a \"No such interface supported\" exception\n// but it might have a frame element anyway!\nvar parentContainsIdenticallyNamedFrame=false;try{parentContainsIdenticallyNamedFrame=win.parent.frames[win.name];}catch(e){}// eslint-disable-line no-empty\n// this may fail if access is denied to the parent; in that case, assume it's not a pop-up\nif(parentContainsIdenticallyNamedFrame){// it can't be a coincidence that the parent has a frame with the same name as myself!\nvar result=void 0;try{result=parentContainsIdenticallyNamedFrame.frameElement;if(result){return result;}}catch(e){}// eslint-disable-line no-empty\n// it was worth a try! _getFrameElementsByName is often slow\nresult=this._getFrameElementByName(win.name,win.parent.document,win);return result;}}//LOG.debug(\"_getFrameElement: frameElement=\"+frameElement);\nif(frameElement){//LOG.debug(\"frameElement.name=\"+frameElement.name);\n}return frameElement;};BrowserBot.prototype._getFrameElementByName=function(name,doc,win){var frames=void 0;var frame=void 0;var i=void 0;frames=doc.getElementsByTagName('iframe');for(i=0;i<frames.length;i++){frame=frames[i];if(frame.name===name){return frame;}}frames=doc.getElementsByTagName('frame');for(i=0;i<frames.length;i++){frame=frames[i];if(frame.name===name){return frame;}}// DGF weird; we only call this function when we know the doc contains the frame\n//LOG.warn(\"_getFrameElementByName couldn't find a frame or iframe; checking every element for the name \" + name);\nreturn BrowserBot.prototype.locateElementByName(win.name,win.parent.document);};/**\n * Set up a polling timer that will keep checking the readyState of the document until it's complete.\n * Since we might call this before the original page is unloaded, we first check to see that the current location\n * or href is different from the original one.\n */BrowserBot.prototype.pollForLoad=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){//LOG.debug(\"pollForLoad original (\" + marker + \"): \" + originalHref);\ntry{//Samit: Fix: open command sometimes fails if current url is chrome and new is not\nwindowObject=_closurePolyfill.core.firefox.unwrap(windowObject);if(this._windowClosed(windowObject)){//LOG.debug(\"pollForLoad WINDOW CLOSED (\" + marker + \")\");\ndelete this.pollingForLoad[marker];return;}var isSamePage=this._isSamePage(windowObject,originalDocument,originalLocation,originalHref,marker);var rs=this.getReadyState(windowObject,windowObject.document);if(!isSamePage&&rs=='complete'){var currentHref=windowObject.location.href;//LOG.debug(\"pollForLoad FINISHED (\" + marker + \"): \" + rs + \" (\" + currentHref + \")\");\ndelete this.pollingForLoad[marker];this._modifyWindow(windowObject);var newMarker=this.isPollingForLoad(windowObject);if(!newMarker){//LOG.debug(\"modifyWindow didn't start new poller: \" + newMarker);\nthis.modifySeparateTestWindowToDetectPageLoads(windowObject);}newMarker=this.isPollingForLoad(windowObject);var currentlySelectedWindow=void 0;var currentlySelectedWindowMarker=void 0;currentlySelectedWindow=this.getCurrentWindow(true);currentlySelectedWindowMarker=currentlySelectedWindow[this.uniqueId];//LOG.debug(\"pollForLoad (\" + marker + \") restarting \" + newMarker);\nif(/(TestRunner-splash|Blank)\\.html\\?start=true$/.test(currentHref)){//LOG.debug(\"pollForLoad Oh, it's just the starting page.  Never mind!\");\n}else if(currentlySelectedWindowMarker==newMarker){loadFunction(currentlySelectedWindow);}else{//LOG.debug(\"pollForLoad page load detected in non-current window; ignoring (currentlySelected=\"+currentlySelectedWindowMarker+\", detection in \"+newMarker+\")\");\n}return;}//LOG.debug(\"pollForLoad continue (\" + marker + \"): \" + currentHref);\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);}catch(e){//LOG.debug(\"Exception during pollForLoad; this should get noticed soon (\" + e.message + \")!\");\n//DGF this is supposed to get logged later; log it at debug just in case\n////LOG.exception(e);\nthis.pageLoadError=e;}};BrowserBot.prototype._isSamePage=function(windowObject,originalDocument,originalLocation,originalHref,marker){var currentDocument=windowObject.document;var currentLocation=windowObject.location;var currentHref=currentLocation.href;var sameDoc=this._isSameDocument(originalDocument,currentDocument);var sameLoc=originalLocation===currentLocation;// hash marks don't meant the page has loaded, so we need to strip them off if they exist...\nvar currentHash=currentHref.indexOf('#');if(currentHash>0){currentHref=currentHref.substring(0,currentHash);}var originalHash=originalHref.indexOf('#');if(originalHash>0){originalHref=originalHref.substring(0,originalHash);}//LOG.debug(\"_isSamePage: currentHref: \" + currentHref);\n//LOG.debug(\"_isSamePage: originalHref: \" + originalHref);\nvar sameHref=originalHref===currentHref;var markedLoc=currentLocation[marker];if(browserVersion.isKonqueror||browserVersion.isSafari){// the mark disappears too early on these browsers\nmarkedLoc=true;}// since this is some _very_ important logic, especially for PI and multiWindow mode, we should log all these out\n//LOG.debug(\"_isSamePage: sameDoc: \" + sameDoc);\n//LOG.debug(\"_isSamePage: sameLoc: \" + sameLoc);\n//LOG.debug(\"_isSamePage: sameHref: \" + sameHref);\n//LOG.debug(\"_isSamePage: markedLoc: \" + markedLoc);\nreturn sameDoc&&sameLoc&&sameHref&&markedLoc;};BrowserBot.prototype._isSameDocument=function(originalDocument,currentDocument){return originalDocument===currentDocument;};BrowserBot.prototype.getReadyState=function(windowObject,currentDocument){var rs=currentDocument.readyState;if(rs==null){if(this.buttonWindow!=null&&this.buttonWindow.document.readyState==null||// not proxy injection mode (and therefore buttonWindow isn't null)\ntop.document.readyState==null){// proxy injection mode (and therefore everything's in the top window, but buttonWindow doesn't exist)\n// uh oh!  we're probably on Firefox with no readyState extension installed!\n// We'll have to just take a guess as to when the document is loaded; this guess\n// will never be perfect. :-(\nif(typeof currentDocument.getElementsByTagName!='undefined'&&typeof currentDocument.getElementById!='undefined'&&(currentDocument.getElementsByTagName('body')[0]!=null||currentDocument.body!=null)){if(windowObject.frameElement&&windowObject.location.href=='about:blank'&&windowObject.frameElement.src!='about:blank'){//LOG.info(\"getReadyState not loaded, frame location was about:blank, but frame src = \" + windowObject.frameElement.src);\nreturn null;}//LOG.debug(\"getReadyState = windowObject.frames.length = \" + windowObject.frames.length);\nfor(var i=0;i<windowObject.frames.length;i++){//LOG.debug(\"i = \" + i);\nif(this.getReadyState(windowObject.frames[i],windowObject.frames[i].document)!='complete'){//LOG.debug(\"getReadyState aha! the nested frame \" + windowObject.frames[i].name + \" wasn't ready!\");\nreturn null;}}rs='complete';}else{//LOG.debug(\"pollForLoad readyState was null and DOM appeared to not be ready yet\");\n}}}else if(rs=='loading'&&browserVersion.isIE){//LOG.debug(\"pageUnloading = true!!!!\");\nthis.pageUnloading=true;}//LOG.debug(\"getReadyState returning \" + rs);\nreturn rs;};/** This function isn't used normally, but was the way we used to schedule pollers:\n asynchronously executed autonomous units.  This is deprecated, but remains here\n for future reference.\n */BrowserBot.prototype.XXXreschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){var self=this;window.setTimeout(function(){self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);},500);};/** This function isn't used normally, but is useful for debugging asynchronous pollers\n * To enable it, rename it to \"reschedulePoller\", so it will override the\n * existing reschedulePoller function\n */BrowserBot.prototype.XXXreschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){var doc=this.buttonWindow.document;var button=doc.createElement('button');var buttonName=doc.createTextNode(marker+' - '+windowObject.name);button.appendChild(buttonName);var tools=doc.getElementById('tools');var self=this;button.onclick=function(){tools.removeChild(button);self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);};tools.appendChild(button);window.setTimeout(button.onclick,500);};BrowserBot.prototype.reschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){var self=this;var pollerFunction=function pollerFunction(){self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);};this.windowPollers.push(pollerFunction);};BrowserBot.prototype.runScheduledPollers=function(){//LOG.debug(\"runScheduledPollers\");\nvar oldPollers=this.windowPollers;this.windowPollers=new Array();for(var i=0;i<oldPollers.length;i++){oldPollers[i].call();}//LOG.debug(\"runScheduledPollers DONE\");\n};BrowserBot.prototype.isPollingForLoad=function(win){var marker=void 0;var frameElement=this._getFrameElement(win);var htaSubFrame=this._isHTASubFrame(win);if(frameElement&&!htaSubFrame){marker=frameElement['frame'+this.uniqueId];}else{marker=win[this.uniqueId];}if(!marker){//LOG.debug(\"isPollingForLoad false, missing uniqueId \" + this.uniqueId + \": \" + marker);\nreturn false;}if(!this.pollingForLoad[marker]){//LOG.debug(\"isPollingForLoad false, this.pollingForLoad[\" + marker + \"]: \" + this.pollingForLoad[marker]);\nreturn false;}return marker;};BrowserBot.prototype.getWindowByName=function(windowName,doNotModify){//LOG.debug(\"getWindowByName(\" + windowName + \")\");\n// First look in the map of opened windows\nvar targetWindow=this.openedWindows[windowName];if(!targetWindow){targetWindow=this.topWindow[windowName];}if(!targetWindow&&windowName=='_blank'){for(var winName in this.openedWindows){// _blank can match selenium_blank*, if it looks like it's OK (valid href, not closed)\nif(/^selenium_blank/.test(winName)){targetWindow=this.openedWindows[winName];var ok=void 0;try{if(!this._windowClosed(targetWindow)){ok=targetWindow.location.href;}}catch(e){}// eslint-disable-line no-empty\nif(ok)break;}}}if(!targetWindow){throw new _SeleniumError2.default('Window does not exist. If this looks like a Selenium bug, make sure to read http://seleniumhq.org/docs/02_selenium_ide.html#alerts-popups-and-multiple-windows for potential workarounds.');}if(browserVersion.isHTA){try{targetWindow.location.href;}catch(e){targetWindow=window.open('',targetWindow.name);this.openedWindows[targetWindow.name]=targetWindow;}}if(!doNotModify){this._modifyWindow(targetWindow);}return targetWindow;};/**\n * Find a window name from the window title.\n */BrowserBot.prototype.getWindowNameByTitle=function(windowTitle){//LOG.debug(\"getWindowNameByTitle(\" + windowTitle + \")\");\n// First look in the map of opened windows and iterate them\nfor(var windowName in this.openedWindows){var targetWindow=this.openedWindows[windowName];// If the target window's title is our title\ntry{// TODO implement Pattern Matching here\nif(!this._windowClosed(targetWindow)&&targetWindow.document.title==windowTitle){return windowName;}}catch(e){// You'll often get Permission Denied errors here in IE\n// eh, if we can't read this window's title,\n// it's probably not available to us right now anyway\n}}try{if(this.topWindow.document.title==windowTitle){return'';}}catch(e){}// eslint-disable-line no-empty\n// IE Perm denied\nthrow new _SeleniumError2.default('Could not find window with title '+windowTitle);};BrowserBot.prototype.getNonTopWindowNames=function(){var nonTopWindowNames=[];for(var windowName in this.openedWindows){var win=this.openedWindows[windowName];if(!this._windowClosed(win)&&win!=this.topWindow){nonTopWindowNames.push(windowName);}}return nonTopWindowNames;};BrowserBot.prototype.getCurrentWindow=function(doNotModify){if(this.proxyInjectionMode){return window;}var testWindow=_closurePolyfill.core.firefox.unwrap(this.currentWindow);if(!doNotModify){this._modifyWindow(testWindow);//LOG.debug(\"getCurrentWindow newPageLoaded = false\");\nthis.newPageLoaded=false;}testWindow=this._handleClosedSubFrame(testWindow,doNotModify);_closurePolyfill.bot.window_=testWindow;return _closurePolyfill.core.firefox.unwrap(testWindow);};/**\n * Offer a method the end-user can reliably use to retrieve the current window.\n * This should work even for windows with an XPCNativeWrapper. Returns the\n * current window object.\n */BrowserBot.prototype.getUserWindow=function(){var userWindow=this.getCurrentWindow(true);return userWindow;};BrowserBot.prototype._handleClosedSubFrame=function(testWindow,doNotModify){if(this.proxyInjectionMode){return testWindow;}if(this.isSubFrameSelected){var missing=true;if(testWindow.parent&&testWindow.parent.frames&&testWindow.parent.frames.length){for(var i=0;i<testWindow.parent.frames.length;i++){var frame=testWindow.parent.frames[i];if(frame==testWindow||frame.seleniumKey==testWindow.seleniumKey){missing=false;break;}}}if(missing){//LOG.warn(\"Current subframe appears to have closed; selecting top frame\");\nthis.selectFrame('relative=top');return this.getCurrentWindow(doNotModify);}}else if(this._windowClosed(testWindow)){//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/25\n/*var closedError = new SeleniumError(\"Current window or frame is closed!\");\n        closedError.windowClosed = true;\n        throw closedError;*/testWindow=this.topWindow;//select live object\n}return testWindow;};BrowserBot.prototype.setShouldHighlightElement=function(shouldHighlight){this.shouldHighlightLocatedElement=shouldHighlight;};/*****************************************************************//* BROWSER-SPECIFIC FUNCTIONS ONLY AFTER THIS LINE */BrowserBot.prototype._registerAllLocatorFunctions=function(){// TODO - don't do this in the constructor - only needed once ever\nthis.locationStrategies={};for(var functionName in this){var result=/^locateElementBy([A-Z].+)$/.exec(functionName);if(result!=null){var locatorFunction=this[functionName];if(typeof locatorFunction!='function'){continue;}// Use a specified prefix in preference to one generated from\n// the function name\nvar locatorPrefix=locatorFunction.prefix||result[1].toLowerCase();this.locationStrategies[locatorPrefix]=locatorFunction;}}/**\n   * Find a locator based on a prefix.\n   */this.findElementBy=function(locatorType,locator,inDocument,inWindow){var locatorFunction=this.locationStrategies[locatorType];if(!locatorFunction){throw new _SeleniumError2.default(\"Unrecognised locator type: '\"+locatorType+\"'\");}return locatorFunction.call(this,locator,inDocument,inWindow);};/**\n   * The implicit locator, that is used when no prefix is supplied.\n   */this.locationStrategies['implicit']=function(locator,inDocument,inWindow){if(locator.startsWith('//')){return this.locateElementByXPath(locator,inDocument,inWindow);}if(locator.startsWith('document.')){return this.locateElementByDomTraversal(locator,inDocument,inWindow);}return this.locateElementByIdentifier(locator,inDocument,inWindow);};};BrowserBot.prototype.getDocument=function(){return _closurePolyfill.core.firefox.unwrap(this.getCurrentWindow().document);};BrowserBot.prototype.getTitle=function(){var t=this.getDocument().title;if(typeof t=='string'){t=t.trim();}return t;};BrowserBot.prototype.getCookieByName=function(cookieName,doc){if(!doc)doc=this.getDocument();var ck=doc.cookie;if(!ck)return null;var ckPairs=ck.split(/;/);for(var i=0;i<ckPairs.length;i++){var ckPair=ckPairs[i].trim();var ckNameValue=ckPair.split(/=/);var ckName=decodeURIComponent(ckNameValue[0]);if(ckName===cookieName){return decodeURIComponent(ckNameValue.slice(1).join('='));}}return null;};BrowserBot.prototype.getAllCookieNames=function(doc){if(!doc)doc=this.getDocument();var ck=doc.cookie;if(!ck)return[];var cookieNames=[];var ckPairs=ck.split(/;/);for(var i=0;i<ckPairs.length;i++){var ckPair=ckPairs[i].trim();var ckNameValue=ckPair.split(/=/);var ckName=decodeURIComponent(ckNameValue[0]);cookieNames.push(ckName);}return cookieNames;};BrowserBot.prototype.getAllRawCookieNames=function(doc){if(!doc)doc=this.getDocument();var ck=doc.cookie;if(!ck)return[];var cookieNames=[];var ckPairs=ck.split(/;/);for(var i=0;i<ckPairs.length;i++){var ckPair=ckPairs[i].trim();var ckNameValue=ckPair.split(/=/);var ckName=ckNameValue[0];cookieNames.push(ckName);}return cookieNames;};function encodeURIComponentWithASPHack(uri){var regularEncoding=encodeURIComponent(uri);var aggressiveEncoding=regularEncoding.replace('.','%2E');aggressiveEncoding=aggressiveEncoding.replace('_','%5F');return aggressiveEncoding;}BrowserBot.prototype.deleteCookie=function(cookieName,domain,path,doc){if(!doc)doc=this.getDocument();var expireDateInMilliseconds=new Date().getTime()+-1*1000;// we can't really be sure if we're dealing with encoded or unencoded cookie names\nvar _cookieName=void 0;var rawCookieNames=this.getAllRawCookieNames(doc);for(var rawCookieNumber in rawCookieNames){if(rawCookieNames[rawCookieNumber]==cookieName){_cookieName=cookieName;break;}else if(rawCookieNames[rawCookieNumber]==encodeURIComponent(cookieName)){_cookieName=encodeURIComponent(cookieName);break;}else if(rawCookieNames[rawCookieNumber]==encodeURIComponentWithASPHack(cookieName)){_cookieName=encodeURIComponentWithASPHack(cookieName);break;}}var cookie=_cookieName+'=deleted; ';if(path){cookie+='path='+path+'; ';}if(domain){cookie+='domain='+domain+'; ';}cookie+='expires='+new Date(expireDateInMilliseconds).toGMTString();//LOG.debug(\"Setting cookie to: \" + cookie);\ndoc.cookie=cookie;};/** Try to delete cookie, return false if it didn't work */BrowserBot.prototype._maybeDeleteCookie=function(cookieName,domain,path,doc){this.deleteCookie(cookieName,domain,path,doc);return!this.getCookieByName(cookieName,doc);};BrowserBot.prototype._recursivelyDeleteCookieDomains=function(cookieName,domain,path,doc){var deleted=this._maybeDeleteCookie(cookieName,domain,path,doc);if(deleted)return true;var dotIndex=domain.indexOf('.');if(dotIndex==0){return this._recursivelyDeleteCookieDomains(cookieName,domain.substring(1),path,doc);}else if(dotIndex!=-1){return this._recursivelyDeleteCookieDomains(cookieName,domain.substring(dotIndex),path,doc);}else{// No more dots; try just not passing in a domain at all\nreturn this._maybeDeleteCookie(cookieName,null,path,doc);}};BrowserBot.prototype._recursivelyDeleteCookie=function(cookieName,domain,path,doc){var slashIndex=path.lastIndexOf('/');var finalIndex=path.length-1;if(slashIndex==finalIndex){slashIndex--;}if(slashIndex!=-1){var deleted=this._recursivelyDeleteCookie(cookieName,domain,path.substring(0,slashIndex+1),doc);if(deleted)return true;}return this._recursivelyDeleteCookieDomains(cookieName,domain,path,doc);};BrowserBot.prototype.recursivelyDeleteCookie=function(cookieName,domain,path,win){if(!win)win=this.getCurrentWindow();var doc=win.document;if(!domain){domain=doc.domain;}if(!path){path=win.location.pathname;}var deleted=this._recursivelyDeleteCookie(cookieName,'.'+domain,path,doc);if(deleted)return;// Finally try a null path (Try it last because it's uncommon)\ndeleted=this._recursivelyDeleteCookieDomains(cookieName,'.'+domain,null,doc);if(deleted)return;throw new _SeleniumError2.default(\"Couldn't delete cookie \"+cookieName);};/*\n * Finds an element on the current page, using various lookup protocols\n */BrowserBot.prototype.findElementOrNull=function(locator,win){locator=(0,_utils.parse_locator)(locator);if(win==null){win=this.getCurrentWindow();}var element=_closurePolyfill.bot.locators.findElement(_defineProperty({},locator.type,locator.string),win.document);element=_closurePolyfill.core.firefox.unwrap(element);// Element was not found by any locator function.\nreturn element;};BrowserBot.prototype.findElement=function(locator,win){var element=this.findElementOrNull(locator,win);if(element==null)throw new _SeleniumError2.default('Element '+locator+' not found');return _closurePolyfill.core.firefox.unwrap(element);};/**\n * Finds a list of elements using the same mechanism as webdriver.\n *\n * @param {string} how The finding mechanism to use.\n * @param {string} using The selector to use.\n * @param {Document|Element} root The root of the search path.\n */BrowserBot.prototype.findElementsLikeWebDriver=function(how,using,root){var by={};by[how]=using;var all=_closurePolyfill.bot.locators.findElements(by,root);var toReturn='';for(var i=0;i<all.length-1;i++){toReturn+=_closurePolyfill.bot.inject.cache.addElement(_closurePolyfill.core.firefox.unwrap(all[i]))+',';}if(all[all.length-1]){toReturn+=_closurePolyfill.bot.inject.cache.addElement(_closurePolyfill.core.firefox.unwrap(all[all.length-1]));}return toReturn;};/**\n * In non-IE browsers, getElementById() does not search by name.  Instead, we\n * we search separately by id and name.\n */BrowserBot.prototype.locateElementByIdentifier=function(identifier,inDocument,inWindow){// HBC - use \"this\" instead of \"BrowserBot.prototype\"; otherwise we lose\n// the non-prototype fields of the object!\nreturn this.locateElementById(identifier,inDocument,inWindow)||BrowserBot.prototype.locateElementByName(identifier,inDocument,inWindow)||null;};/**\n * Find the element with id - can't rely on getElementById, coz it returns by name as well in IE..\n */BrowserBot.prototype.locateElementById=function(identifier,inDocument){var element=inDocument.getElementById(identifier);if(element&&element.getAttribute('id')===identifier){return element;}else if(browserVersion.isIE||browserVersion.isOpera){// SEL-484\nvar elements=inDocument.getElementsByTagName('*');for(var i=0,n=elements.length;i<n;++i){element=elements[i];if(element.tagName.toLowerCase()=='form'){if(element.attributes['id'].nodeValue==identifier){return element;}}else if(element.getAttribute('id')==identifier){return element;}}return null;}else{return null;}};/**\n * Find an element by name, refined by (optional) element-filter\n * expressions.\n */BrowserBot.prototype.locateElementByName=function(locator,document){var elements=document.getElementsByTagName('*');//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/23\n/*\n        var filters = locator.split(' ');\n        filters[0] = 'name=' + filters[0];\n\n        while (filters.length) {\n            var filter = filters.shift();\n            elements = this.selectElements(filter, elements, 'value');\n        }\n        */var filter='name='+locator;elements=this.selectElements(filter,elements,'value');if(elements.length>0){return elements[0];}return null;};/**\n * Finds an element using by evaluating the specfied string.\n */BrowserBot.prototype.locateElementByDomTraversal=function(domTraversal){var element=null;//Evalinsandbox\n// eslint-disable-next-line no-undef\nvar mySandbox=new Components.utils.Sandbox(this.currentWindow.location.href);mySandbox.domTraversal=domTraversal;try{// eslint-disable-next-line no-undef\nelement=Components.utils.evalInSandbox(domTraversal,mySandbox);//element = eval(domTraversal);\n}catch(e){return null;}if(!element){return null;}return element;};BrowserBot.prototype.locateElementByDomTraversal.prefix='dom';BrowserBot.prototype.locateElementByStoredReference=function(locator){try{return _closurePolyfill.core.locators.findElement('stored='+locator);}catch(e){return null;}};BrowserBot.prototype.locateElementByStoredReference.prefix='stored';BrowserBot.prototype.locateElementByWebDriver=function(locator){try{return _closurePolyfill.core.locators.findElement('webdriver='+locator);}catch(e){return null;}};BrowserBot.prototype.locateElementByWebDriver.prefix='webdriver';/**\n * Finds an element identified by the xpath expression. Expressions _must_\n * begin with \"//\".\n */BrowserBot.prototype.locateElementByXPath=function(xpath,inDocument){return this.xpathEvaluator.selectSingleNode(inDocument,xpath,null,inDocument.createNSResolver?inDocument.createNSResolver(inDocument.documentElement):this._namespaceResolver);};/**\n * Find many elements using xpath.\n *\n * @param {string} xpath XPath expression to search for.\n * @param {=Document} inDocument The document to search in.\n * @param {=Window} inWindow The window the document is in.\n */BrowserBot.prototype.locateElementsByXPath=function(xpath,inDocument){return this.xpathEvaluator.selectNodes(inDocument,xpath,null,inDocument.createNSResolver?inDocument.createNSResolver(inDocument.documentElement):this._namespaceResolver);};BrowserBot.prototype._namespaceResolver=function(prefix){if(prefix=='html'||prefix=='xhtml'||prefix=='x'){return'http://www.w3.org/1999/xhtml';}else if(prefix=='mathml'){return'http://www.w3.org/1998/Math/MathML';}else if(prefix=='svg'){return'http://www.w3.org/2000/svg';}else{throw new Error('Unknown namespace: '+prefix+'.');}};/**\n * Returns the number of xpath results.\n */BrowserBot.prototype.evaluateXPathCount=function(selector,inDocument){var locator=(0,_utils.parse_locator)(selector);if(locator.type=='xpath'||locator.type=='implicit'){return _closurePolyfill.bot.locators.findElements({xpath:locator.string},inDocument).length;}else{//LOG.error(\"Locator does not use XPath strategy: \" + selector);\nreturn 0;}};/**\n * Returns the number of css results.\n */BrowserBot.prototype.evaluateCssCount=function(selector,inDocument){var locator=(0,_utils.parse_locator)(selector);if(locator.type=='css'||locator.type=='implicit'){return _closurePolyfill.bot.locators.findElements({css:locator.string},inDocument).length;}else{//LOG.error(\"Locator does not use CSS strategy: \" + selector);\nreturn 0;}};/**\n * Finds a link element with text matching the expression supplied. Expressions must\n * begin with \"link:\".\n */BrowserBot.prototype.locateElementByLinkText=function(linkText,inDocument){var links=inDocument.getElementsByTagName('a');for(var i=0;i<links.length;i++){var element=links[i];if(_PatternMatcher2.default.matches(linkText,_closurePolyfill.bot.dom.getVisibleText(element))){return element;}}return null;};BrowserBot.prototype.locateElementByLinkText.prefix='link';/**\n * Returns an attribute based on an attribute locator. This is made up of an element locator\n * suffixed with @attribute-name.\n */BrowserBot.prototype.findAttribute=function(locator){// Split into locator + attributeName\nvar attributePos=locator.lastIndexOf('@');var elementLocator=locator.slice(0,attributePos);var attributeName=locator.slice(attributePos+1);// Find the element.\nvar element=this.findElement(elementLocator);var attributeValue=_closurePolyfill.bot.dom.getAttribute(element,attributeName);return _closurePolyfill2.default.isDefAndNotNull(attributeValue)?attributeValue.toString():null;};/*\n * Select the specified option and trigger the relevant events of the element.\n */BrowserBot.prototype.selectOption=function(element,optionToSelect){_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);var changed=false;for(var i=0;i<element.options.length;i++){var option=element.options[i];if(option.selected&&option!=optionToSelect){option.selected=false;changed=true;}else if(!option.selected&&option==optionToSelect){option.selected=true;changed=true;}}if(changed){_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);}};/*\n * Select the specified option and trigger the relevant events of the element.\n */BrowserBot.prototype.addSelection=function(element,option){this.checkMultiselect(element);_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);if(!option.selected){option.selected=true;_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);}};/*\n * Select the specified option and trigger the relevant events of the element.\n */BrowserBot.prototype.removeSelection=function(element,option){this.checkMultiselect(element);_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);if(option.selected){option.selected=false;_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);}};BrowserBot.prototype.checkMultiselect=function(element){if(!element.multiple){throw new _SeleniumError2.default('Not a multi-select');}};BrowserBot.prototype.replaceText=function(element,stringValue){_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.SELECT);var maxLengthAttr=element.getAttribute('maxLength');var actualValue=stringValue;if(maxLengthAttr!=null){var maxLength=parseInt(maxLengthAttr);if(stringValue.length>maxLength){actualValue=stringValue.substr(0,maxLength);}}if((0,_utils.getTagName)(element)=='body'){if(element.ownerDocument&&element.ownerDocument.designMode){var designMode=new String(element.ownerDocument.designMode).toLowerCase();if(designMode=='on'){// this must be a rich text control!\nelement.innerHTML=actualValue;}}}else{element.value=actualValue;}// DGF this used to be skipped in chrome URLs, but no longer.  Is xpcnativewrappers to blame?\ntry{_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);}catch(e){}// eslint-disable-line no-empty\n};BrowserBot.prototype.clickElement=function(element,clientX,clientY){this._fireEventOnElement('click',element,clientX,clientY);};BrowserBot.prototype.doubleClickElement=function(element,clientX,clientY){this._fireEventOnElement('dblclick',element,clientX,clientY);};// The contextmenu event is fired when the user right-clicks to open the context menu\nBrowserBot.prototype.contextMenuOnElement=function(element,clientX,clientY){this._fireEventOnElement('contextmenu',element,clientX,clientY);};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\n//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/17\nBrowserBot.prototype._modifyElementTarget=function(e){var element=this.findClickableElement(e)||e;if(element.target){if(element.target=='_blank'||/^selenium_blank/.test(element.target)){var tagName=(0,_utils.getTagName)(element);if(tagName=='a'||tagName=='form'){var newTarget='win_ser_'+this.count;this.count+=1;this.browserbot.openWindow('',newTarget);element.target=newTarget;}}else{var _newTarget=element.target;this.browserbot.openWindow('',_newTarget);element.target=_newTarget;}}};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/17\nBrowserBot.prototype.findClickableElement=function(e){if(!e.tagName)return null;var tagName=e.tagName.toLowerCase();var type=e.type;if(e.hasAttribute('onclick')||e.hasAttribute('href')||e.hasAttribute('url')||tagName=='button'||tagName=='input'&&(type=='submit'||type=='button'||type=='image'||type=='radio'||type=='checkbox'||type=='reset')){return e;}else{if(e.parentNode!=null){return this.findClickableElement(e.parentNode);}else{return null;}}};BrowserBot.prototype._handleClickingImagesInsideLinks=function(targetWindow,element){var itrElement=element;while(itrElement!=null){if(itrElement.href){targetWindow.location.href=itrElement.href;break;}itrElement=itrElement.parentNode;}};BrowserBot.prototype._getTargetWindow=function(element){var targetWindow=element.ownerDocument.defaultView;if(element.target){targetWindow=this._getFrameFromGlobal(element.target);}return targetWindow;};BrowserBot.prototype._getFrameFromGlobal=function(target){if(target=='_self'){return this.getCurrentWindow();}if(target=='_top'){return this.topFrame;}else if(target=='_parent'){return this.getCurrentWindow().parent;}else if(target=='_blank'){// TODO should this set cleverer window defaults?\nreturn this.getCurrentWindow().open('','_blank');}var frameElement=this.findElementBy('implicit',target,this.topFrame.document,this.topFrame);if(frameElement){return frameElement.contentWindow;}var win=this.getWindowByName(target);if(win)return win;return this.getCurrentWindow().open('',target);};BrowserBot.prototype.bodyText=function(){if(!this.getDocument().body){throw new _SeleniumError2.default(\"Couldn't access document.body.  Is this HTML page fully loaded?\");}return _closurePolyfill.bot.dom.getVisibleText(this.getDocument().body);};BrowserBot.prototype.getAllButtons=function(){var elements=this.getDocument().getElementsByTagName('input');var result=[];for(var i=0;i<elements.length;i++){if(elements[i].type=='button'||elements[i].type=='submit'||elements[i].type=='reset'){result.push(elements[i].id);}}return result;};BrowserBot.prototype.getAllFields=function(){var elements=this.getDocument().getElementsByTagName('input');var result=[];for(var i=0;i<elements.length;i++){if(elements[i].type=='text'){result.push(elements[i].id);}}return result;};BrowserBot.prototype.getAllLinks=function(){var elements=this.getDocument().getElementsByTagName('a');var result=[];for(var i=0;i<elements.length;i++){result.push(elements[i].id);}return result;};function isDefined(value){return(typeof value==='undefined'?'undefined':_typeof(value))!=undefined;}BrowserBot.prototype.goBack=function(){this.getCurrentWindow().history.back();};BrowserBot.prototype.goForward=function(){this.getCurrentWindow().history.forward();};BrowserBot.prototype.close=function(){if(browserVersion.isIE){// fix \"do you want to close this window\" warning in IE\n// You can only close windows that you have opened.\n// So, let's \"open\" it.\ntry{this.topFrame.name=new Date().getTime();window.open('',this.topFrame.name,'');this.topFrame.close();return;}catch(e){}// eslint-disable-line no-empty\n}if(browserVersion.isChrome||browserVersion.isSafari||browserVersion.isOpera){this.topFrame.close();}else{this.getCurrentWindow().eval('window.top.close();');}};BrowserBot.prototype.refresh=function(){this.getCurrentWindow().location.reload(true);};/**\n * Refine a list of elements using a filter.\n */BrowserBot.prototype.selectElementsBy=function(filterType,filter,elements){var filterFunction=BrowserBot.filterFunctions[filterType];if(!filterFunction){throw new _SeleniumError2.default(\"Unrecognised element-filter type: '\"+filterType+\"'\");}return filterFunction(filter,elements);};BrowserBot.filterFunctions={};BrowserBot.filterFunctions.name=function(name,elements){var selectedElements=[];for(var i=0;i<elements.length;i++){if(elements[i].name===name){selectedElements.push(elements[i]);}}return selectedElements;};BrowserBot.filterFunctions.value=function(value,elements){var selectedElements=[];for(var i=0;i<elements.length;i++){if(elements[i].value===value){selectedElements.push(elements[i]);}}return selectedElements;};BrowserBot.filterFunctions.index=function(index,elements){index=Number(index);if(isNaN(index)||index<0){throw new _SeleniumError2.default('Illegal Index: '+index);}if(elements.length<=index){throw new _SeleniumError2.default('Index out of range: '+index);}return[elements[index]];};BrowserBot.prototype.selectElements=function(filterExpr,elements,defaultFilterType){var filterType=defaultFilterType||'value';// If there is a filter prefix, use the specified strategy\nvar result=filterExpr.match(/^([A-Za-z]+)=(.+)/);if(result){filterType=result[1].toLowerCase();filterExpr=result[2];}return this.selectElementsBy(filterType,filterExpr,elements);};/**\n * Find an element by css selector\n */BrowserBot.prototype.locateElementByCss=function(locator,document){var elements=_closurePolyfill.bot.locators.findElements({css:locator},document);if(elements.length!=0)return elements[0];return null;};/* prompt */BrowserBot.prototype.cancelNextPrompt=function(){return this.setNextPromptResult(null);};BrowserBot.prototype.setNextPromptResult=function(result){this.promptResponse=false;var self=this;window.postMessage({direction:'from-content-script',command:'setNextPromptResult',target:result},'*');var response=new Promise(function(resolve,reject){var count=0;var interval=setInterval(function(){if(!self.promptResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve();self.promptResponse=false;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getPromptMessage=function(){this.promptResponse=false;this.promptMessage=null;var self=this;window.postMessage({direction:'from-content-script',command:'getPromptMessage'},'*');var response=new Promise(function(resolve,reject){var count=0;var interval=setInterval(function(){if(!self.promptResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve(self.promptMessage);self.promptResponse=false;self.promptMessage=null;clearInterval(interval);}},500);});return response;};// confirm\nBrowserBot.prototype.setNextConfirmationResult=function(result){this.confirmationResponse=false;var self=this;window.postMessage({direction:'from-content-script',command:'setNextConfirmationResult',target:result},'*');var response=new Promise(function(resolve,reject){var count=0;var interval=setInterval(function(){if(!self.confirmationResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve();self.confirmationResponse=false;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getConfirmationMessage=function(){this.confirmationResponse=false;this.confirmationMessage=null;var self=this;window.postMessage({direction:'from-content-script',command:'getConfirmationMessage'},'*');var response=new Promise(function(resolve,reject){var count=0;var interval=setInterval(function(){if(!self.confirmationResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve(self.confirmationMessage);self.confirmationResponse=false;self.confirmationMessage=null;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getAlertMessage=function(){var self=this;var response=new Promise(function(resolve,reject){var count=0;var interval=setInterval(function(){if(!self.alertResponse){count++;if(count>60){reject('No response!!!!');clearInterval(interval);}}else{resolve(self.alertMessage);self.alertResponse=false;self.alertMessage=null;clearInterval(interval);}},500);});return response;};/*****************************************************************//* BROWSER-SPECIFIC FUNCTIONS ONLY AFTER THIS LINE */var MozillaBrowserBot=exports.MozillaBrowserBot=function(_BrowserBot){_inherits(MozillaBrowserBot,_BrowserBot);function MozillaBrowserBot(frame){_classCallCheck(this,MozillaBrowserBot);return _possibleConstructorReturn(this,(MozillaBrowserBot.__proto__||Object.getPrototypeOf(MozillaBrowserBot)).call(this,frame));}return MozillaBrowserBot;}(BrowserBot);var KonquerorBrowserBot=exports.KonquerorBrowserBot=function(_BrowserBot2){_inherits(KonquerorBrowserBot,_BrowserBot2);function KonquerorBrowserBot(frame){_classCallCheck(this,KonquerorBrowserBot);return _possibleConstructorReturn(this,(KonquerorBrowserBot.__proto__||Object.getPrototypeOf(KonquerorBrowserBot)).call(this,frame));}return KonquerorBrowserBot;}(BrowserBot);KonquerorBrowserBot.prototype.setIFrameLocation=function(iframe,location){// Window doesn't fire onload event when setting src to the current value,\n// so we set it to blank first.\niframe.src='about:blank';iframe.src=location;};KonquerorBrowserBot.prototype._isSameDocument=function(originalDocument,currentDocument){// under Konqueror, there may be this case:\n// originalDocument and currentDocument are different objects\n// while their location are same.\nif(originalDocument){return originalDocument.location==currentDocument.location;}else{return originalDocument===currentDocument;}};var SafariBrowserBot=exports.SafariBrowserBot=function(_BrowserBot3){_inherits(SafariBrowserBot,_BrowserBot3);function SafariBrowserBot(frame){_classCallCheck(this,SafariBrowserBot);return _possibleConstructorReturn(this,(SafariBrowserBot.__proto__||Object.getPrototypeOf(SafariBrowserBot)).call(this,frame));}return SafariBrowserBot;}(BrowserBot);SafariBrowserBot.prototype.setIFrameLocation=KonquerorBrowserBot.prototype.setIFrameLocation;var OperaBrowserBot=exports.OperaBrowserBot=function(_BrowserBot4){_inherits(OperaBrowserBot,_BrowserBot4);function OperaBrowserBot(frame){_classCallCheck(this,OperaBrowserBot);return _possibleConstructorReturn(this,(OperaBrowserBot.__proto__||Object.getPrototypeOf(OperaBrowserBot)).call(this,frame));}return OperaBrowserBot;}(BrowserBot);OperaBrowserBot.prototype.setIFrameLocation=function(iframe,location){if(iframe.src==location){iframe.src=location+'?reload';}else{iframe.src=location;}};var IEBrowserBot=exports.IEBrowserBot=function(_BrowserBot5){_inherits(IEBrowserBot,_BrowserBot5);function IEBrowserBot(frame){_classCallCheck(this,IEBrowserBot);return _possibleConstructorReturn(this,(IEBrowserBot.__proto__||Object.getPrototypeOf(IEBrowserBot)).call(this,frame));}return IEBrowserBot;}(BrowserBot);IEBrowserBot.prototype._handleClosedSubFrame=function(testWindow,doNotModify){if(this.proxyInjectionMode){return testWindow;}try{testWindow.location.href;this.permDenied=0;}catch(e){this.permDenied++;}if(this._windowClosed(testWindow)||this.permDenied>4){if(this.isSubFrameSelected){//LOG.warn(\"Current subframe appears to have closed; selecting top frame\");\nthis.selectFrame('relative=top');return this.getCurrentWindow(doNotModify);}else{var closedError=new _SeleniumError2.default('Current window or frame is closed!');closedError.windowClosed=true;throw closedError;}}return testWindow;};IEBrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(windowToModify,browserBot){BrowserBot.prototype.modifyWindowToRecordPopUpDialogs(windowToModify,browserBot);// we will call the previous version of this method from within our own interception\nvar oldShowModalDialog=windowToModify.showModalDialog;windowToModify.showModalDialog=function(url,args,features){// Get relative directory to where TestRunner.html lives\n// A risky assumption is that the user's TestRunner is named TestRunner.html\nvar doc_location=document.location.toString();var end_of_base_ref=doc_location.indexOf('TestRunner.html');var base_ref=doc_location.substring(0,end_of_base_ref);var runInterval='';// Only set run interval if options is defined\nif(typeof window.runOptions!='undefined'){runInterval='&runInterval='+runOptions.runInterval;// eslint-disable-line no-undef\n}var testRunnerURL='TestRunner.html?auto=true&singletest='+escape(browserBot.modalDialogTest)+'&autoURL='+escape(url)+runInterval;var fullURL=base_ref+testRunnerURL;browserBot.modalDialogTest=null;// If using proxy injection mode\nif(this.proxyInjectionMode){fullURL=url;}var returnValue=oldShowModalDialog(fullURL,args,features);return returnValue;};};IEBrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads=function(windowObject){this.pageUnloading=false;var self=this;var pageUnloadDetector=function pageUnloadDetector(){self.pageUnloading=true;};if(windowObject.addEventListener){windowObject.addEventListener('beforeunload',pageUnloadDetector,true);}else{windowObject.attachEvent('onbeforeunload',pageUnloadDetector);}BrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads.call(this,windowObject);};IEBrowserBot.prototype.pollForLoad=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){//LOG.debug(\"IEBrowserBot.pollForLoad: \" + marker);\nif(!this.permDeniedCount[marker])this.permDeniedCount[marker]=0;BrowserBot.prototype.pollForLoad.call(this,loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);if(this.pageLoadError){if(this.pageUnloading){//LOG.debug(\"pollForLoad UNLOADING (\" + marker + \"): caught exception while firing events on unloading page: \" + this.pageLoadError.message);\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);this.pageLoadError=null;return;}else if((this.pageLoadError.message=='Permission denied'||/^Access is denied/.test(this.pageLoadError.message))&&this.permDeniedCount[marker]++<8){if(this.permDeniedCount[marker]>4){var canAccessThisWindow=void 0;var canAccessCurrentlySelectedWindow=void 0;try{windowObject.location.href;canAccessThisWindow=true;}catch(e){}// eslint-disable-line no-empty\ntry{this.getCurrentWindow(true).location.href;canAccessCurrentlySelectedWindow=true;}catch(e){}// eslint-disable-line no-empty\nif(canAccessCurrentlySelectedWindow&!canAccessThisWindow){//LOG.debug(\"pollForLoad (\" + marker + \") ABORTING: \" + this.pageLoadError.message + \" (\" + this.permDeniedCount[marker] + \"), but the currently selected window is fine\");\n// returning without rescheduling\nthis.pageLoadError=null;return;}}//LOG.debug(\"pollForLoad (\" + marker + \"): \" + this.pageLoadError.message + \" (\" + this.permDeniedCount[marker] + \"), waiting to see if it goes away\");\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);this.pageLoadError=null;return;}//handy for debugging!\n//throw this.pageLoadError;\n}};IEBrowserBot.prototype._windowClosed=function(win){try{var c=win.closed;// frame windows claim to be non-closed when their parents are closed\n// but you can't access their document objects in that case\nif(!c){try{win.document;}catch(de){if(de.message=='Permission denied'){// the window is probably unloading, which means it's probably not closed yet\nreturn false;}else if(/^Access is denied/.test(de.message)){// rare variation on \"Permission denied\"?\n//LOG.debug(\"IEBrowserBot.windowClosed: got \" + de.message + \" (this.pageUnloading=\" + this.pageUnloading + \"); assuming window is unloading, probably not closed yet\");\nreturn false;}else{// this is probably one of those frame window situations\n//LOG.debug(\"IEBrowserBot.windowClosed: couldn't read win.document, assume closed: \" + de.message + \" (this.pageUnloading=\" + this.pageUnloading + \")\");\nreturn true;}}}if(c==null){//LOG.debug(\"IEBrowserBot.windowClosed: win.closed was null, assuming closed\");\nreturn true;}return c;}catch(e){//LOG.debug(\"IEBrowserBot._windowClosed: Got an exception trying to read win.closed; we'll have to take a guess!\");\nif(browserVersion.isHTA){if(e.message=='Permission denied'){// the window is probably unloading, which means it's not closed yet\nreturn false;}else{// there's a good chance that we've lost contact with the window object if it is closed\nreturn true;}}else{// the window is probably unloading, which means it's not closed yet\nreturn false;}}};/**\n * In IE, getElementById() also searches by name - this is an optimisation for IE.\n */IEBrowserBot.prototype.locateElementByIdentifer=function(identifier,inDocument){return inDocument.getElementById(identifier);};SafariBrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(windowToModify,browserBot){BrowserBot.prototype.modifyWindowToRecordPopUpDialogs(windowToModify,browserBot);var originalOpen=windowToModify.open;/*\n   * Safari seems to be broken, so that when we manually trigger the onclick method\n   * of a button/href, any window.open calls aren't resolved relative to the app location.\n   * So here we replace the open() method with one that does resolve the url correctly.\n   */windowToModify.open=function(url,windowName,windowFeatures,replaceFlag){if(url.startsWith('http://')||url.startsWith('https://')||url.startsWith('/')){return originalOpen(url,windowName,windowFeatures,replaceFlag);}// Reduce the current path to the directory\nvar currentPath=windowToModify.location.pathname||'/';currentPath=currentPath.replace(/\\/[^\\/]*$/,'/');// eslint-disable-line no-useless-escape\n// Remove any leading \"./\" from the new url.\nurl=url.replace(/^\\.\\//,'');var newUrl=currentPath+url;var openedWindow=originalOpen(newUrl,windowName,windowFeatures,replaceFlag);//LOG.debug(\"window.open call intercepted; window ID (which you can use with selectWindow()) is \\\"\" +  windowName + \"\\\"\");\nif(windowName!=null){openedWindow['seleniumWindowName']=windowName;}return openedWindow;};};MozillaBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){var win=this.getCurrentWindow();_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);// Add an event listener that detects if the default action has been prevented.\n// (This is caused by a javascript onclick handler returning false)\n// we capture the whole event, rather than the getPreventDefault() state at the time,\n// because we need to let the entire event bubbling and capturing to go through\n// before making a decision on whether we should force the href\nelement.addEventListener(eventType,function(){},false);//this._modifyElementTarget(element);\n// Trigger the event.\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);if(this._windowClosed(win)){return;}// Perform the link action if preventDefault was set.\n// In chrome URL, the link action is already executed by triggerMouseEvent.\n//if (!browserVersion.isChrome && savedEvent != null && savedEvent.getPreventDefault && !savedEvent.getPreventDefault()) {\n/*\n    if (!browserVersion.isChrome && savedEvent != null && savedEvent.defaultPrevented && !savedEvent.defaultPrevented()) {\n        var targetWindow = this.browserbot._getTargetWindow(element);\n        if (element.href) {\n            targetWindow.location.href = element.href;\n        } else {\n            this.browserbot._handleClickingImagesInsideLinks(targetWindow, element);\n        }\n    }\n    */};OperaBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){var win=this.getCurrentWindow();_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);this._modifyElementTarget(element);// Trigger the click event.\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);if(this._windowClosed(win)){return;}};KonquerorBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){var win=this.getCurrentWindow();_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);this._modifyElementTarget(element);if(element[eventType]){element[eventType]();}else{this.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}if(this._windowClosed(win)){return;}};SafariBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);this._modifyElementTarget(element);// For form element it is simple.\nif(element[eventType]){element[eventType]();}// For links and other elements, event emulation is required.\nelse{// todo: deal with anchors?\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}};SafariBrowserBot.prototype.refresh=function(){var win=this.getCurrentWindow();if(win.location.hash){// DGF Safari refuses to refresh when there's a hash symbol in the URL\nwin.location.hash='';var actuallyReload=function actuallyReload(){win.location.reload(true);};window.setTimeout(actuallyReload,1);}else{win.location.reload(true);}};IEBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){var win=this.getCurrentWindow();_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.FOCUS);var wasChecked=element.checked;// Set a flag that records if the page will unload - this isn't always accurate, because\n// <a href=\"javascript:alert('foo'):\"> triggers the onbeforeunload event, even thought the page won't unload\nvar pageUnloading=false;var pageUnloadDetector=function pageUnloadDetector(){pageUnloading=true;};if(win.addEventListener){win.addEventListener('beforeunload',pageUnloadDetector,true);}else{win.attachEvent('onbeforeunload',pageUnloadDetector);}this._modifyElementTarget(element);if(element[eventType]){element[eventType]();}else{this.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}// If the page is going to unload - still attempt to fire any subsequent events.\n// However, we can't guarantee that the page won't unload half way through, so we need to handle exceptions.\ntry{if(win.removeEventListener){win.removeEventListener('onbeforeunload',pageUnloadDetector,true);}else{win.detachEvent('onbeforeunload',pageUnloadDetector);}if(this._windowClosed(win)){return;}// Onchange event is not triggered automatically in IE.\nif(isDefined(element.checked)&&wasChecked!=element.checked){_closurePolyfill.bot.events.fire(element,_closurePolyfill.bot.events.EventType.CHANGE);}}catch(e){// If the page is unloading, we may get a \"Permission denied\" or \"Unspecified error\".\n// Just ignore it, because the document may have unloaded.\nif(pageUnloading){//LOG.logHook = function() {\n//};\n//LOG.warn(\"Caught exception when firing events on unloading page: \" + e.message);\nreturn;}throw e;}};;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(browserVersion,'browserVersion','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(BrowserBot,'BrowserBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(PageBot,'PageBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(encodeURIComponentWithASPHack,'encodeURIComponentWithASPHack','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(isDefined,'isDefined','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(MozillaBrowserBot,'MozillaBrowserBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(KonquerorBrowserBot,'KonquerorBrowserBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(SafariBrowserBot,'SafariBrowserBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(OperaBrowserBot,'OperaBrowserBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');__REACT_HOT_LOADER__.register(IEBrowserBot,'IEBrowserBot','/opt/selenium-ide/packages/selenium-ide/src/content/selenium-browserbot.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9zZWxlbml1bS1icm93c2VyYm90LmpzPzExMzAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTp0cnVlfSk7ZXhwb3J0cy5JRUJyb3dzZXJCb3Q9ZXhwb3J0cy5PcGVyYUJyb3dzZXJCb3Q9ZXhwb3J0cy5TYWZhcmlCcm93c2VyQm90PWV4cG9ydHMuS29ucXVlcm9yQnJvd3NlckJvdD1leHBvcnRzLk1vemlsbGFCcm93c2VyQm90PWV4cG9ydHMuZGVmYXVsdD1leHBvcnRzLmJyb3dzZXJWZXJzaW9uPXVuZGVmaW5lZDt2YXIgX3R5cGVvZj10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT09XCJzeW1ib2xcIj9mdW5jdGlvbihvYmope3JldHVybiB0eXBlb2Ygb2JqO306ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZ0eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqO307dmFyIF9zZWxlbml1bUFwaT1yZXF1aXJlKCcuL3NlbGVuaXVtLWFwaScpO3ZhciBfc2VsZW5pdW1BcGkyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVuaXVtQXBpKTt2YXIgX1NlbGVuaXVtRXJyb3I9cmVxdWlyZSgnLi9TZWxlbml1bUVycm9yJyk7dmFyIF9TZWxlbml1bUVycm9yMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlbml1bUVycm9yKTt2YXIgX2NvbW1hbmRzQXBpPXJlcXVpcmUoJy4vY29tbWFuZHMtYXBpJyk7dmFyIF9jbG9zdXJlUG9seWZpbGw9cmVxdWlyZSgnLi9jbG9zdXJlLXBvbHlmaWxsJyk7dmFyIF9jbG9zdXJlUG9seWZpbGwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nsb3N1cmVQb2x5ZmlsbCk7dmFyIF91dGlscz1yZXF1aXJlKCcuL3V0aWxzJyk7dmFyIF9QYXR0ZXJuTWF0Y2hlcj1yZXF1aXJlKCcuL1BhdHRlcm5NYXRjaGVyJyk7dmFyIF9QYXR0ZXJuTWF0Y2hlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGF0dGVybk1hdGNoZXIpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfTt9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09XCJvYmplY3RcInx8dHlwZW9mIGNhbGw9PT1cImZ1bmN0aW9uXCIpP2NhbGw6c2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09XCJmdW5jdGlvblwiJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtpZihzdXBlckNsYXNzKU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3M7fWZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosa2V5LHZhbHVlKXtpZihrZXkgaW4gb2JqKXtPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLGtleSx7dmFsdWU6dmFsdWUsZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlLHdyaXRhYmxlOnRydWV9KTt9ZWxzZXtvYmpba2V5XT12YWx1ZTt9cmV0dXJuIG9iajt9ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO319LypcbiAqIENvcHlyaWdodCAyMDExIFNvZnR3YXJlIEZyZWVkb20gQ29uc2VydmFuY3lcbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovLypcbiAqIFRoaXMgc2NyaXB0IHByb3ZpZGVzIHRoZSBKYXZhc2NyaXB0IEFQSSB0byBkcml2ZSB0aGUgdGVzdCBhcHBsaWNhdGlvbiBjb250YWluZWQgd2l0aGluXG4gKiBhIEJyb3dzZXIgV2luZG93LlxuICogVE9ETzpcbiAqICAgIEFkZCBzdXBwb3J0IGZvciBtb3JlIGV2ZW50cyAoa2V5Ym9hcmQgYW5kIG1vdXNlKVxuICogICAgQWxsb3cgdG8gc3dpdGNoIFwidXNlci1lbnRyeVwiIG1vZGUgZnJvbSBtb3VzZS1iYXNlZCB0byBrZXlib2FyZC1iYXNlZCwgZmlyaW5nIGRpZmZlcmVudFxuICogICAgICAgICAgZXZlbnRzIGluIGRpZmZlcmVudCBtb2Rlcy5cbiAqL3ZhciBicm93c2VyVmVyc2lvbj1leHBvcnRzLmJyb3dzZXJWZXJzaW9uPW5ldyB3aW5kb3cuZ2xvYmFsLkJyb3dzZXJWZXJzaW9uKCk7d2luZG93Lmdsb2JhbC5icm93c2VyVmVyc2lvbj1icm93c2VyVmVyc2lvbjsvLyBUaGUgd2luZG93IHRvIHdoaWNoIHRoZSBjb21tYW5kcyB3aWxsIGJlIHNlbnQuICBGb3IgZXhhbXBsZSwgdG8gY2xpY2sgb24gYVxuLy8gcG9wdXAgd2luZG93LCBmaXJzdCBzZWxlY3QgdGhhdCB3aW5kb3csIGFuZCB0aGVuIGRvIGEgbm9ybWFsIGNsaWNrIGNvbW1hbmQuXG52YXIgQnJvd3NlckJvdD1mdW5jdGlvbiBCcm93c2VyQm90KHRvcExldmVsQXBwbGljYXRpb25XaW5kb3cpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJyb3dzZXJCb3QpO3RoaXMudG9wV2luZG93PXRvcExldmVsQXBwbGljYXRpb25XaW5kb3c7dGhpcy50b3BGcmFtZT10aGlzLnRvcFdpbmRvdzt0aGlzLmJhc2VVcmw9d2luZG93LmxvY2F0aW9uLmhyZWY7X2Nsb3N1cmVQb2x5ZmlsbC5ib3Quc2V0V2luZG93KHdpbmRvdyk7Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMDUvMjZcbnRoaXMuY291bnQ9MTsvLyB0aGUgYnV0dG9uV2luZG93IGlzIHRoZSBTZWxlbml1bSB3aW5kb3dcbi8vIGl0IGNvbnRhaW5zIHRoZSBSdW4vUGF1c2UgYnV0dG9ucy4uLiB0aGlzIHNob3VsZCAqbm90KiBiZSB0aGUgQVVUIHdpbmRvd1xudGhpcy5idXR0b25XaW5kb3c9d2luZG93O3RoaXMuY3VycmVudFdpbmRvdz10aGlzLnRvcFdpbmRvdzt0aGlzLmN1cnJlbnRXaW5kb3dOYW1lPW51bGw7dGhpcy5hbGxvd05hdGl2ZVhwYXRoPXRydWU7dGhpcy54cGF0aEV2YWx1YXRvcj1uZXcgWFBhdGhFdmFsdWF0b3IoJ2FqYXhzbHQnKTsvLyBjaGFuZ2UgdG8gXCJqYXZhc2NyaXB0LXhwYXRoXCIgZm9yIHRoZSBuZXdlciwgZmFzdGVyIGVuZ2luZVxuLy8gV2UgbmVlZCB0byBrbm93IHRoaXMgaW4gYWR2YW5jZSwgaW4gY2FzZSB0aGUgZnJhbWUgY2xvc2VzIHVuZXhwZWN0ZWRseVxudGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ9ZmFsc2U7dGhpcy5hbHRLZXlEb3duPWZhbHNlO3RoaXMuY29udHJvbEtleURvd249ZmFsc2U7dGhpcy5zaGlmdEtleURvd249ZmFsc2U7dGhpcy5tZXRhS2V5RG93bj1mYWxzZTt0aGlzLm1vZGFsRGlhbG9nVGVzdD1udWxsO3RoaXMucmVjb3JkZWRBbGVydHM9bmV3IEFycmF5KCk7dGhpcy5yZWNvcmRlZENvbmZpcm1hdGlvbnM9bmV3IEFycmF5KCk7dGhpcy5yZWNvcmRlZFByb21wdHM9bmV3IEFycmF5KCk7dGhpcy5vcGVuZWRXaW5kb3dzPXt9Oy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzA1LzI2XG50aGlzLm9wZW5lZFdpbmRvd3NbJ3dpbl9zZXJfbG9jYWwnXT10aGlzLnRvcFdpbmRvdzt0aGlzLm5leHRDb25maXJtUmVzdWx0PXRydWU7dGhpcy5uZXh0UHJvbXB0UmVzdWx0PScnO3RoaXMubmV3UGFnZUxvYWRlZD1mYWxzZTt0aGlzLnBhZ2VMb2FkRXJyb3I9bnVsbDt0aGlzLmlnbm9yZVJlc3BvbnNlQ29kZT1mYWxzZTt0aGlzLnhocj1udWxsO3RoaXMuYWJvcnRYaHI9ZmFsc2U7dGhpcy5pc1hoclNlbnQ9ZmFsc2U7dGhpcy5pc1hockRvbmU9ZmFsc2U7dGhpcy54aHJPcGVuTG9jYXRpb249bnVsbDt0aGlzLnhoclJlc3BvbnNlQ29kZT1udWxsO3RoaXMueGhyU3RhdHVzVGV4dD1udWxsO3RoaXMuc2hvdWxkSGlnaGxpZ2h0TG9jYXRlZEVsZW1lbnQ9ZmFsc2U7dGhpcy51bmlxdWVJZD0nc2VsZW5pdW1NYXJrZXInK25ldyBEYXRlKCkuZ2V0VGltZSgpO3RoaXMucG9sbGluZ0ZvckxvYWQ9bmV3IE9iamVjdCgpO3RoaXMucGVybURlbmllZENvdW50PW5ldyBPYmplY3QoKTt0aGlzLndpbmRvd1BvbGxlcnM9bmV3IEFycmF5KCk7Ly8gREdGIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxudGhpcy5icm93c2VyYm90PXRoaXM7dmFyIHNlbGY9dGhpcztPYmplY3QuYXNzaWduKHRoaXMsUGFnZUJvdC5wcm90b3R5cGUpO3RoaXMuX3JlZ2lzdGVyQWxsTG9jYXRvckZ1bmN0aW9ucygpO3RoaXMucmVjb3JkUGFnZUxvYWQ9ZnVuY3Rpb24oKXtzZWxmLm5ld1BhZ2VMb2FkZWQ9dHJ1ZTt9O3RoaXMuaXNOZXdQYWdlTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO2lmKHRoaXMucGFnZUxvYWRFcnJvcil7ZT10aGlzLnBhZ2VMb2FkRXJyb3I7dGhpcy5wYWdlTG9hZEVycm9yPW51bGw7dGhyb3cgZTt9aWYoc2VsZi5pZ25vcmVSZXNwb25zZUNvZGUpe3JldHVybiBzZWxmLm5ld1BhZ2VMb2FkZWQ7fWVsc2V7aWYoc2VsZi5pc1hoclNlbnQmJnNlbGYuaXNYaHJEb25lKXtpZighKHNlbGYueGhyUmVzcG9uc2VDb2RlPj0yMDAmJnNlbGYueGhyUmVzcG9uc2VDb2RlPD0zOTl8fHNlbGYueGhyUmVzcG9uc2VDb2RlPT0wKSl7Ly8gVE9ETzogZm9yIElFIHN0YXR1cyBsaWtlOiAxMjAwMiwgMTIwMDcsIC4uLiBwcm92aWRlIGNvcnJlc3BvbmRpbmcgc3RhdHVzVGV4dCBtZXNzYWdlcyBhbHNvLlxuZT0nWEhSIEVSUk9SOiBVUkwgPSAnK3NlbGYueGhyT3BlbkxvY2F0aW9uKycgUmVzcG9uc2VfQ29kZSA9ICcrc2VsZi54aHJSZXNwb25zZUNvZGUrJyBFcnJvcl9NZXNzYWdlID0gJytzZWxmLnhoclN0YXR1c1RleHQ7c2VsZi5hYm9ydFhocj1mYWxzZTtzZWxmLmlzWGhyU2VudD1mYWxzZTtzZWxmLmlzWGhyRG9uZT1mYWxzZTtzZWxmLnhoclJlc3BvbnNlQ29kZT1udWxsO3NlbGYueGhyU3RhdHVzVGV4dD1udWxsO3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdChlKTt9fXJldHVybiBzZWxmLm5ld1BhZ2VMb2FkZWQmJihzZWxmLmlzWGhyU2VudD9zZWxmLmFib3J0WGhyfHxzZWxmLmlzWGhyRG9uZTp0cnVlKTt9fTt0aGlzLnNldEFsbG93TmF0aXZlWFBhdGg9ZnVuY3Rpb24oYWxsb3cpe3RoaXMueHBhdGhFdmFsdWF0b3Iuc2V0QWxsb3dOYXRpdmVYUGF0aChhbGxvdyk7fTt0aGlzLnNldElnbm9yZUF0dHJpYnV0ZXNXaXRob3V0VmFsdWU9ZnVuY3Rpb24oaWdub3JlKXt0aGlzLnhwYXRoRXZhbHVhdG9yLnNldElnbm9yZUF0dHJpYnV0ZXNXaXRob3V0VmFsdWUoaWdub3JlKTt9O3RoaXMuc2V0WFBhdGhFbmdpbmU9ZnVuY3Rpb24oZW5naW5lTmFtZSl7dGhpcy54cGF0aEV2YWx1YXRvci5zZXRDdXJyZW50RW5naW5lKGVuZ2luZU5hbWUpO307dGhpcy5nZXRYUGF0aEVuZ2luZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhwYXRoRXZhbHVhdG9yLmdldEN1cnJlbnRFbmdpbmUoKTt9O307Ly8gREdGIFBhZ2VCb3QgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIG9sZCB1c2VyLWV4dGVuc2lvbnNcbmV4cG9ydHMuZGVmYXVsdD1Ccm93c2VyQm90O3ZhciBQYWdlQm90PWZ1bmN0aW9uIFBhZ2VCb3QoKXt9O0Jyb3dzZXJCb3QuY3JlYXRlRm9yV2luZG93PWZ1bmN0aW9uKHdpbmRvdyxwcm94eUluamVjdGlvbk1vZGUpe3ZhciBicm93c2VyYm90PXZvaWQgMDtpZihicm93c2VyVmVyc2lvbi5pc0lFKXticm93c2VyYm90PW5ldyBJRUJyb3dzZXJCb3Qod2luZG93KTt9ZWxzZSBpZihicm93c2VyVmVyc2lvbi5pc0tvbnF1ZXJvcil7YnJvd3NlcmJvdD1uZXcgS29ucXVlcm9yQnJvd3NlckJvdCh3aW5kb3cpO31lbHNlIGlmKGJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpe2Jyb3dzZXJib3Q9bmV3IE9wZXJhQnJvd3NlckJvdCh3aW5kb3cpO31lbHNlIGlmKGJyb3dzZXJWZXJzaW9uLmlzU2FmYXJpKXticm93c2VyYm90PW5ldyBTYWZhcmlCcm93c2VyQm90KHdpbmRvdyk7fWVsc2V7Ly8gVXNlIG1vemlsbGEgYnkgZGVmYXVsdFxuYnJvd3NlcmJvdD1uZXcgTW96aWxsYUJyb3dzZXJCb3Qod2luZG93KTt9Ly8gZ2V0Q3VycmVudFdpbmRvdyBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIG1vZGlmeWluZyBpdCB0byBoYW5kbGUgcGFnZSBsb2FkcyBldGNcbmJyb3dzZXJib3QucHJveHlJbmplY3Rpb25Nb2RlPXByb3h5SW5qZWN0aW9uTW9kZTticm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTsvLyBmb3IgbW9kaWZ5V2luZG93IHNpZGUgZWZmZWN0LiAgVGhpcyBpcyBub3QgYSB0cmFuc3BhcmVudCBzdHlsZVxucmV0dXJuIGJyb3dzZXJib3Q7fTsvLyB0b2RvOiByZW5hbWU/ICBUaGlzIGRvZXNuJ3QgYWN0dWFsbHkgXCJkb1wiIGFueXRoaW5nLlxuQnJvd3NlckJvdC5wcm90b3R5cGUuZG9Nb2RhbERpYWxvZ1Rlc3Q9ZnVuY3Rpb24odGVzdCl7dGhpcy5tb2RhbERpYWxvZ1Rlc3Q9dGVzdDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmNhbmNlbE5leHRDb25maXJtYXRpb249ZnVuY3Rpb24ocmVzdWx0KXt0aGlzLm5leHRDb25maXJtUmVzdWx0PXJlc3VsdDt9Oy8vQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0TmV4dFByb21wdFJlc3VsdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuLy90aGlzLm5leHRSZXN1bHQgPSByZXN1bHQ7XG4vL307XG5Ccm93c2VyQm90LnByb3RvdHlwZS5oYXNBbGVydHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRlZEFsZXJ0cy5sZW5ndGg+MDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlbGF5Qm90VG9SQz1mdW5jdGlvbihzKXsvLyBER0YgbmVlZCB0byBkbyB0aGlzIGZ1bm55IHRyaWNrIHRvIHNlZSBpZiB3ZSdyZSBpbiBQSSBtb2RlLCBiZWNhdXNlXG4vLyBcInRoaXNcIiBtaWdodCBiZSB0aGUgd2luZG93LCByYXRoZXIgdGhhbiB0aGUgYnJvd3NlcmJvdCAoZS5nLiBkdXJpbmcgd2luZG93LmFsZXJ0KVxudmFyIHBpTW9kZT10aGlzLnByb3h5SW5qZWN0aW9uTW9kZTtpZighcGlNb2RlKXtpZih0eXBlb2YgX2NvbW1hbmRzQXBpLnNlbGVuaXVtIT0ndW5kZWZpbmVkJyl7cGlNb2RlPV9jb21tYW5kc0FwaS5zZWxlbml1bS5icm93c2VyYm90JiZfY29tbWFuZHNBcGkuc2VsZW5pdW0uYnJvd3NlcmJvdC5wcm94eUluamVjdGlvbk1vZGU7fX1pZihwaU1vZGUpe3RoaXMucmVsYXlUb1JDKCdzZWxlbml1bS4nK3MpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlbGF5VG9SQz1mdW5jdGlvbigpe3JldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUucmVzZXRQb3B1cHM9ZnVuY3Rpb24oKXt0aGlzLnJlY29yZGVkQWxlcnRzPVtdO3RoaXMucmVjb3JkZWRDb25maXJtYXRpb25zPVtdO3RoaXMucmVjb3JkZWRQcm9tcHRzPVtdO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0TmV4dEFsZXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWNvcmRlZEFsZXJ0cy5zaGlmdCgpO2lmKHQpe3Q9dC5yZXBsYWNlKC9cXG4vZywnICcpOy8vIGJlY2F1c2UgU2VsZW5lc2UgbG9zZXMgXFxuJ3Mgd2hlbiByZXRyaWV2aW5nIHRleHQgZnJvbSBIVE1MIHRhYmxlXG59dGhpcy5yZWxheUJvdFRvUkMoJ2Jyb3dzZXJib3QucmVjb3JkZWRBbGVydHMnKTtyZXR1cm4gdDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmhhc0NvbmZpcm1hdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRlZENvbmZpcm1hdGlvbnMubGVuZ3RoPjA7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXROZXh0Q29uZmlybWF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWNvcmRlZENvbmZpcm1hdGlvbnMuc2hpZnQoKTt0aGlzLnJlbGF5Qm90VG9SQygnYnJvd3NlcmJvdC5yZWNvcmRlZENvbmZpcm1hdGlvbnMnKTtyZXR1cm4gdDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmhhc1Byb21wdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWNvcmRlZFByb21wdHMubGVuZ3RoPjA7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXROZXh0UHJvbXB0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWNvcmRlZFByb21wdHMuc2hpZnQoKTt0aGlzLnJlbGF5Qm90VG9SQygnYnJvd3NlcmJvdC5yZWNvcmRlZFByb21wdHMnKTtyZXR1cm4gdDt9Oy8qIEZpcmUgYSBtb3VzZSBldmVudCBpbiBhIGJyb3dzZXItY29tcGF0aWJsZSBtYW5uZXIgKi9Ccm93c2VyQm90LnByb3RvdHlwZS50cmlnZ2VyTW91c2VFdmVudD1mdW5jdGlvbihlbGVtZW50LGV2ZW50VHlwZSxjYW5CdWJibGUsY2xpZW50WCxjbGllbnRZLGJ1dHRvbil7Y2xpZW50WD1jbGllbnRYP2NsaWVudFg6MDtjbGllbnRZPWNsaWVudFk/Y2xpZW50WTowOy8vTE9HLmRlYnVnKFwidHJpZ2dlck1vdXNlRXZlbnQgYXNzdW1lcyBzZXR0aW5nIHNjcmVlblggYW5kIHNjcmVlblkgdG8gMCBpcyBva1wiKTtcbnZhciBzY3JlZW5YPTA7dmFyIHNjcmVlblk9MDtjYW5CdWJibGU9KHR5cGVvZiBjYW5CdWJibGU9PT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKGNhbkJ1YmJsZSkpPT11bmRlZmluZWQ/dHJ1ZTpjYW5CdWJibGU7dmFyIGRvYz1fY2xvc3VyZVBvbHlmaWxsMi5kZWZhdWx0LmRvbS5nZXRPd25lckRvY3VtZW50KGVsZW1lbnQpO3ZhciB2aWV3PV9jbG9zdXJlUG9seWZpbGwyLmRlZmF1bHQuZG9tLmdldFdpbmRvdyhkb2MpO3ZhciBldnQ9ZG9jLmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO2lmKGV2dC5pbml0TW91c2VFdmVudCl7Ly8gc2VlIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9ET006ZXZlbnQuYnV0dG9uIGFuZFxuLy8gaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL0RPTTpldmVudC5pbml0TW91c2VFdmVudCBmb3IgYnV0dG9uIHRlcm5hcnkgbG9naWMgbG9naWNcbi8vU2FmYXJpXG5ldnQuaW5pdE1vdXNlRXZlbnQoZXZlbnRUeXBlLGNhbkJ1YmJsZSx0cnVlLHZpZXcsMSxzY3JlZW5YLHNjcmVlblksY2xpZW50WCxjbGllbnRZLHRoaXMuY29udHJvbEtleURvd24sdGhpcy5hbHRLZXlEb3duLHRoaXMuc2hpZnRLZXlEb3duLHRoaXMubWV0YUtleURvd24sYnV0dG9uP2J1dHRvbjowLG51bGwpO31lbHNley8vTE9HLndhcm4oXCJlbGVtZW50IGRvZXNuJ3QgaGF2ZSBpbml0TW91c2VFdmVudDsgZmlyaW5nIGFuIGV2ZW50IHdoaWNoIHNob3VsZCAtLSBidXQgZG9lc24ndCAtLSBoYXZlIG90aGVyIG1vdXNlLWV2ZW50IHJlbGF0ZWQgYXR0cmlidXRlcyBoZXJlLCBhcyB3ZWxsIGFzIGNvbnRyb2xLZXlEb3duLCBhbHRLZXlEb3duLCBzaGlmdEtleURvd24sIG1ldGFLZXlEb3duXCIpO1xuZXZ0LmluaXRFdmVudChldmVudFR5cGUsY2FuQnViYmxlLHRydWUpO2V2dC5zaGlmdEtleT10aGlzLnNoaWZ0S2V5RG93bjtldnQubWV0YUtleT10aGlzLm1ldGFLZXlEb3duO2V2dC5hbHRLZXk9dGhpcy5hbHRLZXlEb3duO2V2dC5jdHJsS2V5PXRoaXMuY29udHJvbEtleURvd247aWYoYnV0dG9uKXtldnQuYnV0dG9uPWJ1dHRvbjt9fWVsZW1lbnQuZGlzcGF0Y2hFdmVudChldnQpO307Ly9EcmFnQW5kRHJvcEV4dCwgU2h1by1IZW5nIFNoaWgsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzEwLzE3XG5Ccm93c2VyQm90LnByb3RvdHlwZS50cmlnZ2VyRHJhZ0V2ZW50PWZ1bmN0aW9uKGVsZW1lbnQsdGFyZ2V0KXt2YXIgZ2V0WHBhdGhPZkVsZW1lbnQ9ZnVuY3Rpb24gZ2V0WHBhdGhPZkVsZW1lbnQoZWxlbWVudCl7aWYoZWxlbWVudD09bnVsbCl7cmV0dXJuJ251bGwnO31pZihlbGVtZW50LnBhcmVudEVsZW1lbnQ9PW51bGwpe3JldHVybicvJytlbGVtZW50LnRhZ05hbWU7fXZhciBzaWJsaW5nRWxlbWVudD1lbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW47dmFyIHRhZ0NvdW50PTA7dmFyIHRvdGFsVGFnQ291bnQ9MDt2YXIgaXNGb3VuZD1mYWxzZTtmb3IodmFyIGk9MDtpPHNpYmxpbmdFbGVtZW50Lmxlbmd0aDtpKyspe2lmKHNpYmxpbmdFbGVtZW50W2ldLnRhZ05hbWU9PWVsZW1lbnQudGFnTmFtZSYmIWlzRm91bmQpe3RhZ0NvdW50Kys7dG90YWxUYWdDb3VudCsrO31lbHNlIGlmKHNpYmxpbmdFbGVtZW50W2ldLnRhZ05hbWU9PWVsZW1lbnQudGFnTmFtZSl7dG90YWxUYWdDb3VudCsrO31pZihzaWJsaW5nRWxlbWVudFtpXT09ZWxlbWVudCl7aXNGb3VuZD10cnVlO319aWYodG90YWxUYWdDb3VudD4xKXtyZXR1cm4gZ2V0WHBhdGhPZkVsZW1lbnQoZWxlbWVudC5wYXJlbnRFbGVtZW50KSsnLycrZWxlbWVudC50YWdOYW1lKydbJyt0YWdDb3VudCsnXSc7fXJldHVybiBnZXRYcGF0aE9mRWxlbWVudChlbGVtZW50LnBhcmVudEVsZW1lbnQpKycvJytlbGVtZW50LnRhZ05hbWU7fTt2YXIgc2NyaXB0PVwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgIGZ1bmN0aW9uIHNpbXVsYXRlRHJhZ0Ryb3Aoc291cmNlTm9kZSwgZGVzdGluYXRpb25Ob2RlKXtcXFxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDdXN0b21FdmVudCh0eXBlKSB7ICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnQ3VzdG9tRXZlbnQnKTsgICAgICAgIFxcXG4gICAgICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgbnVsbCk7ICAgICBcXFxuICAgICAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyID0geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgICAgICBkYXRhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIHNldERhdGE6IGZ1bmN0aW9uKHR5cGUsIHZhbCkgeyAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW3R5cGVdID0gdmFsOyAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKHR5cGUpIHsgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0eXBlXTsgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgIHJldHVybiBldmVudDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIGV2ZW50KSB7ICAgICAgICAgICAgXFxcbiAgICAgICAgICAgIGlmIChub2RlLmRpc3BhdGNoRXZlbnQpIHsgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7ICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgIGlmIChub2RlLmZpcmVFdmVudCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmlyZUV2ZW50KCdvbicgKyB0eXBlLCBldmVudCk7ICAgICBcXFxuICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgIHZhciBldmVudCA9IGNyZWF0ZUN1c3RvbUV2ZW50KCdkcmFnc3RhcnQnKTsgICAgICAgICAgICBcXFxuICAgICAgICBkaXNwYXRjaEV2ZW50KHNvdXJjZU5vZGUsICdkcmFnc3RhcnQnLCBldmVudCk7ICAgICAgICAgXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgIHZhciBkcm9wRXZlbnQgPSBjcmVhdGVDdXN0b21FdmVudCgnZHJvcCcpOyAgICAgICAgICAgICBcXFxuICAgICAgICBkcm9wRXZlbnQuZGF0YVRyYW5zZmVyID0gZXZlbnQuZGF0YVRyYW5zZmVyOyAgICAgICAgICAgXFxcbiAgICAgICAgZGlzcGF0Y2hFdmVudChkZXN0aW5hdGlvbk5vZGUsICdkcm9wJywgZHJvcEV2ZW50KTsgICAgIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICB2YXIgZHJhZ0VuZEV2ZW50ID0gY3JlYXRlQ3VzdG9tRXZlbnQoJ2RyYWdlbmQnKTsgICAgICAgXFxcbiAgICAgICAgZHJhZ0VuZEV2ZW50LmRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlcjsgICAgICAgIFxcXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoc291cmNlTm9kZSwgJ2RyYWdlbmQnLCBkcmFnRW5kRXZlbnQpOyAgICBcXFxuICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICBzaW11bGF0ZURyYWdEcm9wKGRvY3VtZW50LmV2YWx1YXRlKCdcIitnZXRYcGF0aE9mRWxlbWVudChlbGVtZW50KStcIicsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlLCBkb2N1bWVudC5ldmFsdWF0ZSgnXCIrZ2V0WHBhdGhPZkVsZW1lbnQodGFyZ2V0KStcIicsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlKTtcXFxuICAgIFwiO3ZhciB3aW49dGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTt2YXIgZG9jPXdpbi5kb2N1bWVudDt2YXIgc2NyaXB0VGFnPWRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtzY3JpcHRUYWcudHlwZT0ndGV4dC9qYXZhc2NyaXB0JztzY3JpcHRUYWcudGV4dD1zY3JpcHQ7ZG9jLmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl93aW5kb3dDbG9zZWQ9ZnVuY3Rpb24od2luKXt0cnl7dmFyIGM9d2luLmNsb3NlZDtpZihjPT1udWxsKXJldHVybiB0cnVlO3JldHVybiBjO31jYXRjaChpZ25vcmVkKXsvLyBGaXJlZm94IDE1KyBtYXkgYWxyZWFkeSBoYXZlIG1hcmtlZCB0aGUgd2luIGRlYWQuIEFjY2Vzc2luZyBpdFxuLy8gY2F1c2VzIGFuIGV4Y2VwdGlvbiB0byBiZSB0aHJvd24uIFRoYXQgZXhjZXB0aW9uIHRlbGxzIHVzIHRoZSB3aW5kb3dcbi8vIGlzIGNsb3NlZC5cbnJldHVybiB0cnVlO319O0Jyb3dzZXJCb3QudW5pcXVlS2V5PTE7QnJvd3NlckJvdC5wcm90b3R5cGUuX21vZGlmeVdpbmRvdz1mdW5jdGlvbih3aW4pey8vIEluIHByb3h5SW5qZWN0aW9uTW9kZSwgaGF2ZSB0byBzdXBwcmVzcyAvL0xPRyBjYWxscyBpbiBfbW9kaWZ5V2luZG93IHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbmlmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW4pKXtpZighdGhpcy5wcm94eUluamVjdGlvbk1vZGUpey8vTE9HLmVycm9yKFwibW9kaWZ5V2luZG93OiBXaW5kb3cgd2FzIGNsb3NlZCFcIik7XG59cmV0dXJuIG51bGw7fWlmKCF0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7fS8vTE9HLmRlYnVnKCdtb2RpZnlXaW5kb3cgJyArIHRoaXMudW5pcXVlSWQgKyBcIjpcIiArIHdpblt0aGlzLnVuaXF1ZUlkXSk7XG4vLyBBc3NpZ24gYSB1bmlxdWUgbGFiZWwgZm9yIHRoaXMgd2luZG93LiBXZSBzZXQgdGhpcyBvbiBhIGtub3duIGF0dHJpYnV0ZSBzbyB3ZSBjYW4gcmVsaWFibHlcbi8vIGZpbmQgaXQgbGF0ZXIuIFRoaXMgaXMgc2xpZ2h0bHkgZGlmZmVyZW50IGZyb20gdW5pcXVlSWQuXG53aW4uc2VsZW5pdW1LZXk9QnJvd3NlckJvdC51bmlxdWVLZXkrKzt0cnl7dGhpcy5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncyh3aW4sdGhpcyk7fWNhdGNoKGV4KXtjb25zb2xlLmVycm9yKGV4KTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbn0vL0NvbW1lbnRpbmcgb3V0IGZvciBpc3N1ZSAxODU0XG4vL3dpblt0aGlzLnVuaXF1ZUlkXSA9IDE7XG4vLyBJbiBwcm94eUluamVjdGlvbiBtb2RlLCB3ZSBoYXZlIG91ciBvd24gbWVjaGFuaXNtIGZvciBkZXRlY3RpbmcgcGFnZSBsb2Fkc1xuaWYoIXRoaXMucHJveHlJbmplY3Rpb25Nb2RlKXt0aGlzLm1vZGlmeVNlcGFyYXRlVGVzdFdpbmRvd1RvRGV0ZWN0UGFnZUxvYWRzKHdpbik7fWlmKHdpbi5mcmFtZXMmJndpbi5mcmFtZXMubGVuZ3RoJiZ3aW4uZnJhbWVzLmxlbmd0aD4wKXtmb3IodmFyIGk9MDtpPHdpbi5mcmFtZXMubGVuZ3RoO2krKyl7dHJ5e3RoaXMuX21vZGlmeVdpbmRvdyh3aW4uZnJhbWVzW2ldKTt9Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbi8vIHdlJ3JlIGp1c3QgdHJ5aW5nIHRvIGJlIG9wcG9ydHVuaXN0aWM7IGRvbid0IHdvcnJ5IGlmIHRoaXMgZG9lc24ndCB3b3JrIG91dFxufX1yZXR1cm4gd2luO307QnJvd3NlckJvdC5wcm90b3R5cGUuc2VsZWN0V2luZG93PWZ1bmN0aW9uKHRhcmdldCl7aWYoIXRhcmdldHx8dGFyZ2V0PT0nbnVsbCcpe3RoaXMuX3NlbGVjdFRvcFdpbmRvdygpO3JldHVybjt9dmFyIHJlc3VsdD10YXJnZXQubWF0Y2goL14oW2EtekEtWl0rKT0oLiopLyk7aWYoIXJlc3VsdCl7dGhpcy5fc2VsZWN0V2luZG93QnlXaW5kb3dJZCh0YXJnZXQpO3JldHVybjt9dmFyIGxvY2F0b3JUeXBlPXJlc3VsdFsxXTt2YXIgbG9jYXRvclZhbHVlPXJlc3VsdFsyXTtpZihsb2NhdG9yVHlwZT09J3RpdGxlJyl7dGhpcy5fc2VsZWN0V2luZG93QnlUaXRsZShsb2NhdG9yVmFsdWUpO30vLyBUT0RPIHNlcGFyYXRlIG5hbWUgYW5kIHZhciBpbnRvIHNlcGFyYXRlIGZ1bmN0aW9uc1xuZWxzZSBpZihsb2NhdG9yVHlwZT09J25hbWUnKXt0aGlzLl9zZWxlY3RXaW5kb3dCeU5hbWUobG9jYXRvclZhbHVlKTt9ZWxzZSBpZihsb2NhdG9yVHlwZT09J3Zhcicpe3ZhciB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCkuZXZhbChsb2NhdG9yVmFsdWUpO2lmKHdpbil7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKHdpbi5uYW1lKTt9ZWxzZXt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ1dpbmRvdyBub3QgZm91bmQgYnkgdmFyOiAnK2xvY2F0b3JWYWx1ZSk7fX1lbHNle3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnV2luZG93IGxvY2F0b3Igbm90IHJlY29nbml6ZWQ6ICcrbG9jYXRvclR5cGUpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdFBvcFVwPWZ1bmN0aW9uKHdpbmRvd0lkKXtpZighd2luZG93SWR8fHdpbmRvd0lkPT0nbnVsbCcpe3RoaXMuX3NlbGVjdEZpcnN0Tm9uVG9wV2luZG93KCk7fWVsc2V7dGhpcy5fc2VsZWN0V2luZG93QnlXaW5kb3dJZCh3aW5kb3dJZCk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFRvcFdpbmRvdz1mdW5jdGlvbigpe3RoaXMuY3VycmVudFdpbmRvd05hbWU9bnVsbDt0aGlzLmN1cnJlbnRXaW5kb3c9dGhpcy50b3BXaW5kb3c7dGhpcy50b3BGcmFtZT10aGlzLnRvcFdpbmRvdzt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD1mYWxzZTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9zZWxlY3RXaW5kb3dCeVdpbmRvd0lkPWZ1bmN0aW9uKHdpbmRvd0lkKXt0cnl7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKHdpbmRvd0lkKTt9Y2F0Y2goZSl7dGhpcy5fc2VsZWN0V2luZG93QnlUaXRsZSh3aW5kb3dJZCk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFdpbmRvd0J5TmFtZT1mdW5jdGlvbih0YXJnZXQpe3RoaXMuY3VycmVudFdpbmRvdz10aGlzLmdldFdpbmRvd0J5TmFtZSh0YXJnZXQsZmFsc2UpO3RoaXMudG9wRnJhbWU9dGhpcy5jdXJyZW50V2luZG93O3RoaXMuY3VycmVudFdpbmRvd05hbWU9dGFyZ2V0O3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPWZhbHNlO307QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFdpbmRvd0J5VGl0bGU9ZnVuY3Rpb24odGFyZ2V0KXt2YXIgd2luZG93TmFtZT10aGlzLmdldFdpbmRvd05hbWVCeVRpdGxlKHRhcmdldCk7aWYoIXdpbmRvd05hbWUpe3RoaXMuX3NlbGVjdFRvcFdpbmRvdygpO31lbHNle3RoaXMuX3NlbGVjdFdpbmRvd0J5TmFtZSh3aW5kb3dOYW1lKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5fc2VsZWN0Rmlyc3ROb25Ub3BXaW5kb3c9ZnVuY3Rpb24oKXt2YXIgbmFtZXM9dGhpcy5nZXROb25Ub3BXaW5kb3dOYW1lcygpO2lmKG5hbWVzLmxlbmd0aCl7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKG5hbWVzWzBdKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RGcmFtZT1mdW5jdGlvbih0YXJnZXQpe3ZhciBmcmFtZT12b2lkIDA7aWYodGFyZ2V0LmluZGV4T2YoJ2luZGV4PScpPT0wKXt0YXJnZXQ9dGFyZ2V0LnN1YnN0cig2KTtmcmFtZT10aGlzLmdldEN1cnJlbnRXaW5kb3coKS5mcmFtZXNbdGFyZ2V0XTtpZihmcmFtZT09bnVsbCl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdOb3QgZm91bmQ6IGZyYW1lc1snK3RhcmdldCsnXScpO31pZighZnJhbWUuZG9jdW1lbnQpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnZnJhbWVzWycrdGFyZ2V0KyddIGlzIG5vdCBhIGZyYW1lJyk7fXRoaXMuY3VycmVudFdpbmRvdz1mcmFtZTt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10cnVlO31lbHNlIGlmKHRhcmdldD09J3JlbGF0aXZlPXVwJ3x8dGFyZ2V0PT0ncmVsYXRpdmU9cGFyZW50Jyl7dGhpcy5jdXJyZW50V2luZG93PXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLnBhcmVudDt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10aGlzLl9nZXRGcmFtZUVsZW1lbnQodGhpcy5jdXJyZW50V2luZG93KSE9bnVsbDt9ZWxzZSBpZih0YXJnZXQ9PSdyZWxhdGl2ZT10b3AnKXt0aGlzLmN1cnJlbnRXaW5kb3c9dGhpcy50b3BGcmFtZTt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD1mYWxzZTt9ZWxzZXtmcmFtZT10aGlzLmZpbmRFbGVtZW50KHRhcmdldCk7aWYoZnJhbWU9PW51bGwpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnTm90IGZvdW5kOiAnK3RhcmdldCk7fS8vIG5vdywgZGlkIHRoZXkgZ2l2ZSB1cyBhIGZyYW1lIG9yIGEgZnJhbWUgRUxFTUVOVD9cbnZhciBtYXRjaD1mYWxzZTtpZihmcmFtZS5jb250ZW50V2luZG93KXsvLyB0aGlzIG11c3QgYmUgYSBmcmFtZSBlbGVtZW50XG5pZihicm93c2VyVmVyc2lvbi5pc0hUQSl7Ly8gc3R1cGlkIEhUQSBidWc7IGNhbid0IGdldCBpbiB0aGUgZnJvbnQgZG9vclxudGFyZ2V0PWZyYW1lLmNvbnRlbnRXaW5kb3cubmFtZTt9ZWxzZXt0aGlzLmN1cnJlbnRXaW5kb3c9ZnJhbWUuY29udGVudFdpbmRvdzt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10cnVlO21hdGNoPXRydWU7fX1lbHNlIGlmKGZyYW1lLmRvY3VtZW50JiZmcmFtZS5sb2NhdGlvbil7Ly8gbXVzdCBiZSBhbiBhY3R1YWwgd2luZG93IGZyYW1lXG50aGlzLmN1cnJlbnRXaW5kb3c9ZnJhbWU7dGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ9dHJ1ZTttYXRjaD10cnVlO31pZighbWF0Y2gpey8vIG5laXRoZXIsIGxldCdzIGxvb3AgdGhyb3VnaCB0aGUgZnJhbWUgbmFtZXNcbnZhciB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7aWYod2luJiZ3aW4uZnJhbWVzJiZ3aW4uZnJhbWVzLmxlbmd0aCl7Zm9yKHZhciBpPTA7aTx3aW4uZnJhbWVzLmxlbmd0aDtpKyspe2lmKHdpbi5mcmFtZXNbaV0ubmFtZT09dGFyZ2V0KXt0aGlzLmN1cnJlbnRXaW5kb3c9d2luLmZyYW1lc1tpXTt0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZD10cnVlO21hdGNoPXRydWU7YnJlYWs7fX19aWYoIW1hdGNoKXt0aHJvdyBuZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ05vdCBhIGZyYW1lOiAnK3RhcmdldCk7fX19Ly8gbW9kaWZpZXMgdGhlIHdpbmRvd1xudGhpcy5nZXRDdXJyZW50V2luZG93KCk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5kb2VzVGhpc0ZyYW1lTWF0Y2hGcmFtZUV4cHJlc3Npb249ZnVuY3Rpb24oY3VycmVudEZyYW1lU3RyaW5nLHRhcmdldCl7dmFyIGlzRG9tPWZhbHNlO2lmKHRhcmdldC5pbmRleE9mKCdkb209Jyk9PTApe3RhcmdldD10YXJnZXQuc3Vic3RyKDQpO2lzRG9tPXRydWU7fWVsc2UgaWYodGFyZ2V0LmluZGV4T2YoJ2luZGV4PScpPT0wKXt0YXJnZXQ9J2ZyYW1lc1snK3RhcmdldC5zdWJzdHIoNikrJ10nO2lzRG9tPXRydWU7fXZhciB0PXZvaWQgMDsvL0V2YWxpbnNhbmRib3hcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxudmFyIG15U2FuZGJveD1uZXcgQ29tcG9uZW50cy51dGlscy5TYW5kYm94KHRoaXMuY3VycmVudFdpbmRvdy5sb2NhdGlvbi5ocmVmKTtteVNhbmRib3guY3VycmVudEZyYW1lU3RyaW5nPWN1cnJlbnRGcmFtZVN0cmluZztteVNhbmRib3gudGFyZ2V0PXRhcmdldDt0cnl7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG50PUNvbXBvbmVudHMudXRpbHMuZXZhbEluU2FuZGJveChjdXJyZW50RnJhbWVTdHJpbmcrJy4nK3RhcmdldCxteVNhbmRib3gpOy8vZXZhbChcInQ9XCIgKyBjdXJyZW50RnJhbWVTdHJpbmcgKyBcIi5cIiArIHRhcmdldCk7XG59Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbnZhciBhdXRXaW5kb3c9dGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTtpZih0IT1udWxsKXt0cnl7aWYodC53aW5kb3c9PWF1dFdpbmRvdyl7cmV0dXJuIHRydWU7fWlmKHQud2luZG93LnVuaXF1ZUlkPT1hdXRXaW5kb3cudW5pcXVlSWQpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWNhdGNoKHBlcm1EZW5pZWQpey8vIERHRiBpZiB0aGUgd2luZG93cyBhcmUgaW5jb21wYXJhYmxlLCB0aGV5J3JlIHByb2JhYmx5IG5vdCB0aGUgc2FtZS4uLlxufX1pZihpc0RvbSl7cmV0dXJuIGZhbHNlO30vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbnZhciBjdXJyZW50RnJhbWU9Q29tcG9uZW50cy51dGlscy5ldmFsSW5TYW5kYm94KGN1cnJlbnRGcmFtZVN0cmluZyxteVNhbmRib3gpOy8vdmFyIGN1cnJlbnRGcmFtZTtcbi8vZXZhbChcImN1cnJlbnRGcmFtZT1cIiArIGN1cnJlbnRGcmFtZVN0cmluZyk7XG5pZih0YXJnZXQ9PSdyZWxhdGl2ZT11cCcpe2lmKGN1cnJlbnRGcmFtZS53aW5kb3cucGFyZW50PT1hdXRXaW5kb3cpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWlmKHRhcmdldD09J3JlbGF0aXZlPXRvcCcpe2lmKGN1cnJlbnRGcmFtZS53aW5kb3cudG9wPT1hdXRXaW5kb3cpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWlmKGN1cnJlbnRGcmFtZS53aW5kb3c9PWF1dFdpbmRvdy5wYXJlbnQpe2lmKGF1dFdpbmRvdy5uYW1lPT10YXJnZXQpe3JldHVybiB0cnVlO310cnl7dmFyIGVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudCh0YXJnZXQsY3VycmVudEZyYW1lLndpbmRvdyk7aWYoZWxlbWVudC5jb250ZW50V2luZG93PT1hdXRXaW5kb3cpe3JldHVybiB0cnVlO319Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbn1yZXR1cm4gZmFsc2U7fTtCcm93c2VyQm90LnByb3RvdHlwZS5hYm9ydFhoclJlcXVlc3Q9ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZVJlc3BvbnNlQ29kZSl7Ly9MT0cuZGVidWcoXCJYSFIgcmVzcG9uc2UgY29kZSBiZWluZyBpZ25vcmVkLiBOb3RoaW5nIHRvIGFib3J0LlwiKTtcbn1lbHNle2lmKHRoaXMuYWJvcnRYaHI9PWZhbHNlJiZ0aGlzLmlzWGhyU2VudCYmIXRoaXMuaXNYaHJEb25lKXsvL0xPRy5pbmZvKFwiYWJvcnRYaHJSZXF1ZXN0KCk6IGFib3J0aW5nIHJlcXVlc3RcIik7XG50aGlzLmFib3J0WGhyPXRydWU7dGhpcy54aHIuYWJvcnQoKTt9fX07QnJvd3NlckJvdC5wcm90b3R5cGUub25YaHJTdGF0ZUNoYW5nZT1mdW5jdGlvbihtZXRob2Qpey8vTE9HLmluZm8oXCJvblhoclN0YXRlQ2hhbmdlKCk6IHhoci5yZWFkeVN0YXRlID0gXCIgKyB0aGlzLnhoci5yZWFkeVN0YXRlICsgXCIgbWV0aG9kID0gXCIgKyBtZXRob2QgKyBcIiB0aW1lID0gXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG5pZih0aGlzLnhoci5yZWFkeVN0YXRlPT00KXsvLyBjaGVjayBpZiB0aGUgcmVxdWVzdCBnb3QgYWJvcnRlZC5cbmlmKHRoaXMuYWJvcnRYaHI9PXRydWUpe3RoaXMueGhyUmVzcG9uc2VDb2RlPTA7dGhpcy54aHJTdGF0dXNUZXh0PSdSZXF1ZXN0IEFib3J0ZWQnO3RoaXMuaXNYaHJEb25lPXRydWU7cmV0dXJuO310cnl7aWYobWV0aG9kPT0nSEVBRCcmJih0aGlzLnhoci5zdGF0dXM9PTUwMXx8dGhpcy54aHIuc3RhdHVzPT00MDUpKXsvL0xPRy5pbmZvKFwib25YaHJTdGF0ZUNoYW5nZSgpOiBIRUFEIGFqYXggcmV0dXJuZWQgNTAxIG9yIDQwNSwgcmV0cnlpbmcgd2l0aCBHRVRcIik7XG4vLyBoYW5kbGUgNTAxIHJlc3BvbnNlIGNvZGUgZnJvbSBzZXJ2ZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgJ0hFQUQnIG1ldGhvZC5cbi8vIHNlbmQgR0VUIGFqYXggcmVxdWVzdCB3aXRoIHJhbmdlIDAtMS5cbnRoaXMueGhyPW5ldyBYTUxIdHRwUmVxdWVzdCgpO3RoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLm9uWGhyU3RhdGVDaGFuZ2UuYmluZCh0aGlzLCdHRVQnKTt0aGlzLnhoci5vcGVuKCdHRVQnLHRoaXMueGhyT3BlbkxvY2F0aW9uLHRydWUpO3RoaXMueGhyLnNldFJlcXVlc3RIZWFkZXIoJ1JhbmdlJywnYnl0ZXM6MC0xJyk7dGhpcy54aHIuc2VuZCgnJyk7dGhpcy5pc1hoclNlbnQ9dHJ1ZTtyZXR1cm47fXRoaXMueGhyUmVzcG9uc2VDb2RlPXRoaXMueGhyLnN0YXR1czt0aGlzLnhoclN0YXR1c1RleHQ9dGhpcy54aHIuc3RhdHVzVGV4dDt9Y2F0Y2goZXgpey8vTE9HLmluZm8oXCJlbmNvdW50ZXJlZCBleGNlcHRpb24gd2hpbGUgcmVhZGluZyB4aHJSZXNwb25zZUNvZGUuXCIgKyBleC5tZXNzYWdlKTtcbnRoaXMueGhyUmVzcG9uc2VDb2RlPS0xO3RoaXMueGhyU3RhdHVzVGV4dD0nUmVxdWVzdCBFcnJvcic7fXRoaXMuaXNYaHJEb25lPXRydWU7fX07QnJvd3NlckJvdC5wcm90b3R5cGUub3BlbldpbmRvdz1mdW5jdGlvbih1cmwsd2luZG93SUQpe2lmKHVybCE9Jycpe3VybD0naHR0cHM6Ly93d3cuZ29vZ2xlLmNvbSc7fWlmKGJyb3dzZXJWZXJzaW9uLmlzSFRBKXsvLyBpbiBIVEEgbW9kZSwgY2FsbGluZyAub3BlbiBvbiB0aGUgd2luZG93IGludGVycHJldHMgdGhlIHVybCByZWxhdGl2ZSB0byB0aGF0IHdpbmRvd1xuLy8gd2UgbmVlZCB0byBhYnNvbHV0ZS1pemUgdGhlIFVSTCB0byBtYWtlIGl0IGNvbnNpc3RlbnRcbnZhciBjaGlsZD10aGlzLmdldEN1cnJlbnRXaW5kb3coKS5vcGVuKHVybCx3aW5kb3dJRCwncmVzaXphYmxlPXllcycpO19jb21tYW5kc0FwaS5zZWxlbml1bS5icm93c2VyYm90Lm9wZW5lZFdpbmRvd3Nbd2luZG93SURdPWNoaWxkO31lbHNle3RoaXMuZ2V0Q3VycmVudFdpbmRvdygpLm9wZW4odXJsLHdpbmRvd0lELCdyZXNpemFibGU9eWVzJyk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuc2V0SUZyYW1lTG9jYXRpb249ZnVuY3Rpb24oaWZyYW1lLGxvY2F0aW9uKXtpZnJhbWUuc3JjPWxvY2F0aW9uO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0Q3VycmVudFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLndpbmRvd05lZWRzTW9kaWZ5aW5nPWZ1bmN0aW9uKHdpbix1bmlxdWVJZCl7Ly8gT24gYW55dGhpbmcgYnV0IEZpcmVmb3gsIGNoZWNraW5nIHRoZSB1bmlxdWUgaWQgaXMgZW5vdWdoLlxuLy8gRmlyZWZveCA0IGludHJvZHVjZXMgYSByYWNlIGNvbmRpdGlvbiB3aGljaCBzZWxlbml1bSByZWd1bGFybHkgbG9zZXMuXG50cnl7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG52YXIgYXBwSW5mbz1Db21wb25lbnRzLmNsYXNzZXNbJ0Btb3ppbGxhLm9yZy94cmUvYXBwLWluZm87MSddLmdldFNlcnZpY2UoLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5Db21wb25lbnRzLmludGVyZmFjZXMubnNJWFVMQXBwSW5mbyk7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG52YXIgdmVyc2lvbkNoZWNrZXI9Q29tcG9uZW50cy5jbGFzc2VzWydAbW96aWxsYS5vcmcveHBjb20vdmVyc2lvbi1jb21wYXJhdG9yOzEnLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5dLmdldFNlcnZpY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVZlcnNpb25Db21wYXJhdG9yKTtpZih2ZXJzaW9uQ2hlY2tlci5jb21wYXJlKGFwcEluZm8udmVyc2lvbiwnNC4wYjEnKT49MCl7cmV0dXJuIHdpbi5hbGVydC50b1N0cmluZygpLmluZGV4T2YoJ25hdGl2ZSBjb2RlJykhPS0xO319Y2F0Y2goaWdub3JlZCl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbnJldHVybiF3aW5bdW5pcXVlSWRdO307QnJvd3NlckJvdC5wcm90b3R5cGUubW9kaWZ5V2luZG93VG9SZWNvcmRQb3BVcERpYWxvZ3M9ZnVuY3Rpb24ob3JpZ2luYWxXaW5kb3csYnJvd3NlckJvdCl7dmFyIHNlbGY9dGhpczsvLyBBcHBhcmVudGx5LCBGaXJlZm94IDQgbWFrZXMgaXQgcG9zc2libGUgdG8gdW53cmFwIGFuIG9iamVjdCB0byBmaW5kIHRoYXRcbi8vIHRoZXJlJ3Mgbm90aGluZyBpbiBpdC5cbnZhciB3aW5kb3dUb01vZGlmeT1fY2xvc3VyZVBvbHlmaWxsLmNvcmUuZmlyZWZveC51bndyYXAob3JpZ2luYWxXaW5kb3cpO2lmKCF3aW5kb3dUb01vZGlmeSl7d2luZG93VG9Nb2RpZnk9b3JpZ2luYWxXaW5kb3c7fXdpbmRvd1RvTW9kaWZ5LnNlbGVuaXVtQWxlcnQ9d2luZG93VG9Nb2RpZnkuYWxlcnQ7aWYoIXNlbGYud2luZG93TmVlZHNNb2RpZnlpbmcod2luZG93VG9Nb2RpZnksYnJvd3NlckJvdC51bmlxdWVJZCkpe3JldHVybjt9d2luZG93VG9Nb2RpZnkuYWxlcnQ9ZnVuY3Rpb24oYWxlcnQpe2Jyb3dzZXJCb3QucmVjb3JkZWRBbGVydHMucHVzaChhbGVydCk7c2VsZi5yZWxheUJvdFRvUkMuY2FsbChzZWxmLCdicm93c2VyYm90LnJlY29yZGVkQWxlcnRzJyk7fTt3aW5kb3dUb01vZGlmeS5jb25maXJtPWZ1bmN0aW9uKG1lc3NhZ2Upe2Jyb3dzZXJCb3QucmVjb3JkZWRDb25maXJtYXRpb25zLnB1c2gobWVzc2FnZSk7dmFyIHJlc3VsdD1icm93c2VyQm90Lm5leHRDb25maXJtUmVzdWx0O2Jyb3dzZXJCb3QubmV4dENvbmZpcm1SZXN1bHQ9dHJ1ZTtzZWxmLnJlbGF5Qm90VG9SQy5jYWxsKHNlbGYsJ2Jyb3dzZXJib3QucmVjb3JkZWRDb25maXJtYXRpb25zJyk7cmV0dXJuIHJlc3VsdDt9O3dpbmRvd1RvTW9kaWZ5LnByb21wdD1mdW5jdGlvbihtZXNzYWdlKXticm93c2VyQm90LnJlY29yZGVkUHJvbXB0cy5wdXNoKG1lc3NhZ2UpO3ZhciByZXN1bHQ9IWJyb3dzZXJCb3QubmV4dENvbmZpcm1SZXN1bHQ/bnVsbDpicm93c2VyQm90Lm5leHRQcm9tcHRSZXN1bHQ7YnJvd3NlckJvdC5uZXh0Q29uZmlybVJlc3VsdD10cnVlO2Jyb3dzZXJCb3QubmV4dFByb21wdFJlc3VsdD0nJztzZWxmLnJlbGF5Qm90VG9SQy5jYWxsKHNlbGYsJ2Jyb3dzZXJib3QucmVjb3JkZWRQcm9tcHRzJyk7cmV0dXJuIHJlc3VsdDt9Oy8vIEtlZXAgYSByZWZlcmVuY2UgdG8gYWxsIHBvcHVwIHdpbmRvd3MgYnkgbmFtZVxuLy8gbm90ZSB0aGF0IGluIElFIHRoZSBcIndpbmRvd05hbWVcIiBhcmd1bWVudCBtdXN0IGJlIGEgdmFsaWQgamF2YXNjcmlwdCBpZGVudGlmaWVyLCBpdCBzZWVtcy5cbnZhciBvcmlnaW5hbE9wZW49d2luZG93VG9Nb2RpZnkub3Blbjt2YXIgb3JpZ2luYWxPcGVuUmVmZXJlbmNlPXZvaWQgMDtpZihicm93c2VyVmVyc2lvbi5pc0hUQSl7b3JpZ2luYWxPcGVuUmVmZXJlbmNlPSdzZWxlbml1bV9vcmlnaW5hbE9wZW4nK25ldyBEYXRlKCkuZ2V0VGltZSgpO3dpbmRvd1RvTW9kaWZ5W29yaWdpbmFsT3BlblJlZmVyZW5jZV09d2luZG93VG9Nb2RpZnkub3Blbjt9dmFyIGlzSFRBPWJyb3dzZXJWZXJzaW9uLmlzSFRBO3ZhciBuZXdPcGVuPWZ1bmN0aW9uIG5ld09wZW4odXJsLHdpbmRvd05hbWUsd2luZG93RmVhdHVyZXMscmVwbGFjZUZsYWcpe3ZhciBteU9yaWdpbmFsT3Blbj1vcmlnaW5hbE9wZW47aWYoaXNIVEEpe215T3JpZ2luYWxPcGVuPXRoaXNbb3JpZ2luYWxPcGVuUmVmZXJlbmNlXTt9Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMDUvMjZcbmlmKHdpbmRvd05hbWU9PScnfHx3aW5kb3dOYW1lPT0nX2JsYW5rJ3x8dHlwZW9mIHdpbmRvd05hbWU9PT0ndW5kZWZpbmVkJyl7d2luZG93TmFtZT0nd2luX3Nlcl8nK3NlbGYuY291bnQ7c2VsZi5jb3VudCs9MTt9dmFyIG9wZW5lZFdpbmRvdz1teU9yaWdpbmFsT3Blbih1cmwsd2luZG93TmFtZSx3aW5kb3dGZWF0dXJlcyxyZXBsYWNlRmxhZyk7Ly9MT0cuZGVidWcoXCJ3aW5kb3cub3BlbiBjYWxsIGludGVyY2VwdGVkOyB3aW5kb3cgSUQgKHdoaWNoIHlvdSBjYW4gdXNlIHdpdGggc2VsZWN0V2luZG93KCkpIGlzIFxcXCJcIiArICB3aW5kb3dOYW1lICsgXCJcXFwiXCIpO1xuaWYod2luZG93TmFtZSE9bnVsbCl7b3BlbmVkV2luZG93WydzZWxlbml1bVdpbmRvd05hbWUnXT13aW5kb3dOYW1lO31fY29tbWFuZHNBcGkuc2VsZW5pdW0uYnJvd3NlcmJvdC5vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdPW9wZW5lZFdpbmRvdztyZXR1cm4gb3BlbmVkV2luZG93O307aWYoYnJvd3NlclZlcnNpb24uaXNIVEEpe29yaWdpbmFsT3BlblJlZmVyZW5jZT0nc2VsZW5pdW1fb3JpZ2luYWxPcGVuJytuZXcgRGF0ZSgpLmdldFRpbWUoKTt2YXIgbmV3T3BlblJlZmVyZW5jZT0nc2VsZW5pdW1fbmV3T3BlbicrbmV3IERhdGUoKS5nZXRUaW1lKCk7dmFyIHNldE9yaWdpbmFsUmVmPVwidGhpc1snXCIrb3JpZ2luYWxPcGVuUmVmZXJlbmNlK1wiJ10gPSB0aGlzLm9wZW47XCI7aWYod2luZG93VG9Nb2RpZnkuZXZhbCl7d2luZG93VG9Nb2RpZnkuZXZhbChzZXRPcmlnaW5hbFJlZik7d2luZG93VG9Nb2RpZnkub3Blbj1uZXdPcGVuO31lbHNley8vIERHRiB3aHkgY2FuJ3QgSSBldmFsIGhlcmU/ICBTZWVtcyBsaWtlIEknbSBxdWVyeWluZyB0aGUgd2luZG93IGF0IGEgYmFkIHRpbWUsIG1heWJlP1xuc2V0T3JpZ2luYWxSZWYrPVwidGhpcy5vcGVuID0gdGhpc1snXCIrbmV3T3BlblJlZmVyZW5jZStcIiddO1wiO3dpbmRvd1RvTW9kaWZ5W25ld09wZW5SZWZlcmVuY2VdPW5ld09wZW47d2luZG93VG9Nb2RpZnkuc2V0VGltZW91dChzZXRPcmlnaW5hbFJlZiwwKTt9fWVsc2V7d2luZG93VG9Nb2RpZnkub3Blbj1uZXdPcGVuO319Oy8qKlxuICogQ2FsbCB0aGUgc3VwcGxpZWQgZnVuY3Rpb24gd2hlbiBhIHRoZSBjdXJyZW50IHBhZ2UgdW5sb2FkcyBhbmQgYSBuZXcgb25lIGxvYWRzLlxuICogVGhpcyBpcyBkb25lIGJ5IHBvbGxpbmcgY29udGludW91c2x5IHVudGlsIHRoZSBkb2N1bWVudCBjaGFuZ2VzIGFuZCBpcyBmdWxseSBsb2FkZWQuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkcz1mdW5jdGlvbih3aW5kb3dPYmplY3Qpey8vIFNpbmNlIHRoZSB1bmxvYWQgZXZlbnQgZG9lc24ndCBmaXJlIGluIFNhZmFyaSAxLjMsIHdlIHN0YXJ0IHBvbGxpbmcgaW1tZWRpYXRlbHlcbmlmKCF3aW5kb3dPYmplY3Qpey8vTE9HLndhcm4oXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkczogbm8gd2luZG93T2JqZWN0IVwiKTtcbnJldHVybjt9aWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbmRvd09iamVjdCkpey8vTE9HLmluZm8oXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkczogd2luZG93T2JqZWN0IHdhcyBjbG9zZWRcIik7XG5yZXR1cm47fXZhciBvbGRNYXJrZXI9dGhpcy5pc1BvbGxpbmdGb3JMb2FkKHdpbmRvd09iamVjdCk7aWYob2xkTWFya2VyKXsvL0xPRy5kZWJ1ZyhcIm1vZGlmeVNlcGFyYXRlVGVzdFdpbmRvd1RvRGV0ZWN0UGFnZUxvYWRzOiBhbHJlYWR5IHBvbGxpbmcgdGhpcyB3aW5kb3c6IFwiICsgb2xkTWFya2VyKTtcbnJldHVybjt9dmFyIG1hcmtlcj0nc2VsZW5pdW0nK25ldyBEYXRlKCkuZ2V0VGltZSgpOy8vTE9HLmRlYnVnKFwiU3RhcnRpbmcgcG9sbEZvckxvYWQgKFwiICsgbWFya2VyICsgXCIpOiBcIiArIHdpbmRvd09iamVjdC5sb2NhdGlvbik7XG50aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl09dHJ1ZTsvLyBpZiB0aGlzIGlzIGEgZnJhbWUsIGFkZCBhIGxvYWQgbGlzdGVuZXIsIG90aGVyd2lzZSwgYXR0YWNoIGEgcG9sbGVyXG52YXIgZnJhbWVFbGVtZW50PXRoaXMuX2dldEZyYW1lRWxlbWVudCh3aW5kb3dPYmplY3QpOy8vIERHRiBIVEEgbW9kZSBjYW4ndCBhdHRhY2ggbG9hZCBsaXN0ZW5lcnMgdG8gc3ViZnJhbWVzICh5dWshKVxudmFyIGh0YVN1YkZyYW1lPXRoaXMuX2lzSFRBU3ViRnJhbWUod2luZG93T2JqZWN0KTtpZihmcmFtZUVsZW1lbnQmJiFodGFTdWJGcmFtZSl7Ly9MT0cuZGVidWcoXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2FkczogdGhpcyB3aW5kb3cgaXMgYSBmcmFtZTsgYXR0YWNoaW5nIGEgbG9hZCBsaXN0ZW5lclwiKTtcbi8vYWRkTG9hZExpc3RlbmVyKGZyYW1lRWxlbWVudCwgdGhpcy5yZWNvcmRQYWdlTG9hZCk7IFRPRE86IGNoZWNrIGlmIHRoaXMgaXMgbmVjZXNzYXJ5XG5mcmFtZUVsZW1lbnRbbWFya2VyXT10cnVlO2ZyYW1lRWxlbWVudFsnZnJhbWUnK3RoaXMudW5pcXVlSWRdPW1hcmtlcjsvL0xPRy5kZWJ1ZyhcImRnZiB0aGlzLnVuaXF1ZUlkPVwiK3RoaXMudW5pcXVlSWQpO1xuLy9MT0cuZGVidWcoXCJkZ2YgbWFya2VyPVwiK21hcmtlcik7XG4vL0xPRy5kZWJ1ZyhcImRnZiBmcmFtZUVsZW1lbnRbJ2ZyYW1lJyt0aGlzLnVuaXF1ZUlkXT1cIitmcmFtZUVsZW1lbnRbJ2ZyYW1lJyt0aGlzLnVuaXF1ZUlkXSk7XG5mcmFtZUVsZW1lbnRbdGhpcy51bmlxdWVJZF09bWFya2VyOy8vTE9HLmRlYnVnKFwiZGdmIGZyYW1lRWxlbWVudFt0aGlzLnVuaXF1ZUlkXT1cIitmcmFtZUVsZW1lbnRbdGhpcy51bmlxdWVJZF0pO1xufWVsc2V7d2luZG93T2JqZWN0LmxvY2F0aW9uW21hcmtlcl09dHJ1ZTt3aW5kb3dPYmplY3RbdGhpcy51bmlxdWVJZF09bWFya2VyO3RoaXMucG9sbEZvckxvYWQodGhpcy5yZWNvcmRQYWdlTG9hZCx3aW5kb3dPYmplY3Qsd2luZG93T2JqZWN0LmRvY3VtZW50LHdpbmRvd09iamVjdC5sb2NhdGlvbix3aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZixtYXJrZXIpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9pc0hUQVN1YkZyYW1lPWZ1bmN0aW9uKCl7aWYoIWJyb3dzZXJWZXJzaW9uLmlzSFRBKXJldHVybiBmYWxzZTsvLyBER0YgdGhpcyBpcyB3cm9uZyEgd2hhdCBpZiBcIndpblwiIGlzbid0IHRoZSBzZWxlY3RlZCB3aW5kb3c/XG5yZXR1cm4gdGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fZ2V0RnJhbWVFbGVtZW50PWZ1bmN0aW9uKHdpbil7dmFyIGZyYW1lRWxlbWVudD1udWxsO3ZhciBjYXVnaHQ9dm9pZCAwO3RyeXtmcmFtZUVsZW1lbnQ9d2luLmZyYW1lRWxlbWVudDt9Y2F0Y2goZSl7Y2F1Z2h0PXRydWU7fWlmKGNhdWdodCl7Ly8gb24gSUUsIGNoZWNraW5nIGZyYW1lRWxlbWVudCBpbiBhIHBvcC11cCByZXN1bHRzIGluIGEgXCJObyBzdWNoIGludGVyZmFjZSBzdXBwb3J0ZWRcIiBleGNlcHRpb25cbi8vIGJ1dCBpdCBtaWdodCBoYXZlIGEgZnJhbWUgZWxlbWVudCBhbnl3YXkhXG52YXIgcGFyZW50Q29udGFpbnNJZGVudGljYWxseU5hbWVkRnJhbWU9ZmFsc2U7dHJ5e3BhcmVudENvbnRhaW5zSWRlbnRpY2FsbHlOYW1lZEZyYW1lPXdpbi5wYXJlbnQuZnJhbWVzW3dpbi5uYW1lXTt9Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbi8vIHRoaXMgbWF5IGZhaWwgaWYgYWNjZXNzIGlzIGRlbmllZCB0byB0aGUgcGFyZW50OyBpbiB0aGF0IGNhc2UsIGFzc3VtZSBpdCdzIG5vdCBhIHBvcC11cFxuaWYocGFyZW50Q29udGFpbnNJZGVudGljYWxseU5hbWVkRnJhbWUpey8vIGl0IGNhbid0IGJlIGEgY29pbmNpZGVuY2UgdGhhdCB0aGUgcGFyZW50IGhhcyBhIGZyYW1lIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBteXNlbGYhXG52YXIgcmVzdWx0PXZvaWQgMDt0cnl7cmVzdWx0PXBhcmVudENvbnRhaW5zSWRlbnRpY2FsbHlOYW1lZEZyYW1lLmZyYW1lRWxlbWVudDtpZihyZXN1bHQpe3JldHVybiByZXN1bHQ7fX1jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuLy8gaXQgd2FzIHdvcnRoIGEgdHJ5ISBfZ2V0RnJhbWVFbGVtZW50c0J5TmFtZSBpcyBvZnRlbiBzbG93XG5yZXN1bHQ9dGhpcy5fZ2V0RnJhbWVFbGVtZW50QnlOYW1lKHdpbi5uYW1lLHdpbi5wYXJlbnQuZG9jdW1lbnQsd2luKTtyZXR1cm4gcmVzdWx0O319Ly9MT0cuZGVidWcoXCJfZ2V0RnJhbWVFbGVtZW50OiBmcmFtZUVsZW1lbnQ9XCIrZnJhbWVFbGVtZW50KTtcbmlmKGZyYW1lRWxlbWVudCl7Ly9MT0cuZGVidWcoXCJmcmFtZUVsZW1lbnQubmFtZT1cIitmcmFtZUVsZW1lbnQubmFtZSk7XG59cmV0dXJuIGZyYW1lRWxlbWVudDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9nZXRGcmFtZUVsZW1lbnRCeU5hbWU9ZnVuY3Rpb24obmFtZSxkb2Msd2luKXt2YXIgZnJhbWVzPXZvaWQgMDt2YXIgZnJhbWU9dm9pZCAwO3ZhciBpPXZvaWQgMDtmcmFtZXM9ZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpZnJhbWUnKTtmb3IoaT0wO2k8ZnJhbWVzLmxlbmd0aDtpKyspe2ZyYW1lPWZyYW1lc1tpXTtpZihmcmFtZS5uYW1lPT09bmFtZSl7cmV0dXJuIGZyYW1lO319ZnJhbWVzPWRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZnJhbWUnKTtmb3IoaT0wO2k8ZnJhbWVzLmxlbmd0aDtpKyspe2ZyYW1lPWZyYW1lc1tpXTtpZihmcmFtZS5uYW1lPT09bmFtZSl7cmV0dXJuIGZyYW1lO319Ly8gREdGIHdlaXJkOyB3ZSBvbmx5IGNhbGwgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIGtub3cgdGhlIGRvYyBjb250YWlucyB0aGUgZnJhbWVcbi8vTE9HLndhcm4oXCJfZ2V0RnJhbWVFbGVtZW50QnlOYW1lIGNvdWxkbid0IGZpbmQgYSBmcmFtZSBvciBpZnJhbWU7IGNoZWNraW5nIGV2ZXJ5IGVsZW1lbnQgZm9yIHRoZSBuYW1lIFwiICsgbmFtZSk7XG5yZXR1cm4gQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5TmFtZSh3aW4ubmFtZSx3aW4ucGFyZW50LmRvY3VtZW50KTt9Oy8qKlxuICogU2V0IHVwIGEgcG9sbGluZyB0aW1lciB0aGF0IHdpbGwga2VlcCBjaGVja2luZyB0aGUgcmVhZHlTdGF0ZSBvZiB0aGUgZG9jdW1lbnQgdW50aWwgaXQncyBjb21wbGV0ZS5cbiAqIFNpbmNlIHdlIG1pZ2h0IGNhbGwgdGhpcyBiZWZvcmUgdGhlIG9yaWdpbmFsIHBhZ2UgaXMgdW5sb2FkZWQsIHdlIGZpcnN0IGNoZWNrIHRvIHNlZSB0aGF0IHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gKiBvciBocmVmIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBvcmlnaW5hbCBvbmUuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5wb2xsRm9yTG9hZD1mdW5jdGlvbihsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIG9yaWdpbmFsIChcIiArIG1hcmtlciArIFwiKTogXCIgKyBvcmlnaW5hbEhyZWYpO1xudHJ5ey8vU2FtaXQ6IEZpeDogb3BlbiBjb21tYW5kIHNvbWV0aW1lcyBmYWlscyBpZiBjdXJyZW50IHVybCBpcyBjaHJvbWUgYW5kIG5ldyBpcyBub3RcbndpbmRvd09iamVjdD1fY2xvc3VyZVBvbHlmaWxsLmNvcmUuZmlyZWZveC51bndyYXAod2luZG93T2JqZWN0KTtpZih0aGlzLl93aW5kb3dDbG9zZWQod2luZG93T2JqZWN0KSl7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBXSU5ET1cgQ0xPU0VEIChcIiArIG1hcmtlciArIFwiKVwiKTtcbmRlbGV0ZSB0aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl07cmV0dXJuO312YXIgaXNTYW1lUGFnZT10aGlzLl9pc1NhbWVQYWdlKHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcik7dmFyIHJzPXRoaXMuZ2V0UmVhZHlTdGF0ZSh3aW5kb3dPYmplY3Qsd2luZG93T2JqZWN0LmRvY3VtZW50KTtpZighaXNTYW1lUGFnZSYmcnM9PSdjb21wbGV0ZScpe3ZhciBjdXJyZW50SHJlZj13aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZjsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIEZJTklTSEVEIChcIiArIG1hcmtlciArIFwiKTogXCIgKyBycyArIFwiIChcIiArIGN1cnJlbnRIcmVmICsgXCIpXCIpO1xuZGVsZXRlIHRoaXMucG9sbGluZ0ZvckxvYWRbbWFya2VyXTt0aGlzLl9tb2RpZnlXaW5kb3cod2luZG93T2JqZWN0KTt2YXIgbmV3TWFya2VyPXRoaXMuaXNQb2xsaW5nRm9yTG9hZCh3aW5kb3dPYmplY3QpO2lmKCFuZXdNYXJrZXIpey8vTE9HLmRlYnVnKFwibW9kaWZ5V2luZG93IGRpZG4ndCBzdGFydCBuZXcgcG9sbGVyOiBcIiArIG5ld01hcmtlcik7XG50aGlzLm1vZGlmeVNlcGFyYXRlVGVzdFdpbmRvd1RvRGV0ZWN0UGFnZUxvYWRzKHdpbmRvd09iamVjdCk7fW5ld01hcmtlcj10aGlzLmlzUG9sbGluZ0ZvckxvYWQod2luZG93T2JqZWN0KTt2YXIgY3VycmVudGx5U2VsZWN0ZWRXaW5kb3c9dm9pZCAwO3ZhciBjdXJyZW50bHlTZWxlY3RlZFdpbmRvd01hcmtlcj12b2lkIDA7Y3VycmVudGx5U2VsZWN0ZWRXaW5kb3c9dGhpcy5nZXRDdXJyZW50V2luZG93KHRydWUpO2N1cnJlbnRseVNlbGVjdGVkV2luZG93TWFya2VyPWN1cnJlbnRseVNlbGVjdGVkV2luZG93W3RoaXMudW5pcXVlSWRdOy8vTE9HLmRlYnVnKFwicG9sbEZvckxvYWQgKFwiICsgbWFya2VyICsgXCIpIHJlc3RhcnRpbmcgXCIgKyBuZXdNYXJrZXIpO1xuaWYoLyhUZXN0UnVubmVyLXNwbGFzaHxCbGFuaylcXC5odG1sXFw/c3RhcnQ9dHJ1ZSQvLnRlc3QoY3VycmVudEhyZWYpKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIE9oLCBpdCdzIGp1c3QgdGhlIHN0YXJ0aW5nIHBhZ2UuICBOZXZlciBtaW5kIVwiKTtcbn1lbHNlIGlmKGN1cnJlbnRseVNlbGVjdGVkV2luZG93TWFya2VyPT1uZXdNYXJrZXIpe2xvYWRGdW5jdGlvbihjdXJyZW50bHlTZWxlY3RlZFdpbmRvdyk7fWVsc2V7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBwYWdlIGxvYWQgZGV0ZWN0ZWQgaW4gbm9uLWN1cnJlbnQgd2luZG93OyBpZ25vcmluZyAoY3VycmVudGx5U2VsZWN0ZWQ9XCIrY3VycmVudGx5U2VsZWN0ZWRXaW5kb3dNYXJrZXIrXCIsIGRldGVjdGlvbiBpbiBcIituZXdNYXJrZXIrXCIpXCIpO1xufXJldHVybjt9Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBjb250aW51ZSAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgY3VycmVudEhyZWYpO1xudGhpcy5yZXNjaGVkdWxlUG9sbGVyKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO31jYXRjaChlKXsvL0xPRy5kZWJ1ZyhcIkV4Y2VwdGlvbiBkdXJpbmcgcG9sbEZvckxvYWQ7IHRoaXMgc2hvdWxkIGdldCBub3RpY2VkIHNvb24gKFwiICsgZS5tZXNzYWdlICsgXCIpIVwiKTtcbi8vREdGIHRoaXMgaXMgc3VwcG9zZWQgdG8gZ2V0IGxvZ2dlZCBsYXRlcjsgbG9nIGl0IGF0IGRlYnVnIGp1c3QgaW4gY2FzZVxuLy8vL0xPRy5leGNlcHRpb24oZSk7XG50aGlzLnBhZ2VMb2FkRXJyb3I9ZTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5faXNTYW1lUGFnZT1mdW5jdGlvbih3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe3ZhciBjdXJyZW50RG9jdW1lbnQ9d2luZG93T2JqZWN0LmRvY3VtZW50O3ZhciBjdXJyZW50TG9jYXRpb249d2luZG93T2JqZWN0LmxvY2F0aW9uO3ZhciBjdXJyZW50SHJlZj1jdXJyZW50TG9jYXRpb24uaHJlZjt2YXIgc2FtZURvYz10aGlzLl9pc1NhbWVEb2N1bWVudChvcmlnaW5hbERvY3VtZW50LGN1cnJlbnREb2N1bWVudCk7dmFyIHNhbWVMb2M9b3JpZ2luYWxMb2NhdGlvbj09PWN1cnJlbnRMb2NhdGlvbjsvLyBoYXNoIG1hcmtzIGRvbid0IG1lYW50IHRoZSBwYWdlIGhhcyBsb2FkZWQsIHNvIHdlIG5lZWQgdG8gc3RyaXAgdGhlbSBvZmYgaWYgdGhleSBleGlzdC4uLlxudmFyIGN1cnJlbnRIYXNoPWN1cnJlbnRIcmVmLmluZGV4T2YoJyMnKTtpZihjdXJyZW50SGFzaD4wKXtjdXJyZW50SHJlZj1jdXJyZW50SHJlZi5zdWJzdHJpbmcoMCxjdXJyZW50SGFzaCk7fXZhciBvcmlnaW5hbEhhc2g9b3JpZ2luYWxIcmVmLmluZGV4T2YoJyMnKTtpZihvcmlnaW5hbEhhc2g+MCl7b3JpZ2luYWxIcmVmPW9yaWdpbmFsSHJlZi5zdWJzdHJpbmcoMCxvcmlnaW5hbEhhc2gpO30vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBjdXJyZW50SHJlZjogXCIgKyBjdXJyZW50SHJlZik7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBvcmlnaW5hbEhyZWY6IFwiICsgb3JpZ2luYWxIcmVmKTtcbnZhciBzYW1lSHJlZj1vcmlnaW5hbEhyZWY9PT1jdXJyZW50SHJlZjt2YXIgbWFya2VkTG9jPWN1cnJlbnRMb2NhdGlvblttYXJrZXJdO2lmKGJyb3dzZXJWZXJzaW9uLmlzS29ucXVlcm9yfHxicm93c2VyVmVyc2lvbi5pc1NhZmFyaSl7Ly8gdGhlIG1hcmsgZGlzYXBwZWFycyB0b28gZWFybHkgb24gdGhlc2UgYnJvd3NlcnNcbm1hcmtlZExvYz10cnVlO30vLyBzaW5jZSB0aGlzIGlzIHNvbWUgX3ZlcnlfIGltcG9ydGFudCBsb2dpYywgZXNwZWNpYWxseSBmb3IgUEkgYW5kIG11bHRpV2luZG93IG1vZGUsIHdlIHNob3VsZCBsb2cgYWxsIHRoZXNlIG91dFxuLy9MT0cuZGVidWcoXCJfaXNTYW1lUGFnZTogc2FtZURvYzogXCIgKyBzYW1lRG9jKTtcbi8vTE9HLmRlYnVnKFwiX2lzU2FtZVBhZ2U6IHNhbWVMb2M6IFwiICsgc2FtZUxvYyk7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBzYW1lSHJlZjogXCIgKyBzYW1lSHJlZik7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBtYXJrZWRMb2M6IFwiICsgbWFya2VkTG9jKTtcbnJldHVybiBzYW1lRG9jJiZzYW1lTG9jJiZzYW1lSHJlZiYmbWFya2VkTG9jO307QnJvd3NlckJvdC5wcm90b3R5cGUuX2lzU2FtZURvY3VtZW50PWZ1bmN0aW9uKG9yaWdpbmFsRG9jdW1lbnQsY3VycmVudERvY3VtZW50KXtyZXR1cm4gb3JpZ2luYWxEb2N1bWVudD09PWN1cnJlbnREb2N1bWVudDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFJlYWR5U3RhdGU9ZnVuY3Rpb24od2luZG93T2JqZWN0LGN1cnJlbnREb2N1bWVudCl7dmFyIHJzPWN1cnJlbnREb2N1bWVudC5yZWFkeVN0YXRlO2lmKHJzPT1udWxsKXtpZih0aGlzLmJ1dHRvbldpbmRvdyE9bnVsbCYmdGhpcy5idXR0b25XaW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZT09bnVsbHx8Ly8gbm90IHByb3h5IGluamVjdGlvbiBtb2RlIChhbmQgdGhlcmVmb3JlIGJ1dHRvbldpbmRvdyBpc24ndCBudWxsKVxudG9wLmRvY3VtZW50LnJlYWR5U3RhdGU9PW51bGwpey8vIHByb3h5IGluamVjdGlvbiBtb2RlIChhbmQgdGhlcmVmb3JlIGV2ZXJ5dGhpbmcncyBpbiB0aGUgdG9wIHdpbmRvdywgYnV0IGJ1dHRvbldpbmRvdyBkb2Vzbid0IGV4aXN0KVxuLy8gdWggb2ghICB3ZSdyZSBwcm9iYWJseSBvbiBGaXJlZm94IHdpdGggbm8gcmVhZHlTdGF0ZSBleHRlbnNpb24gaW5zdGFsbGVkIVxuLy8gV2UnbGwgaGF2ZSB0byBqdXN0IHRha2UgYSBndWVzcyBhcyB0byB3aGVuIHRoZSBkb2N1bWVudCBpcyBsb2FkZWQ7IHRoaXMgZ3Vlc3Ncbi8vIHdpbGwgbmV2ZXIgYmUgcGVyZmVjdC4gOi0oXG5pZih0eXBlb2YgY3VycmVudERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lIT0ndW5kZWZpbmVkJyYmdHlwZW9mIGN1cnJlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCE9J3VuZGVmaW5lZCcmJihjdXJyZW50RG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSE9bnVsbHx8Y3VycmVudERvY3VtZW50LmJvZHkhPW51bGwpKXtpZih3aW5kb3dPYmplY3QuZnJhbWVFbGVtZW50JiZ3aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZj09J2Fib3V0OmJsYW5rJyYmd2luZG93T2JqZWN0LmZyYW1lRWxlbWVudC5zcmMhPSdhYm91dDpibGFuaycpey8vTE9HLmluZm8oXCJnZXRSZWFkeVN0YXRlIG5vdCBsb2FkZWQsIGZyYW1lIGxvY2F0aW9uIHdhcyBhYm91dDpibGFuaywgYnV0IGZyYW1lIHNyYyA9IFwiICsgd2luZG93T2JqZWN0LmZyYW1lRWxlbWVudC5zcmMpO1xucmV0dXJuIG51bGw7fS8vTE9HLmRlYnVnKFwiZ2V0UmVhZHlTdGF0ZSA9IHdpbmRvd09iamVjdC5mcmFtZXMubGVuZ3RoID0gXCIgKyB3aW5kb3dPYmplY3QuZnJhbWVzLmxlbmd0aCk7XG5mb3IodmFyIGk9MDtpPHdpbmRvd09iamVjdC5mcmFtZXMubGVuZ3RoO2krKyl7Ly9MT0cuZGVidWcoXCJpID0gXCIgKyBpKTtcbmlmKHRoaXMuZ2V0UmVhZHlTdGF0ZSh3aW5kb3dPYmplY3QuZnJhbWVzW2ldLHdpbmRvd09iamVjdC5mcmFtZXNbaV0uZG9jdW1lbnQpIT0nY29tcGxldGUnKXsvL0xPRy5kZWJ1ZyhcImdldFJlYWR5U3RhdGUgYWhhISB0aGUgbmVzdGVkIGZyYW1lIFwiICsgd2luZG93T2JqZWN0LmZyYW1lc1tpXS5uYW1lICsgXCIgd2Fzbid0IHJlYWR5IVwiKTtcbnJldHVybiBudWxsO319cnM9J2NvbXBsZXRlJzt9ZWxzZXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIHJlYWR5U3RhdGUgd2FzIG51bGwgYW5kIERPTSBhcHBlYXJlZCB0byBub3QgYmUgcmVhZHkgeWV0XCIpO1xufX19ZWxzZSBpZihycz09J2xvYWRpbmcnJiZicm93c2VyVmVyc2lvbi5pc0lFKXsvL0xPRy5kZWJ1ZyhcInBhZ2VVbmxvYWRpbmcgPSB0cnVlISEhIVwiKTtcbnRoaXMucGFnZVVubG9hZGluZz10cnVlO30vL0xPRy5kZWJ1ZyhcImdldFJlYWR5U3RhdGUgcmV0dXJuaW5nIFwiICsgcnMpO1xucmV0dXJuIHJzO307LyoqIFRoaXMgZnVuY3Rpb24gaXNuJ3QgdXNlZCBub3JtYWxseSwgYnV0IHdhcyB0aGUgd2F5IHdlIHVzZWQgdG8gc2NoZWR1bGUgcG9sbGVyczpcbiBhc3luY2hyb25vdXNseSBleGVjdXRlZCBhdXRvbm9tb3VzIHVuaXRzLiAgVGhpcyBpcyBkZXByZWNhdGVkLCBidXQgcmVtYWlucyBoZXJlXG4gZm9yIGZ1dHVyZSByZWZlcmVuY2UuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5YWFhyZXNjaGVkdWxlUG9sbGVyPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe3ZhciBzZWxmPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLnBvbGxGb3JMb2FkKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO30sNTAwKTt9Oy8qKiBUaGlzIGZ1bmN0aW9uIGlzbid0IHVzZWQgbm9ybWFsbHksIGJ1dCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyBhc3luY2hyb25vdXMgcG9sbGVyc1xuICogVG8gZW5hYmxlIGl0LCByZW5hbWUgaXQgdG8gXCJyZXNjaGVkdWxlUG9sbGVyXCIsIHNvIGl0IHdpbGwgb3ZlcnJpZGUgdGhlXG4gKiBleGlzdGluZyByZXNjaGVkdWxlUG9sbGVyIGZ1bmN0aW9uXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5YWFhyZXNjaGVkdWxlUG9sbGVyPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe3ZhciBkb2M9dGhpcy5idXR0b25XaW5kb3cuZG9jdW1lbnQ7dmFyIGJ1dHRvbj1kb2MuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7dmFyIGJ1dHRvbk5hbWU9ZG9jLmNyZWF0ZVRleHROb2RlKG1hcmtlcisnIC0gJyt3aW5kb3dPYmplY3QubmFtZSk7YnV0dG9uLmFwcGVuZENoaWxkKGJ1dHRvbk5hbWUpO3ZhciB0b29scz1kb2MuZ2V0RWxlbWVudEJ5SWQoJ3Rvb2xzJyk7dmFyIHNlbGY9dGhpcztidXR0b24ub25jbGljaz1mdW5jdGlvbigpe3Rvb2xzLnJlbW92ZUNoaWxkKGJ1dHRvbik7c2VsZi5wb2xsRm9yTG9hZChsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTt9O3Rvb2xzLmFwcGVuZENoaWxkKGJ1dHRvbik7d2luZG93LnNldFRpbWVvdXQoYnV0dG9uLm9uY2xpY2ssNTAwKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlc2NoZWR1bGVQb2xsZXI9ZnVuY3Rpb24obG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcil7dmFyIHNlbGY9dGhpczt2YXIgcG9sbGVyRnVuY3Rpb249ZnVuY3Rpb24gcG9sbGVyRnVuY3Rpb24oKXtzZWxmLnBvbGxGb3JMb2FkKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO307dGhpcy53aW5kb3dQb2xsZXJzLnB1c2gocG9sbGVyRnVuY3Rpb24pO307QnJvd3NlckJvdC5wcm90b3R5cGUucnVuU2NoZWR1bGVkUG9sbGVycz1mdW5jdGlvbigpey8vTE9HLmRlYnVnKFwicnVuU2NoZWR1bGVkUG9sbGVyc1wiKTtcbnZhciBvbGRQb2xsZXJzPXRoaXMud2luZG93UG9sbGVyczt0aGlzLndpbmRvd1BvbGxlcnM9bmV3IEFycmF5KCk7Zm9yKHZhciBpPTA7aTxvbGRQb2xsZXJzLmxlbmd0aDtpKyspe29sZFBvbGxlcnNbaV0uY2FsbCgpO30vL0xPRy5kZWJ1ZyhcInJ1blNjaGVkdWxlZFBvbGxlcnMgRE9ORVwiKTtcbn07QnJvd3NlckJvdC5wcm90b3R5cGUuaXNQb2xsaW5nRm9yTG9hZD1mdW5jdGlvbih3aW4pe3ZhciBtYXJrZXI9dm9pZCAwO3ZhciBmcmFtZUVsZW1lbnQ9dGhpcy5fZ2V0RnJhbWVFbGVtZW50KHdpbik7dmFyIGh0YVN1YkZyYW1lPXRoaXMuX2lzSFRBU3ViRnJhbWUod2luKTtpZihmcmFtZUVsZW1lbnQmJiFodGFTdWJGcmFtZSl7bWFya2VyPWZyYW1lRWxlbWVudFsnZnJhbWUnK3RoaXMudW5pcXVlSWRdO31lbHNle21hcmtlcj13aW5bdGhpcy51bmlxdWVJZF07fWlmKCFtYXJrZXIpey8vTE9HLmRlYnVnKFwiaXNQb2xsaW5nRm9yTG9hZCBmYWxzZSwgbWlzc2luZyB1bmlxdWVJZCBcIiArIHRoaXMudW5pcXVlSWQgKyBcIjogXCIgKyBtYXJrZXIpO1xucmV0dXJuIGZhbHNlO31pZighdGhpcy5wb2xsaW5nRm9yTG9hZFttYXJrZXJdKXsvL0xPRy5kZWJ1ZyhcImlzUG9sbGluZ0ZvckxvYWQgZmFsc2UsIHRoaXMucG9sbGluZ0ZvckxvYWRbXCIgKyBtYXJrZXIgKyBcIl06IFwiICsgdGhpcy5wb2xsaW5nRm9yTG9hZFttYXJrZXJdKTtcbnJldHVybiBmYWxzZTt9cmV0dXJuIG1hcmtlcjt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFdpbmRvd0J5TmFtZT1mdW5jdGlvbih3aW5kb3dOYW1lLGRvTm90TW9kaWZ5KXsvL0xPRy5kZWJ1ZyhcImdldFdpbmRvd0J5TmFtZShcIiArIHdpbmRvd05hbWUgKyBcIilcIik7XG4vLyBGaXJzdCBsb29rIGluIHRoZSBtYXAgb2Ygb3BlbmVkIHdpbmRvd3NcbnZhciB0YXJnZXRXaW5kb3c9dGhpcy5vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdO2lmKCF0YXJnZXRXaW5kb3cpe3RhcmdldFdpbmRvdz10aGlzLnRvcFdpbmRvd1t3aW5kb3dOYW1lXTt9aWYoIXRhcmdldFdpbmRvdyYmd2luZG93TmFtZT09J19ibGFuaycpe2Zvcih2YXIgd2luTmFtZSBpbiB0aGlzLm9wZW5lZFdpbmRvd3Mpey8vIF9ibGFuayBjYW4gbWF0Y2ggc2VsZW5pdW1fYmxhbmsqLCBpZiBpdCBsb29rcyBsaWtlIGl0J3MgT0sgKHZhbGlkIGhyZWYsIG5vdCBjbG9zZWQpXG5pZigvXnNlbGVuaXVtX2JsYW5rLy50ZXN0KHdpbk5hbWUpKXt0YXJnZXRXaW5kb3c9dGhpcy5vcGVuZWRXaW5kb3dzW3dpbk5hbWVdO3ZhciBvaz12b2lkIDA7dHJ5e2lmKCF0aGlzLl93aW5kb3dDbG9zZWQodGFyZ2V0V2luZG93KSl7b2s9dGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWY7fX1jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuaWYob2spYnJlYWs7fX19aWYoIXRhcmdldFdpbmRvdyl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdXaW5kb3cgZG9lcyBub3QgZXhpc3QuIElmIHRoaXMgbG9va3MgbGlrZSBhIFNlbGVuaXVtIGJ1ZywgbWFrZSBzdXJlIHRvIHJlYWQgaHR0cDovL3NlbGVuaXVtaHEub3JnL2RvY3MvMDJfc2VsZW5pdW1faWRlLmh0bWwjYWxlcnRzLXBvcHVwcy1hbmQtbXVsdGlwbGUtd2luZG93cyBmb3IgcG90ZW50aWFsIHdvcmthcm91bmRzLicpO31pZihicm93c2VyVmVyc2lvbi5pc0hUQSl7dHJ5e3RhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmO31jYXRjaChlKXt0YXJnZXRXaW5kb3c9d2luZG93Lm9wZW4oJycsdGFyZ2V0V2luZG93Lm5hbWUpO3RoaXMub3BlbmVkV2luZG93c1t0YXJnZXRXaW5kb3cubmFtZV09dGFyZ2V0V2luZG93O319aWYoIWRvTm90TW9kaWZ5KXt0aGlzLl9tb2RpZnlXaW5kb3codGFyZ2V0V2luZG93KTt9cmV0dXJuIHRhcmdldFdpbmRvdzt9Oy8qKlxuICogRmluZCBhIHdpbmRvdyBuYW1lIGZyb20gdGhlIHdpbmRvdyB0aXRsZS5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFdpbmRvd05hbWVCeVRpdGxlPWZ1bmN0aW9uKHdpbmRvd1RpdGxlKXsvL0xPRy5kZWJ1ZyhcImdldFdpbmRvd05hbWVCeVRpdGxlKFwiICsgd2luZG93VGl0bGUgKyBcIilcIik7XG4vLyBGaXJzdCBsb29rIGluIHRoZSBtYXAgb2Ygb3BlbmVkIHdpbmRvd3MgYW5kIGl0ZXJhdGUgdGhlbVxuZm9yKHZhciB3aW5kb3dOYW1lIGluIHRoaXMub3BlbmVkV2luZG93cyl7dmFyIHRhcmdldFdpbmRvdz10aGlzLm9wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV07Ly8gSWYgdGhlIHRhcmdldCB3aW5kb3cncyB0aXRsZSBpcyBvdXIgdGl0bGVcbnRyeXsvLyBUT0RPIGltcGxlbWVudCBQYXR0ZXJuIE1hdGNoaW5nIGhlcmVcbmlmKCF0aGlzLl93aW5kb3dDbG9zZWQodGFyZ2V0V2luZG93KSYmdGFyZ2V0V2luZG93LmRvY3VtZW50LnRpdGxlPT13aW5kb3dUaXRsZSl7cmV0dXJuIHdpbmRvd05hbWU7fX1jYXRjaChlKXsvLyBZb3UnbGwgb2Z0ZW4gZ2V0IFBlcm1pc3Npb24gRGVuaWVkIGVycm9ycyBoZXJlIGluIElFXG4vLyBlaCwgaWYgd2UgY2FuJ3QgcmVhZCB0aGlzIHdpbmRvdydzIHRpdGxlLFxuLy8gaXQncyBwcm9iYWJseSBub3QgYXZhaWxhYmxlIHRvIHVzIHJpZ2h0IG5vdyBhbnl3YXlcbn19dHJ5e2lmKHRoaXMudG9wV2luZG93LmRvY3VtZW50LnRpdGxlPT13aW5kb3dUaXRsZSl7cmV0dXJuJyc7fX1jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuLy8gSUUgUGVybSBkZW5pZWRcbnRocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnQ291bGQgbm90IGZpbmQgd2luZG93IHdpdGggdGl0bGUgJyt3aW5kb3dUaXRsZSk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXROb25Ub3BXaW5kb3dOYW1lcz1mdW5jdGlvbigpe3ZhciBub25Ub3BXaW5kb3dOYW1lcz1bXTtmb3IodmFyIHdpbmRvd05hbWUgaW4gdGhpcy5vcGVuZWRXaW5kb3dzKXt2YXIgd2luPXRoaXMub3BlbmVkV2luZG93c1t3aW5kb3dOYW1lXTtpZighdGhpcy5fd2luZG93Q2xvc2VkKHdpbikmJndpbiE9dGhpcy50b3BXaW5kb3cpe25vblRvcFdpbmRvd05hbWVzLnB1c2god2luZG93TmFtZSk7fX1yZXR1cm4gbm9uVG9wV2luZG93TmFtZXM7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDdXJyZW50V2luZG93PWZ1bmN0aW9uKGRvTm90TW9kaWZ5KXtpZih0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7cmV0dXJuIHdpbmRvdzt9dmFyIHRlc3RXaW5kb3c9X2Nsb3N1cmVQb2x5ZmlsbC5jb3JlLmZpcmVmb3gudW53cmFwKHRoaXMuY3VycmVudFdpbmRvdyk7aWYoIWRvTm90TW9kaWZ5KXt0aGlzLl9tb2RpZnlXaW5kb3codGVzdFdpbmRvdyk7Ly9MT0cuZGVidWcoXCJnZXRDdXJyZW50V2luZG93IG5ld1BhZ2VMb2FkZWQgPSBmYWxzZVwiKTtcbnRoaXMubmV3UGFnZUxvYWRlZD1mYWxzZTt9dGVzdFdpbmRvdz10aGlzLl9oYW5kbGVDbG9zZWRTdWJGcmFtZSh0ZXN0V2luZG93LGRvTm90TW9kaWZ5KTtfY2xvc3VyZVBvbHlmaWxsLmJvdC53aW5kb3dfPXRlc3RXaW5kb3c7cmV0dXJuIF9jbG9zdXJlUG9seWZpbGwuY29yZS5maXJlZm94LnVud3JhcCh0ZXN0V2luZG93KTt9Oy8qKlxuICogT2ZmZXIgYSBtZXRob2QgdGhlIGVuZC11c2VyIGNhbiByZWxpYWJseSB1c2UgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgd2luZG93LlxuICogVGhpcyBzaG91bGQgd29yayBldmVuIGZvciB3aW5kb3dzIHdpdGggYW4gWFBDTmF0aXZlV3JhcHBlci4gUmV0dXJucyB0aGVcbiAqIGN1cnJlbnQgd2luZG93IG9iamVjdC5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFVzZXJXaW5kb3c9ZnVuY3Rpb24oKXt2YXIgdXNlcldpbmRvdz10aGlzLmdldEN1cnJlbnRXaW5kb3codHJ1ZSk7cmV0dXJuIHVzZXJXaW5kb3c7fTtCcm93c2VyQm90LnByb3RvdHlwZS5faGFuZGxlQ2xvc2VkU3ViRnJhbWU9ZnVuY3Rpb24odGVzdFdpbmRvdyxkb05vdE1vZGlmeSl7aWYodGhpcy5wcm94eUluamVjdGlvbk1vZGUpe3JldHVybiB0ZXN0V2luZG93O31pZih0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZCl7dmFyIG1pc3Npbmc9dHJ1ZTtpZih0ZXN0V2luZG93LnBhcmVudCYmdGVzdFdpbmRvdy5wYXJlbnQuZnJhbWVzJiZ0ZXN0V2luZG93LnBhcmVudC5mcmFtZXMubGVuZ3RoKXtmb3IodmFyIGk9MDtpPHRlc3RXaW5kb3cucGFyZW50LmZyYW1lcy5sZW5ndGg7aSsrKXt2YXIgZnJhbWU9dGVzdFdpbmRvdy5wYXJlbnQuZnJhbWVzW2ldO2lmKGZyYW1lPT10ZXN0V2luZG93fHxmcmFtZS5zZWxlbml1bUtleT09dGVzdFdpbmRvdy5zZWxlbml1bUtleSl7bWlzc2luZz1mYWxzZTticmVhazt9fX1pZihtaXNzaW5nKXsvL0xPRy53YXJuKFwiQ3VycmVudCBzdWJmcmFtZSBhcHBlYXJzIHRvIGhhdmUgY2xvc2VkOyBzZWxlY3RpbmcgdG9wIGZyYW1lXCIpO1xudGhpcy5zZWxlY3RGcmFtZSgncmVsYXRpdmU9dG9wJyk7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFdpbmRvdyhkb05vdE1vZGlmeSk7fX1lbHNlIGlmKHRoaXMuX3dpbmRvd0Nsb3NlZCh0ZXN0V2luZG93KSl7Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMTEvMjVcbi8qdmFyIGNsb3NlZEVycm9yID0gbmV3IFNlbGVuaXVtRXJyb3IoXCJDdXJyZW50IHdpbmRvdyBvciBmcmFtZSBpcyBjbG9zZWQhXCIpO1xuICAgICAgICBjbG9zZWRFcnJvci53aW5kb3dDbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aHJvdyBjbG9zZWRFcnJvcjsqL3Rlc3RXaW5kb3c9dGhpcy50b3BXaW5kb3c7Ly9zZWxlY3QgbGl2ZSBvYmplY3Rcbn1yZXR1cm4gdGVzdFdpbmRvdzt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNldFNob3VsZEhpZ2hsaWdodEVsZW1lbnQ9ZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KXt0aGlzLnNob3VsZEhpZ2hsaWdodExvY2F0ZWRFbGVtZW50PXNob3VsZEhpZ2hsaWdodDt9Oy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8vKiBCUk9XU0VSLVNQRUNJRklDIEZVTkNUSU9OUyBPTkxZIEFGVEVSIFRISVMgTElORSAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLl9yZWdpc3RlckFsbExvY2F0b3JGdW5jdGlvbnM9ZnVuY3Rpb24oKXsvLyBUT0RPIC0gZG9uJ3QgZG8gdGhpcyBpbiB0aGUgY29uc3RydWN0b3IgLSBvbmx5IG5lZWRlZCBvbmNlIGV2ZXJcbnRoaXMubG9jYXRpb25TdHJhdGVnaWVzPXt9O2Zvcih2YXIgZnVuY3Rpb25OYW1lIGluIHRoaXMpe3ZhciByZXN1bHQ9L15sb2NhdGVFbGVtZW50QnkoW0EtWl0uKykkLy5leGVjKGZ1bmN0aW9uTmFtZSk7aWYocmVzdWx0IT1udWxsKXt2YXIgbG9jYXRvckZ1bmN0aW9uPXRoaXNbZnVuY3Rpb25OYW1lXTtpZih0eXBlb2YgbG9jYXRvckZ1bmN0aW9uIT0nZnVuY3Rpb24nKXtjb250aW51ZTt9Ly8gVXNlIGEgc3BlY2lmaWVkIHByZWZpeCBpbiBwcmVmZXJlbmNlIHRvIG9uZSBnZW5lcmF0ZWQgZnJvbVxuLy8gdGhlIGZ1bmN0aW9uIG5hbWVcbnZhciBsb2NhdG9yUHJlZml4PWxvY2F0b3JGdW5jdGlvbi5wcmVmaXh8fHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO3RoaXMubG9jYXRpb25TdHJhdGVnaWVzW2xvY2F0b3JQcmVmaXhdPWxvY2F0b3JGdW5jdGlvbjt9fS8qKlxuICAgKiBGaW5kIGEgbG9jYXRvciBiYXNlZCBvbiBhIHByZWZpeC5cbiAgICovdGhpcy5maW5kRWxlbWVudEJ5PWZ1bmN0aW9uKGxvY2F0b3JUeXBlLGxvY2F0b3IsaW5Eb2N1bWVudCxpbldpbmRvdyl7dmFyIGxvY2F0b3JGdW5jdGlvbj10aGlzLmxvY2F0aW9uU3RyYXRlZ2llc1tsb2NhdG9yVHlwZV07aWYoIWxvY2F0b3JGdW5jdGlvbil7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KFwiVW5yZWNvZ25pc2VkIGxvY2F0b3IgdHlwZTogJ1wiK2xvY2F0b3JUeXBlK1wiJ1wiKTt9cmV0dXJuIGxvY2F0b3JGdW5jdGlvbi5jYWxsKHRoaXMsbG9jYXRvcixpbkRvY3VtZW50LGluV2luZG93KTt9Oy8qKlxuICAgKiBUaGUgaW1wbGljaXQgbG9jYXRvciwgdGhhdCBpcyB1c2VkIHdoZW4gbm8gcHJlZml4IGlzIHN1cHBsaWVkLlxuICAgKi90aGlzLmxvY2F0aW9uU3RyYXRlZ2llc1snaW1wbGljaXQnXT1mdW5jdGlvbihsb2NhdG9yLGluRG9jdW1lbnQsaW5XaW5kb3cpe2lmKGxvY2F0b3Iuc3RhcnRzV2l0aCgnLy8nKSl7cmV0dXJuIHRoaXMubG9jYXRlRWxlbWVudEJ5WFBhdGgobG9jYXRvcixpbkRvY3VtZW50LGluV2luZG93KTt9aWYobG9jYXRvci5zdGFydHNXaXRoKCdkb2N1bWVudC4nKSl7cmV0dXJuIHRoaXMubG9jYXRlRWxlbWVudEJ5RG9tVHJhdmVyc2FsKGxvY2F0b3IsaW5Eb2N1bWVudCxpbldpbmRvdyk7fXJldHVybiB0aGlzLmxvY2F0ZUVsZW1lbnRCeUlkZW50aWZpZXIobG9jYXRvcixpbkRvY3VtZW50LGluV2luZG93KTt9O307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX2Nsb3N1cmVQb2x5ZmlsbC5jb3JlLmZpcmVmb3gudW53cmFwKHRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmRvY3VtZW50KTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXREb2N1bWVudCgpLnRpdGxlO2lmKHR5cGVvZiB0PT0nc3RyaW5nJyl7dD10LnRyaW0oKTt9cmV0dXJuIHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDb29raWVCeU5hbWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb2Mpe2lmKCFkb2MpZG9jPXRoaXMuZ2V0RG9jdW1lbnQoKTt2YXIgY2s9ZG9jLmNvb2tpZTtpZighY2spcmV0dXJuIG51bGw7dmFyIGNrUGFpcnM9Y2suc3BsaXQoLzsvKTtmb3IodmFyIGk9MDtpPGNrUGFpcnMubGVuZ3RoO2krKyl7dmFyIGNrUGFpcj1ja1BhaXJzW2ldLnRyaW0oKTt2YXIgY2tOYW1lVmFsdWU9Y2tQYWlyLnNwbGl0KC89Lyk7dmFyIGNrTmFtZT1kZWNvZGVVUklDb21wb25lbnQoY2tOYW1lVmFsdWVbMF0pO2lmKGNrTmFtZT09PWNvb2tpZU5hbWUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoY2tOYW1lVmFsdWUuc2xpY2UoMSkuam9pbignPScpKTt9fXJldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsQ29va2llTmFtZXM9ZnVuY3Rpb24oZG9jKXtpZighZG9jKWRvYz10aGlzLmdldERvY3VtZW50KCk7dmFyIGNrPWRvYy5jb29raWU7aWYoIWNrKXJldHVybltdO3ZhciBjb29raWVOYW1lcz1bXTt2YXIgY2tQYWlycz1jay5zcGxpdCgvOy8pO2Zvcih2YXIgaT0wO2k8Y2tQYWlycy5sZW5ndGg7aSsrKXt2YXIgY2tQYWlyPWNrUGFpcnNbaV0udHJpbSgpO3ZhciBja05hbWVWYWx1ZT1ja1BhaXIuc3BsaXQoLz0vKTt2YXIgY2tOYW1lPWRlY29kZVVSSUNvbXBvbmVudChja05hbWVWYWx1ZVswXSk7Y29va2llTmFtZXMucHVzaChja05hbWUpO31yZXR1cm4gY29va2llTmFtZXM7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxSYXdDb29raWVOYW1lcz1mdW5jdGlvbihkb2Mpe2lmKCFkb2MpZG9jPXRoaXMuZ2V0RG9jdW1lbnQoKTt2YXIgY2s9ZG9jLmNvb2tpZTtpZighY2spcmV0dXJuW107dmFyIGNvb2tpZU5hbWVzPVtdO3ZhciBja1BhaXJzPWNrLnNwbGl0KC87Lyk7Zm9yKHZhciBpPTA7aTxja1BhaXJzLmxlbmd0aDtpKyspe3ZhciBja1BhaXI9Y2tQYWlyc1tpXS50cmltKCk7dmFyIGNrTmFtZVZhbHVlPWNrUGFpci5zcGxpdCgvPS8pO3ZhciBja05hbWU9Y2tOYW1lVmFsdWVbMF07Y29va2llTmFtZXMucHVzaChja05hbWUpO31yZXR1cm4gY29va2llTmFtZXM7fTtmdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRXaXRoQVNQSGFjayh1cmkpe3ZhciByZWd1bGFyRW5jb2Rpbmc9ZW5jb2RlVVJJQ29tcG9uZW50KHVyaSk7dmFyIGFnZ3Jlc3NpdmVFbmNvZGluZz1yZWd1bGFyRW5jb2RpbmcucmVwbGFjZSgnLicsJyUyRScpO2FnZ3Jlc3NpdmVFbmNvZGluZz1hZ2dyZXNzaXZlRW5jb2RpbmcucmVwbGFjZSgnXycsJyU1RicpO3JldHVybiBhZ2dyZXNzaXZlRW5jb2Rpbmc7fUJyb3dzZXJCb3QucHJvdG90eXBlLmRlbGV0ZUNvb2tpZT1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7aWYoIWRvYylkb2M9dGhpcy5nZXREb2N1bWVudCgpO3ZhciBleHBpcmVEYXRlSW5NaWxsaXNlY29uZHM9bmV3IERhdGUoKS5nZXRUaW1lKCkrLTEqMTAwMDsvLyB3ZSBjYW4ndCByZWFsbHkgYmUgc3VyZSBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggZW5jb2RlZCBvciB1bmVuY29kZWQgY29va2llIG5hbWVzXG52YXIgX2Nvb2tpZU5hbWU9dm9pZCAwO3ZhciByYXdDb29raWVOYW1lcz10aGlzLmdldEFsbFJhd0Nvb2tpZU5hbWVzKGRvYyk7Zm9yKHZhciByYXdDb29raWVOdW1iZXIgaW4gcmF3Q29va2llTmFtZXMpe2lmKHJhd0Nvb2tpZU5hbWVzW3Jhd0Nvb2tpZU51bWJlcl09PWNvb2tpZU5hbWUpe19jb29raWVOYW1lPWNvb2tpZU5hbWU7YnJlYWs7fWVsc2UgaWYocmF3Q29va2llTmFtZXNbcmF3Q29va2llTnVtYmVyXT09ZW5jb2RlVVJJQ29tcG9uZW50KGNvb2tpZU5hbWUpKXtfY29va2llTmFtZT1lbmNvZGVVUklDb21wb25lbnQoY29va2llTmFtZSk7YnJlYWs7fWVsc2UgaWYocmF3Q29va2llTmFtZXNbcmF3Q29va2llTnVtYmVyXT09ZW5jb2RlVVJJQ29tcG9uZW50V2l0aEFTUEhhY2soY29va2llTmFtZSkpe19jb29raWVOYW1lPWVuY29kZVVSSUNvbXBvbmVudFdpdGhBU1BIYWNrKGNvb2tpZU5hbWUpO2JyZWFrO319dmFyIGNvb2tpZT1fY29va2llTmFtZSsnPWRlbGV0ZWQ7ICc7aWYocGF0aCl7Y29va2llKz0ncGF0aD0nK3BhdGgrJzsgJzt9aWYoZG9tYWluKXtjb29raWUrPSdkb21haW49Jytkb21haW4rJzsgJzt9Y29va2llKz0nZXhwaXJlcz0nK25ldyBEYXRlKGV4cGlyZURhdGVJbk1pbGxpc2Vjb25kcykudG9HTVRTdHJpbmcoKTsvL0xPRy5kZWJ1ZyhcIlNldHRpbmcgY29va2llIHRvOiBcIiArIGNvb2tpZSk7XG5kb2MuY29va2llPWNvb2tpZTt9Oy8qKiBUcnkgdG8gZGVsZXRlIGNvb2tpZSwgcmV0dXJuIGZhbHNlIGlmIGl0IGRpZG4ndCB3b3JrICovQnJvd3NlckJvdC5wcm90b3R5cGUuX21heWJlRGVsZXRlQ29va2llPWZ1bmN0aW9uKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsZG9jKXt0aGlzLmRlbGV0ZUNvb2tpZShjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyk7cmV0dXJuIXRoaXMuZ2V0Q29va2llQnlOYW1lKGNvb2tpZU5hbWUsZG9jKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZURvbWFpbnM9ZnVuY3Rpb24oY29va2llTmFtZSxkb21haW4scGF0aCxkb2Mpe3ZhciBkZWxldGVkPXRoaXMuX21heWJlRGVsZXRlQ29va2llKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsZG9jKTtpZihkZWxldGVkKXJldHVybiB0cnVlO3ZhciBkb3RJbmRleD1kb21haW4uaW5kZXhPZignLicpO2lmKGRvdEluZGV4PT0wKXtyZXR1cm4gdGhpcy5fcmVjdXJzaXZlbHlEZWxldGVDb29raWVEb21haW5zKGNvb2tpZU5hbWUsZG9tYWluLnN1YnN0cmluZygxKSxwYXRoLGRvYyk7fWVsc2UgaWYoZG90SW5kZXghPS0xKXtyZXR1cm4gdGhpcy5fcmVjdXJzaXZlbHlEZWxldGVDb29raWVEb21haW5zKGNvb2tpZU5hbWUsZG9tYWluLnN1YnN0cmluZyhkb3RJbmRleCkscGF0aCxkb2MpO31lbHNley8vIE5vIG1vcmUgZG90czsgdHJ5IGp1c3Qgbm90IHBhc3NpbmcgaW4gYSBkb21haW4gYXQgYWxsXG5yZXR1cm4gdGhpcy5fbWF5YmVEZWxldGVDb29raWUoY29va2llTmFtZSxudWxsLHBhdGgsZG9jKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5fcmVjdXJzaXZlbHlEZWxldGVDb29raWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb21haW4scGF0aCxkb2Mpe3ZhciBzbGFzaEluZGV4PXBhdGgubGFzdEluZGV4T2YoJy8nKTt2YXIgZmluYWxJbmRleD1wYXRoLmxlbmd0aC0xO2lmKHNsYXNoSW5kZXg9PWZpbmFsSW5kZXgpe3NsYXNoSW5kZXgtLTt9aWYoc2xhc2hJbmRleCE9LTEpe3ZhciBkZWxldGVkPXRoaXMuX3JlY3Vyc2l2ZWx5RGVsZXRlQ29va2llKGNvb2tpZU5hbWUsZG9tYWluLHBhdGguc3Vic3RyaW5nKDAsc2xhc2hJbmRleCsxKSxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuIHRydWU7fXJldHVybiB0aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZURvbWFpbnMoY29va2llTmFtZSxkb21haW4scGF0aCxkb2MpO307QnJvd3NlckJvdC5wcm90b3R5cGUucmVjdXJzaXZlbHlEZWxldGVDb29raWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb21haW4scGF0aCx3aW4pe2lmKCF3aW4pd2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO3ZhciBkb2M9d2luLmRvY3VtZW50O2lmKCFkb21haW4pe2RvbWFpbj1kb2MuZG9tYWluO31pZighcGF0aCl7cGF0aD13aW4ubG9jYXRpb24ucGF0aG5hbWU7fXZhciBkZWxldGVkPXRoaXMuX3JlY3Vyc2l2ZWx5RGVsZXRlQ29va2llKGNvb2tpZU5hbWUsJy4nK2RvbWFpbixwYXRoLGRvYyk7aWYoZGVsZXRlZClyZXR1cm47Ly8gRmluYWxseSB0cnkgYSBudWxsIHBhdGggKFRyeSBpdCBsYXN0IGJlY2F1c2UgaXQncyB1bmNvbW1vbilcbmRlbGV0ZWQ9dGhpcy5fcmVjdXJzaXZlbHlEZWxldGVDb29raWVEb21haW5zKGNvb2tpZU5hbWUsJy4nK2RvbWFpbixudWxsLGRvYyk7aWYoZGVsZXRlZClyZXR1cm47dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KFwiQ291bGRuJ3QgZGVsZXRlIGNvb2tpZSBcIitjb29raWVOYW1lKTt9Oy8qXG4gKiBGaW5kcyBhbiBlbGVtZW50IG9uIHRoZSBjdXJyZW50IHBhZ2UsIHVzaW5nIHZhcmlvdXMgbG9va3VwIHByb3RvY29sc1xuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZmluZEVsZW1lbnRPck51bGw9ZnVuY3Rpb24obG9jYXRvcix3aW4pe2xvY2F0b3I9KDAsX3V0aWxzLnBhcnNlX2xvY2F0b3IpKGxvY2F0b3IpO2lmKHdpbj09bnVsbCl7d2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO312YXIgZWxlbWVudD1fY2xvc3VyZVBvbHlmaWxsLmJvdC5sb2NhdG9ycy5maW5kRWxlbWVudChfZGVmaW5lUHJvcGVydHkoe30sbG9jYXRvci50eXBlLGxvY2F0b3Iuc3RyaW5nKSx3aW4uZG9jdW1lbnQpO2VsZW1lbnQ9X2Nsb3N1cmVQb2x5ZmlsbC5jb3JlLmZpcmVmb3gudW53cmFwKGVsZW1lbnQpOy8vIEVsZW1lbnQgd2FzIG5vdCBmb3VuZCBieSBhbnkgbG9jYXRvciBmdW5jdGlvbi5cbnJldHVybiBlbGVtZW50O307QnJvd3NlckJvdC5wcm90b3R5cGUuZmluZEVsZW1lbnQ9ZnVuY3Rpb24obG9jYXRvcix3aW4pe3ZhciBlbGVtZW50PXRoaXMuZmluZEVsZW1lbnRPck51bGwobG9jYXRvcix3aW4pO2lmKGVsZW1lbnQ9PW51bGwpdGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdFbGVtZW50ICcrbG9jYXRvcisnIG5vdCBmb3VuZCcpO3JldHVybiBfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZmlyZWZveC51bndyYXAoZWxlbWVudCk7fTsvKipcbiAqIEZpbmRzIGEgbGlzdCBvZiBlbGVtZW50cyB1c2luZyB0aGUgc2FtZSBtZWNoYW5pc20gYXMgd2ViZHJpdmVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBob3cgVGhlIGZpbmRpbmcgbWVjaGFuaXNtIHRvIHVzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2luZyBUaGUgc2VsZWN0b3IgdG8gdXNlLlxuICogQHBhcmFtIHtEb2N1bWVudHxFbGVtZW50fSByb290IFRoZSByb290IG9mIHRoZSBzZWFyY2ggcGF0aC5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmZpbmRFbGVtZW50c0xpa2VXZWJEcml2ZXI9ZnVuY3Rpb24oaG93LHVzaW5nLHJvb3Qpe3ZhciBieT17fTtieVtob3ddPXVzaW5nO3ZhciBhbGw9X2Nsb3N1cmVQb2x5ZmlsbC5ib3QubG9jYXRvcnMuZmluZEVsZW1lbnRzKGJ5LHJvb3QpO3ZhciB0b1JldHVybj0nJztmb3IodmFyIGk9MDtpPGFsbC5sZW5ndGgtMTtpKyspe3RvUmV0dXJuKz1fY2xvc3VyZVBvbHlmaWxsLmJvdC5pbmplY3QuY2FjaGUuYWRkRWxlbWVudChfY2xvc3VyZVBvbHlmaWxsLmNvcmUuZmlyZWZveC51bndyYXAoYWxsW2ldKSkrJywnO31pZihhbGxbYWxsLmxlbmd0aC0xXSl7dG9SZXR1cm4rPV9jbG9zdXJlUG9seWZpbGwuYm90LmluamVjdC5jYWNoZS5hZGRFbGVtZW50KF9jbG9zdXJlUG9seWZpbGwuY29yZS5maXJlZm94LnVud3JhcChhbGxbYWxsLmxlbmd0aC0xXSkpO31yZXR1cm4gdG9SZXR1cm47fTsvKipcbiAqIEluIG5vbi1JRSBicm93c2VycywgZ2V0RWxlbWVudEJ5SWQoKSBkb2VzIG5vdCBzZWFyY2ggYnkgbmFtZS4gIEluc3RlYWQsIHdlXG4gKiB3ZSBzZWFyY2ggc2VwYXJhdGVseSBieSBpZCBhbmQgbmFtZS5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUlkZW50aWZpZXI9ZnVuY3Rpb24oaWRlbnRpZmllcixpbkRvY3VtZW50LGluV2luZG93KXsvLyBIQkMgLSB1c2UgXCJ0aGlzXCIgaW5zdGVhZCBvZiBcIkJyb3dzZXJCb3QucHJvdG90eXBlXCI7IG90aGVyd2lzZSB3ZSBsb3NlXG4vLyB0aGUgbm9uLXByb3RvdHlwZSBmaWVsZHMgb2YgdGhlIG9iamVjdCFcbnJldHVybiB0aGlzLmxvY2F0ZUVsZW1lbnRCeUlkKGlkZW50aWZpZXIsaW5Eb2N1bWVudCxpbldpbmRvdyl8fEJyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeU5hbWUoaWRlbnRpZmllcixpbkRvY3VtZW50LGluV2luZG93KXx8bnVsbDt9Oy8qKlxuICogRmluZCB0aGUgZWxlbWVudCB3aXRoIGlkIC0gY2FuJ3QgcmVseSBvbiBnZXRFbGVtZW50QnlJZCwgY296IGl0IHJldHVybnMgYnkgbmFtZSBhcyB3ZWxsIGluIElFLi5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUlkPWZ1bmN0aW9uKGlkZW50aWZpZXIsaW5Eb2N1bWVudCl7dmFyIGVsZW1lbnQ9aW5Eb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZGVudGlmaWVyKTtpZihlbGVtZW50JiZlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKT09PWlkZW50aWZpZXIpe3JldHVybiBlbGVtZW50O31lbHNlIGlmKGJyb3dzZXJWZXJzaW9uLmlzSUV8fGJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpey8vIFNFTC00ODRcbnZhciBlbGVtZW50cz1pbkRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7Zm9yKHZhciBpPTAsbj1lbGVtZW50cy5sZW5ndGg7aTxuOysraSl7ZWxlbWVudD1lbGVtZW50c1tpXTtpZihlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09J2Zvcm0nKXtpZihlbGVtZW50LmF0dHJpYnV0ZXNbJ2lkJ10ubm9kZVZhbHVlPT1pZGVudGlmaWVyKXtyZXR1cm4gZWxlbWVudDt9fWVsc2UgaWYoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk9PWlkZW50aWZpZXIpe3JldHVybiBlbGVtZW50O319cmV0dXJuIG51bGw7fWVsc2V7cmV0dXJuIG51bGw7fX07LyoqXG4gKiBGaW5kIGFuIGVsZW1lbnQgYnkgbmFtZSwgcmVmaW5lZCBieSAob3B0aW9uYWwpIGVsZW1lbnQtZmlsdGVyXG4gKiBleHByZXNzaW9ucy5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeU5hbWU9ZnVuY3Rpb24obG9jYXRvcixkb2N1bWVudCl7dmFyIGVsZW1lbnRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMTEvMjNcbi8qXG4gICAgICAgIHZhciBmaWx0ZXJzID0gbG9jYXRvci5zcGxpdCgnICcpO1xuICAgICAgICBmaWx0ZXJzWzBdID0gJ25hbWU9JyArIGZpbHRlcnNbMF07XG5cbiAgICAgICAgd2hpbGUgKGZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gZmlsdGVycy5zaGlmdCgpO1xuICAgICAgICAgICAgZWxlbWVudHMgPSB0aGlzLnNlbGVjdEVsZW1lbnRzKGZpbHRlciwgZWxlbWVudHMsICd2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgICovdmFyIGZpbHRlcj0nbmFtZT0nK2xvY2F0b3I7ZWxlbWVudHM9dGhpcy5zZWxlY3RFbGVtZW50cyhmaWx0ZXIsZWxlbWVudHMsJ3ZhbHVlJyk7aWYoZWxlbWVudHMubGVuZ3RoPjApe3JldHVybiBlbGVtZW50c1swXTt9cmV0dXJuIG51bGw7fTsvKipcbiAqIEZpbmRzIGFuIGVsZW1lbnQgdXNpbmcgYnkgZXZhbHVhdGluZyB0aGUgc3BlY2ZpZWQgc3RyaW5nLlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5RG9tVHJhdmVyc2FsPWZ1bmN0aW9uKGRvbVRyYXZlcnNhbCl7dmFyIGVsZW1lbnQ9bnVsbDsvL0V2YWxpbnNhbmRib3hcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxudmFyIG15U2FuZGJveD1uZXcgQ29tcG9uZW50cy51dGlscy5TYW5kYm94KHRoaXMuY3VycmVudFdpbmRvdy5sb2NhdGlvbi5ocmVmKTtteVNhbmRib3guZG9tVHJhdmVyc2FsPWRvbVRyYXZlcnNhbDt0cnl7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5lbGVtZW50PUNvbXBvbmVudHMudXRpbHMuZXZhbEluU2FuZGJveChkb21UcmF2ZXJzYWwsbXlTYW5kYm94KTsvL2VsZW1lbnQgPSBldmFsKGRvbVRyYXZlcnNhbCk7XG59Y2F0Y2goZSl7cmV0dXJuIG51bGw7fWlmKCFlbGVtZW50KXtyZXR1cm4gbnVsbDt9cmV0dXJuIGVsZW1lbnQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlEb21UcmF2ZXJzYWwucHJlZml4PSdkb20nO0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeVN0b3JlZFJlZmVyZW5jZT1mdW5jdGlvbihsb2NhdG9yKXt0cnl7cmV0dXJuIF9jbG9zdXJlUG9seWZpbGwuY29yZS5sb2NhdG9ycy5maW5kRWxlbWVudCgnc3RvcmVkPScrbG9jYXRvcik7fWNhdGNoKGUpe3JldHVybiBudWxsO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeVN0b3JlZFJlZmVyZW5jZS5wcmVmaXg9J3N0b3JlZCc7QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5V2ViRHJpdmVyPWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXtyZXR1cm4gX2Nsb3N1cmVQb2x5ZmlsbC5jb3JlLmxvY2F0b3JzLmZpbmRFbGVtZW50KCd3ZWJkcml2ZXI9Jytsb2NhdG9yKTt9Y2F0Y2goZSl7cmV0dXJuIG51bGw7fX07QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5V2ViRHJpdmVyLnByZWZpeD0nd2ViZHJpdmVyJzsvKipcbiAqIEZpbmRzIGFuIGVsZW1lbnQgaWRlbnRpZmllZCBieSB0aGUgeHBhdGggZXhwcmVzc2lvbi4gRXhwcmVzc2lvbnMgX211c3RfXG4gKiBiZWdpbiB3aXRoIFwiLy9cIi5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeVhQYXRoPWZ1bmN0aW9uKHhwYXRoLGluRG9jdW1lbnQpe3JldHVybiB0aGlzLnhwYXRoRXZhbHVhdG9yLnNlbGVjdFNpbmdsZU5vZGUoaW5Eb2N1bWVudCx4cGF0aCxudWxsLGluRG9jdW1lbnQuY3JlYXRlTlNSZXNvbHZlcj9pbkRvY3VtZW50LmNyZWF0ZU5TUmVzb2x2ZXIoaW5Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOnRoaXMuX25hbWVzcGFjZVJlc29sdmVyKTt9Oy8qKlxuICogRmluZCBtYW55IGVsZW1lbnRzIHVzaW5nIHhwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB4cGF0aCBYUGF0aCBleHByZXNzaW9uIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0gez1Eb2N1bWVudH0gaW5Eb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHs9V2luZG93fSBpbldpbmRvdyBUaGUgd2luZG93IHRoZSBkb2N1bWVudCBpcyBpbi5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRzQnlYUGF0aD1mdW5jdGlvbih4cGF0aCxpbkRvY3VtZW50KXtyZXR1cm4gdGhpcy54cGF0aEV2YWx1YXRvci5zZWxlY3ROb2RlcyhpbkRvY3VtZW50LHhwYXRoLG51bGwsaW5Eb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyP2luRG9jdW1lbnQuY3JlYXRlTlNSZXNvbHZlcihpbkRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk6dGhpcy5fbmFtZXNwYWNlUmVzb2x2ZXIpO307QnJvd3NlckJvdC5wcm90b3R5cGUuX25hbWVzcGFjZVJlc29sdmVyPWZ1bmN0aW9uKHByZWZpeCl7aWYocHJlZml4PT0naHRtbCd8fHByZWZpeD09J3hodG1sJ3x8cHJlZml4PT0neCcpe3JldHVybidodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJzt9ZWxzZSBpZihwcmVmaXg9PSdtYXRobWwnKXtyZXR1cm4naHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCc7fWVsc2UgaWYocHJlZml4PT0nc3ZnJyl7cmV0dXJuJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJzt9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbmFtZXNwYWNlOiAnK3ByZWZpeCsnLicpO319Oy8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHhwYXRoIHJlc3VsdHMuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5ldmFsdWF0ZVhQYXRoQ291bnQ9ZnVuY3Rpb24oc2VsZWN0b3IsaW5Eb2N1bWVudCl7dmFyIGxvY2F0b3I9KDAsX3V0aWxzLnBhcnNlX2xvY2F0b3IpKHNlbGVjdG9yKTtpZihsb2NhdG9yLnR5cGU9PSd4cGF0aCd8fGxvY2F0b3IudHlwZT09J2ltcGxpY2l0Jyl7cmV0dXJuIF9jbG9zdXJlUG9seWZpbGwuYm90LmxvY2F0b3JzLmZpbmRFbGVtZW50cyh7eHBhdGg6bG9jYXRvci5zdHJpbmd9LGluRG9jdW1lbnQpLmxlbmd0aDt9ZWxzZXsvL0xPRy5lcnJvcihcIkxvY2F0b3IgZG9lcyBub3QgdXNlIFhQYXRoIHN0cmF0ZWd5OiBcIiArIHNlbGVjdG9yKTtcbnJldHVybiAwO319Oy8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNzcyByZXN1bHRzLlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZXZhbHVhdGVDc3NDb3VudD1mdW5jdGlvbihzZWxlY3RvcixpbkRvY3VtZW50KXt2YXIgbG9jYXRvcj0oMCxfdXRpbHMucGFyc2VfbG9jYXRvcikoc2VsZWN0b3IpO2lmKGxvY2F0b3IudHlwZT09J2Nzcyd8fGxvY2F0b3IudHlwZT09J2ltcGxpY2l0Jyl7cmV0dXJuIF9jbG9zdXJlUG9seWZpbGwuYm90LmxvY2F0b3JzLmZpbmRFbGVtZW50cyh7Y3NzOmxvY2F0b3Iuc3RyaW5nfSxpbkRvY3VtZW50KS5sZW5ndGg7fWVsc2V7Ly9MT0cuZXJyb3IoXCJMb2NhdG9yIGRvZXMgbm90IHVzZSBDU1Mgc3RyYXRlZ3k6IFwiICsgc2VsZWN0b3IpO1xucmV0dXJuIDA7fX07LyoqXG4gKiBGaW5kcyBhIGxpbmsgZWxlbWVudCB3aXRoIHRleHQgbWF0Y2hpbmcgdGhlIGV4cHJlc3Npb24gc3VwcGxpZWQuIEV4cHJlc3Npb25zIG11c3RcbiAqIGJlZ2luIHdpdGggXCJsaW5rOlwiLlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5TGlua1RleHQ9ZnVuY3Rpb24obGlua1RleHQsaW5Eb2N1bWVudCl7dmFyIGxpbmtzPWluRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtmb3IodmFyIGk9MDtpPGxpbmtzLmxlbmd0aDtpKyspe3ZhciBlbGVtZW50PWxpbmtzW2ldO2lmKF9QYXR0ZXJuTWF0Y2hlcjIuZGVmYXVsdC5tYXRjaGVzKGxpbmtUZXh0LF9jbG9zdXJlUG9seWZpbGwuYm90LmRvbS5nZXRWaXNpYmxlVGV4dChlbGVtZW50KSkpe3JldHVybiBlbGVtZW50O319cmV0dXJuIG51bGw7fTtCcm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlMaW5rVGV4dC5wcmVmaXg9J2xpbmsnOy8qKlxuICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgYmFzZWQgb24gYW4gYXR0cmlidXRlIGxvY2F0b3IuIFRoaXMgaXMgbWFkZSB1cCBvZiBhbiBlbGVtZW50IGxvY2F0b3JcbiAqIHN1ZmZpeGVkIHdpdGggQGF0dHJpYnV0ZS1uYW1lLlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZmluZEF0dHJpYnV0ZT1mdW5jdGlvbihsb2NhdG9yKXsvLyBTcGxpdCBpbnRvIGxvY2F0b3IgKyBhdHRyaWJ1dGVOYW1lXG52YXIgYXR0cmlidXRlUG9zPWxvY2F0b3IubGFzdEluZGV4T2YoJ0AnKTt2YXIgZWxlbWVudExvY2F0b3I9bG9jYXRvci5zbGljZSgwLGF0dHJpYnV0ZVBvcyk7dmFyIGF0dHJpYnV0ZU5hbWU9bG9jYXRvci5zbGljZShhdHRyaWJ1dGVQb3MrMSk7Ly8gRmluZCB0aGUgZWxlbWVudC5cbnZhciBlbGVtZW50PXRoaXMuZmluZEVsZW1lbnQoZWxlbWVudExvY2F0b3IpO3ZhciBhdHRyaWJ1dGVWYWx1ZT1fY2xvc3VyZVBvbHlmaWxsLmJvdC5kb20uZ2V0QXR0cmlidXRlKGVsZW1lbnQsYXR0cmlidXRlTmFtZSk7cmV0dXJuIF9jbG9zdXJlUG9seWZpbGwyLmRlZmF1bHQuaXNEZWZBbmROb3ROdWxsKGF0dHJpYnV0ZVZhbHVlKT9hdHRyaWJ1dGVWYWx1ZS50b1N0cmluZygpOm51bGw7fTsvKlxuICogU2VsZWN0IHRoZSBzcGVjaWZpZWQgb3B0aW9uIGFuZCB0cmlnZ2VyIHRoZSByZWxldmFudCBldmVudHMgb2YgdGhlIGVsZW1lbnQuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RPcHRpb249ZnVuY3Rpb24oZWxlbWVudCxvcHRpb25Ub1NlbGVjdCl7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTt2YXIgY2hhbmdlZD1mYWxzZTtmb3IodmFyIGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXt2YXIgb3B0aW9uPWVsZW1lbnQub3B0aW9uc1tpXTtpZihvcHRpb24uc2VsZWN0ZWQmJm9wdGlvbiE9b3B0aW9uVG9TZWxlY3Qpe29wdGlvbi5zZWxlY3RlZD1mYWxzZTtjaGFuZ2VkPXRydWU7fWVsc2UgaWYoIW9wdGlvbi5zZWxlY3RlZCYmb3B0aW9uPT1vcHRpb25Ub1NlbGVjdCl7b3B0aW9uLnNlbGVjdGVkPXRydWU7Y2hhbmdlZD10cnVlO319aWYoY2hhbmdlZCl7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fX07LypcbiAqIFNlbGVjdCB0aGUgc3BlY2lmaWVkIG9wdGlvbiBhbmQgdHJpZ2dlciB0aGUgcmVsZXZhbnQgZXZlbnRzIG9mIHRoZSBlbGVtZW50LlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuYWRkU2VsZWN0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9uKXt0aGlzLmNoZWNrTXVsdGlzZWxlY3QoZWxlbWVudCk7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTtpZighb3B0aW9uLnNlbGVjdGVkKXtvcHRpb24uc2VsZWN0ZWQ9dHJ1ZTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuQ0hBTkdFKTt9fTsvKlxuICogU2VsZWN0IHRoZSBzcGVjaWZpZWQgb3B0aW9uIGFuZCB0cmlnZ2VyIHRoZSByZWxldmFudCBldmVudHMgb2YgdGhlIGVsZW1lbnQuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5yZW1vdmVTZWxlY3Rpb249ZnVuY3Rpb24oZWxlbWVudCxvcHRpb24pe3RoaXMuY2hlY2tNdWx0aXNlbGVjdChlbGVtZW50KTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2lmKG9wdGlvbi5zZWxlY3RlZCl7b3B0aW9uLnNlbGVjdGVkPWZhbHNlO19jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5maXJlKGVsZW1lbnQsX2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLkV2ZW50VHlwZS5DSEFOR0UpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLmNoZWNrTXVsdGlzZWxlY3Q9ZnVuY3Rpb24oZWxlbWVudCl7aWYoIWVsZW1lbnQubXVsdGlwbGUpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnTm90IGEgbXVsdGktc2VsZWN0Jyk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUucmVwbGFjZVRleHQ9ZnVuY3Rpb24oZWxlbWVudCxzdHJpbmdWYWx1ZSl7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuU0VMRUNUKTt2YXIgbWF4TGVuZ3RoQXR0cj1lbGVtZW50LmdldEF0dHJpYnV0ZSgnbWF4TGVuZ3RoJyk7dmFyIGFjdHVhbFZhbHVlPXN0cmluZ1ZhbHVlO2lmKG1heExlbmd0aEF0dHIhPW51bGwpe3ZhciBtYXhMZW5ndGg9cGFyc2VJbnQobWF4TGVuZ3RoQXR0cik7aWYoc3RyaW5nVmFsdWUubGVuZ3RoPm1heExlbmd0aCl7YWN0dWFsVmFsdWU9c3RyaW5nVmFsdWUuc3Vic3RyKDAsbWF4TGVuZ3RoKTt9fWlmKCgwLF91dGlscy5nZXRUYWdOYW1lKShlbGVtZW50KT09J2JvZHknKXtpZihlbGVtZW50Lm93bmVyRG9jdW1lbnQmJmVsZW1lbnQub3duZXJEb2N1bWVudC5kZXNpZ25Nb2RlKXt2YXIgZGVzaWduTW9kZT1uZXcgU3RyaW5nKGVsZW1lbnQub3duZXJEb2N1bWVudC5kZXNpZ25Nb2RlKS50b0xvd2VyQ2FzZSgpO2lmKGRlc2lnbk1vZGU9PSdvbicpey8vIHRoaXMgbXVzdCBiZSBhIHJpY2ggdGV4dCBjb250cm9sIVxuZWxlbWVudC5pbm5lckhUTUw9YWN0dWFsVmFsdWU7fX19ZWxzZXtlbGVtZW50LnZhbHVlPWFjdHVhbFZhbHVlO30vLyBER0YgdGhpcyB1c2VkIHRvIGJlIHNraXBwZWQgaW4gY2hyb21lIFVSTHMsIGJ1dCBubyBsb25nZXIuICBJcyB4cGNuYXRpdmV3cmFwcGVycyB0byBibGFtZT9cbnRyeXtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuQ0hBTkdFKTt9Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbn07QnJvd3NlckJvdC5wcm90b3R5cGUuY2xpY2tFbGVtZW50PWZ1bmN0aW9uKGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKXt0aGlzLl9maXJlRXZlbnRPbkVsZW1lbnQoJ2NsaWNrJyxlbGVtZW50LGNsaWVudFgsY2xpZW50WSk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5kb3VibGVDbGlja0VsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3RoaXMuX2ZpcmVFdmVudE9uRWxlbWVudCgnZGJsY2xpY2snLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKTt9Oy8vIFRoZSBjb250ZXh0bWVudSBldmVudCBpcyBmaXJlZCB3aGVuIHRoZSB1c2VyIHJpZ2h0LWNsaWNrcyB0byBvcGVuIHRoZSBjb250ZXh0IG1lbnVcbkJyb3dzZXJCb3QucHJvdG90eXBlLmNvbnRleHRNZW51T25FbGVtZW50PWZ1bmN0aW9uKGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKXt0aGlzLl9maXJlRXZlbnRPbkVsZW1lbnQoJ2NvbnRleHRtZW51JyxlbGVtZW50LGNsaWVudFgsY2xpZW50WSk7fTsvL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8wNS8yNlxuLy9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMTEvMTdcbkJyb3dzZXJCb3QucHJvdG90eXBlLl9tb2RpZnlFbGVtZW50VGFyZ2V0PWZ1bmN0aW9uKGUpe3ZhciBlbGVtZW50PXRoaXMuZmluZENsaWNrYWJsZUVsZW1lbnQoZSl8fGU7aWYoZWxlbWVudC50YXJnZXQpe2lmKGVsZW1lbnQudGFyZ2V0PT0nX2JsYW5rJ3x8L15zZWxlbml1bV9ibGFuay8udGVzdChlbGVtZW50LnRhcmdldCkpe3ZhciB0YWdOYW1lPSgwLF91dGlscy5nZXRUYWdOYW1lKShlbGVtZW50KTtpZih0YWdOYW1lPT0nYSd8fHRhZ05hbWU9PSdmb3JtJyl7dmFyIG5ld1RhcmdldD0nd2luX3Nlcl8nK3RoaXMuY291bnQ7dGhpcy5jb3VudCs9MTt0aGlzLmJyb3dzZXJib3Qub3BlbldpbmRvdygnJyxuZXdUYXJnZXQpO2VsZW1lbnQudGFyZ2V0PW5ld1RhcmdldDt9fWVsc2V7dmFyIF9uZXdUYXJnZXQ9ZWxlbWVudC50YXJnZXQ7dGhpcy5icm93c2VyYm90Lm9wZW5XaW5kb3coJycsX25ld1RhcmdldCk7ZWxlbWVudC50YXJnZXQ9X25ld1RhcmdldDt9fX07Ly9Vbm5hbWVkV2luSUZyYW1lRXh0LCBKaWUtTGluIFlvdSwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMTEvMTdcbkJyb3dzZXJCb3QucHJvdG90eXBlLmZpbmRDbGlja2FibGVFbGVtZW50PWZ1bmN0aW9uKGUpe2lmKCFlLnRhZ05hbWUpcmV0dXJuIG51bGw7dmFyIHRhZ05hbWU9ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7dmFyIHR5cGU9ZS50eXBlO2lmKGUuaGFzQXR0cmlidXRlKCdvbmNsaWNrJyl8fGUuaGFzQXR0cmlidXRlKCdocmVmJyl8fGUuaGFzQXR0cmlidXRlKCd1cmwnKXx8dGFnTmFtZT09J2J1dHRvbid8fHRhZ05hbWU9PSdpbnB1dCcmJih0eXBlPT0nc3VibWl0J3x8dHlwZT09J2J1dHRvbid8fHR5cGU9PSdpbWFnZSd8fHR5cGU9PSdyYWRpbyd8fHR5cGU9PSdjaGVja2JveCd8fHR5cGU9PSdyZXNldCcpKXtyZXR1cm4gZTt9ZWxzZXtpZihlLnBhcmVudE5vZGUhPW51bGwpe3JldHVybiB0aGlzLmZpbmRDbGlja2FibGVFbGVtZW50KGUucGFyZW50Tm9kZSk7fWVsc2V7cmV0dXJuIG51bGw7fX19O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9oYW5kbGVDbGlja2luZ0ltYWdlc0luc2lkZUxpbmtzPWZ1bmN0aW9uKHRhcmdldFdpbmRvdyxlbGVtZW50KXt2YXIgaXRyRWxlbWVudD1lbGVtZW50O3doaWxlKGl0ckVsZW1lbnQhPW51bGwpe2lmKGl0ckVsZW1lbnQuaHJlZil7dGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWY9aXRyRWxlbWVudC5ocmVmO2JyZWFrO31pdHJFbGVtZW50PWl0ckVsZW1lbnQucGFyZW50Tm9kZTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5fZ2V0VGFyZ2V0V2luZG93PWZ1bmN0aW9uKGVsZW1lbnQpe3ZhciB0YXJnZXRXaW5kb3c9ZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O2lmKGVsZW1lbnQudGFyZ2V0KXt0YXJnZXRXaW5kb3c9dGhpcy5fZ2V0RnJhbWVGcm9tR2xvYmFsKGVsZW1lbnQudGFyZ2V0KTt9cmV0dXJuIHRhcmdldFdpbmRvdzt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9nZXRGcmFtZUZyb21HbG9iYWw9ZnVuY3Rpb24odGFyZ2V0KXtpZih0YXJnZXQ9PSdfc2VsZicpe3JldHVybiB0aGlzLmdldEN1cnJlbnRXaW5kb3coKTt9aWYodGFyZ2V0PT0nX3RvcCcpe3JldHVybiB0aGlzLnRvcEZyYW1lO31lbHNlIGlmKHRhcmdldD09J19wYXJlbnQnKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCkucGFyZW50O31lbHNlIGlmKHRhcmdldD09J19ibGFuaycpey8vIFRPRE8gc2hvdWxkIHRoaXMgc2V0IGNsZXZlcmVyIHdpbmRvdyBkZWZhdWx0cz9cbnJldHVybiB0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5vcGVuKCcnLCdfYmxhbmsnKTt9dmFyIGZyYW1lRWxlbWVudD10aGlzLmZpbmRFbGVtZW50QnkoJ2ltcGxpY2l0Jyx0YXJnZXQsdGhpcy50b3BGcmFtZS5kb2N1bWVudCx0aGlzLnRvcEZyYW1lKTtpZihmcmFtZUVsZW1lbnQpe3JldHVybiBmcmFtZUVsZW1lbnQuY29udGVudFdpbmRvdzt9dmFyIHdpbj10aGlzLmdldFdpbmRvd0J5TmFtZSh0YXJnZXQpO2lmKHdpbilyZXR1cm4gd2luO3JldHVybiB0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5vcGVuKCcnLHRhcmdldCk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5ib2R5VGV4dD1mdW5jdGlvbigpe2lmKCF0aGlzLmdldERvY3VtZW50KCkuYm9keSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KFwiQ291bGRuJ3QgYWNjZXNzIGRvY3VtZW50LmJvZHkuICBJcyB0aGlzIEhUTUwgcGFnZSBmdWxseSBsb2FkZWQ/XCIpO31yZXR1cm4gX2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZG9tLmdldFZpc2libGVUZXh0KHRoaXMuZ2V0RG9jdW1lbnQoKS5ib2R5KTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldEFsbEJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudHM9dGhpcy5nZXREb2N1bWVudCgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpO3ZhciByZXN1bHQ9W107Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXtpZihlbGVtZW50c1tpXS50eXBlPT0nYnV0dG9uJ3x8ZWxlbWVudHNbaV0udHlwZT09J3N1Ym1pdCd8fGVsZW1lbnRzW2ldLnR5cGU9PSdyZXNldCcpe3Jlc3VsdC5wdXNoKGVsZW1lbnRzW2ldLmlkKTt9fXJldHVybiByZXN1bHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxGaWVsZHM9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudHM9dGhpcy5nZXREb2N1bWVudCgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpO3ZhciByZXN1bHQ9W107Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXtpZihlbGVtZW50c1tpXS50eXBlPT0ndGV4dCcpe3Jlc3VsdC5wdXNoKGVsZW1lbnRzW2ldLmlkKTt9fXJldHVybiByZXN1bHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxMaW5rcz1mdW5jdGlvbigpe3ZhciBlbGVtZW50cz10aGlzLmdldERvY3VtZW50KCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTt2YXIgcmVzdWx0PVtdO2Zvcih2YXIgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKyl7cmVzdWx0LnB1c2goZWxlbWVudHNbaV0uaWQpO31yZXR1cm4gcmVzdWx0O307ZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKXtyZXR1cm4odHlwZW9mIHZhbHVlPT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZih2YWx1ZSkpIT11bmRlZmluZWQ7fUJyb3dzZXJCb3QucHJvdG90eXBlLmdvQmFjaz1mdW5jdGlvbigpe3RoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmhpc3RvcnkuYmFjaygpO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ29Gb3J3YXJkPWZ1bmN0aW9uKCl7dGhpcy5nZXRDdXJyZW50V2luZG93KCkuaGlzdG9yeS5mb3J3YXJkKCk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2lmKGJyb3dzZXJWZXJzaW9uLmlzSUUpey8vIGZpeCBcImRvIHlvdSB3YW50IHRvIGNsb3NlIHRoaXMgd2luZG93XCIgd2FybmluZyBpbiBJRVxuLy8gWW91IGNhbiBvbmx5IGNsb3NlIHdpbmRvd3MgdGhhdCB5b3UgaGF2ZSBvcGVuZWQuXG4vLyBTbywgbGV0J3MgXCJvcGVuXCIgaXQuXG50cnl7dGhpcy50b3BGcmFtZS5uYW1lPW5ldyBEYXRlKCkuZ2V0VGltZSgpO3dpbmRvdy5vcGVuKCcnLHRoaXMudG9wRnJhbWUubmFtZSwnJyk7dGhpcy50b3BGcmFtZS5jbG9zZSgpO3JldHVybjt9Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbn1pZihicm93c2VyVmVyc2lvbi5pc0Nocm9tZXx8YnJvd3NlclZlcnNpb24uaXNTYWZhcml8fGJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpe3RoaXMudG9wRnJhbWUuY2xvc2UoKTt9ZWxzZXt0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5ldmFsKCd3aW5kb3cudG9wLmNsb3NlKCk7Jyk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmxvY2F0aW9uLnJlbG9hZCh0cnVlKTt9Oy8qKlxuICogUmVmaW5lIGEgbGlzdCBvZiBlbGVtZW50cyB1c2luZyBhIGZpbHRlci5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdEVsZW1lbnRzQnk9ZnVuY3Rpb24oZmlsdGVyVHlwZSxmaWx0ZXIsZWxlbWVudHMpe3ZhciBmaWx0ZXJGdW5jdGlvbj1Ccm93c2VyQm90LmZpbHRlckZ1bmN0aW9uc1tmaWx0ZXJUeXBlXTtpZighZmlsdGVyRnVuY3Rpb24pe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdChcIlVucmVjb2duaXNlZCBlbGVtZW50LWZpbHRlciB0eXBlOiAnXCIrZmlsdGVyVHlwZStcIidcIik7fXJldHVybiBmaWx0ZXJGdW5jdGlvbihmaWx0ZXIsZWxlbWVudHMpO307QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnM9e307QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnMubmFtZT1mdW5jdGlvbihuYW1lLGVsZW1lbnRzKXt2YXIgc2VsZWN0ZWRFbGVtZW50cz1bXTtmb3IodmFyIGk9MDtpPGVsZW1lbnRzLmxlbmd0aDtpKyspe2lmKGVsZW1lbnRzW2ldLm5hbWU9PT1uYW1lKXtzZWxlY3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbaV0pO319cmV0dXJuIHNlbGVjdGVkRWxlbWVudHM7fTtCcm93c2VyQm90LmZpbHRlckZ1bmN0aW9ucy52YWx1ZT1mdW5jdGlvbih2YWx1ZSxlbGVtZW50cyl7dmFyIHNlbGVjdGVkRWxlbWVudHM9W107Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXtpZihlbGVtZW50c1tpXS52YWx1ZT09PXZhbHVlKXtzZWxlY3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbaV0pO319cmV0dXJuIHNlbGVjdGVkRWxlbWVudHM7fTtCcm93c2VyQm90LmZpbHRlckZ1bmN0aW9ucy5pbmRleD1mdW5jdGlvbihpbmRleCxlbGVtZW50cyl7aW5kZXg9TnVtYmVyKGluZGV4KTtpZihpc05hTihpbmRleCl8fGluZGV4PDApe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnSWxsZWdhbCBJbmRleDogJytpbmRleCk7fWlmKGVsZW1lbnRzLmxlbmd0aDw9aW5kZXgpe3Rocm93IG5ldyBfU2VsZW5pdW1FcnJvcjIuZGVmYXVsdCgnSW5kZXggb3V0IG9mIHJhbmdlOiAnK2luZGV4KTt9cmV0dXJuW2VsZW1lbnRzW2luZGV4XV07fTtCcm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RFbGVtZW50cz1mdW5jdGlvbihmaWx0ZXJFeHByLGVsZW1lbnRzLGRlZmF1bHRGaWx0ZXJUeXBlKXt2YXIgZmlsdGVyVHlwZT1kZWZhdWx0RmlsdGVyVHlwZXx8J3ZhbHVlJzsvLyBJZiB0aGVyZSBpcyBhIGZpbHRlciBwcmVmaXgsIHVzZSB0aGUgc3BlY2lmaWVkIHN0cmF0ZWd5XG52YXIgcmVzdWx0PWZpbHRlckV4cHIubWF0Y2goL14oW0EtWmEtel0rKT0oLispLyk7aWYocmVzdWx0KXtmaWx0ZXJUeXBlPXJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO2ZpbHRlckV4cHI9cmVzdWx0WzJdO31yZXR1cm4gdGhpcy5zZWxlY3RFbGVtZW50c0J5KGZpbHRlclR5cGUsZmlsdGVyRXhwcixlbGVtZW50cyk7fTsvKipcbiAqIEZpbmQgYW4gZWxlbWVudCBieSBjc3Mgc2VsZWN0b3JcbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUNzcz1mdW5jdGlvbihsb2NhdG9yLGRvY3VtZW50KXt2YXIgZWxlbWVudHM9X2Nsb3N1cmVQb2x5ZmlsbC5ib3QubG9jYXRvcnMuZmluZEVsZW1lbnRzKHtjc3M6bG9jYXRvcn0sZG9jdW1lbnQpO2lmKGVsZW1lbnRzLmxlbmd0aCE9MClyZXR1cm4gZWxlbWVudHNbMF07cmV0dXJuIG51bGw7fTsvKiBwcm9tcHQgKi9Ccm93c2VyQm90LnByb3RvdHlwZS5jYW5jZWxOZXh0UHJvbXB0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0TmV4dFByb21wdFJlc3VsdChudWxsKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNldE5leHRQcm9tcHRSZXN1bHQ9ZnVuY3Rpb24ocmVzdWx0KXt0aGlzLnByb21wdFJlc3BvbnNlPWZhbHNlO3ZhciBzZWxmPXRoaXM7d2luZG93LnBvc3RNZXNzYWdlKHtkaXJlY3Rpb246J2Zyb20tY29udGVudC1zY3JpcHQnLGNvbW1hbmQ6J3NldE5leHRQcm9tcHRSZXN1bHQnLHRhcmdldDpyZXN1bHR9LCcqJyk7dmFyIHJlc3BvbnNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgY291bnQ9MDt2YXIgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZighc2VsZi5wcm9tcHRSZXNwb25zZSl7Y291bnQrKztpZihjb3VudD42MCl7cmVqZWN0KCdObyByZXNwb25zZScpO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319ZWxzZXtyZXNvbHZlKCk7c2VsZi5wcm9tcHRSZXNwb25zZT1mYWxzZTtjbGVhckludGVydmFsKGludGVydmFsKTt9fSw1MDApO30pO3JldHVybiByZXNwb25zZTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFByb21wdE1lc3NhZ2U9ZnVuY3Rpb24oKXt0aGlzLnByb21wdFJlc3BvbnNlPWZhbHNlO3RoaXMucHJvbXB0TWVzc2FnZT1udWxsO3ZhciBzZWxmPXRoaXM7d2luZG93LnBvc3RNZXNzYWdlKHtkaXJlY3Rpb246J2Zyb20tY29udGVudC1zY3JpcHQnLGNvbW1hbmQ6J2dldFByb21wdE1lc3NhZ2UnfSwnKicpO3ZhciByZXNwb25zZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIGNvdW50PTA7dmFyIGludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoIXNlbGYucHJvbXB0UmVzcG9uc2Upe2NvdW50Kys7aWYoY291bnQ+NjApe3JlamVjdCgnTm8gcmVzcG9uc2UnKTtjbGVhckludGVydmFsKGludGVydmFsKTt9fWVsc2V7cmVzb2x2ZShzZWxmLnByb21wdE1lc3NhZ2UpO3NlbGYucHJvbXB0UmVzcG9uc2U9ZmFsc2U7c2VsZi5wcm9tcHRNZXNzYWdlPW51bGw7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX0sNTAwKTt9KTtyZXR1cm4gcmVzcG9uc2U7fTsvLyBjb25maXJtXG5Ccm93c2VyQm90LnByb3RvdHlwZS5zZXROZXh0Q29uZmlybWF0aW9uUmVzdWx0PWZ1bmN0aW9uKHJlc3VsdCl7dGhpcy5jb25maXJtYXRpb25SZXNwb25zZT1mYWxzZTt2YXIgc2VsZj10aGlzO3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0Jyxjb21tYW5kOidzZXROZXh0Q29uZmlybWF0aW9uUmVzdWx0Jyx0YXJnZXQ6cmVzdWx0fSwnKicpO3ZhciByZXNwb25zZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIGNvdW50PTA7dmFyIGludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoIXNlbGYuY29uZmlybWF0aW9uUmVzcG9uc2Upe2NvdW50Kys7aWYoY291bnQ+NjApe3JlamVjdCgnTm8gcmVzcG9uc2UnKTtjbGVhckludGVydmFsKGludGVydmFsKTt9fWVsc2V7cmVzb2x2ZSgpO3NlbGYuY29uZmlybWF0aW9uUmVzcG9uc2U9ZmFsc2U7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX0sNTAwKTt9KTtyZXR1cm4gcmVzcG9uc2U7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDb25maXJtYXRpb25NZXNzYWdlPWZ1bmN0aW9uKCl7dGhpcy5jb25maXJtYXRpb25SZXNwb25zZT1mYWxzZTt0aGlzLmNvbmZpcm1hdGlvbk1lc3NhZ2U9bnVsbDt2YXIgc2VsZj10aGlzO3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0Jyxjb21tYW5kOidnZXRDb25maXJtYXRpb25NZXNzYWdlJ30sJyonKTt2YXIgcmVzcG9uc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciBjb3VudD0wO3ZhciBpbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFzZWxmLmNvbmZpcm1hdGlvblJlc3BvbnNlKXtjb3VudCsrO2lmKGNvdW50PjYwKXtyZWplY3QoJ05vIHJlc3BvbnNlJyk7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX1lbHNle3Jlc29sdmUoc2VsZi5jb25maXJtYXRpb25NZXNzYWdlKTtzZWxmLmNvbmZpcm1hdGlvblJlc3BvbnNlPWZhbHNlO3NlbGYuY29uZmlybWF0aW9uTWVzc2FnZT1udWxsO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319LDUwMCk7fSk7cmV0dXJuIHJlc3BvbnNlO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxlcnRNZXNzYWdlPWZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpczt2YXIgcmVzcG9uc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciBjb3VudD0wO3ZhciBpbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFzZWxmLmFsZXJ0UmVzcG9uc2Upe2NvdW50Kys7aWYoY291bnQ+NjApe3JlamVjdCgnTm8gcmVzcG9uc2UhISEhJyk7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX1lbHNle3Jlc29sdmUoc2VsZi5hbGVydE1lc3NhZ2UpO3NlbGYuYWxlcnRSZXNwb25zZT1mYWxzZTtzZWxmLmFsZXJ0TWVzc2FnZT1udWxsO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319LDUwMCk7fSk7cmV0dXJuIHJlc3BvbnNlO307LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLy8qIEJST1dTRVItU1BFQ0lGSUMgRlVOQ1RJT05TIE9OTFkgQUZURVIgVEhJUyBMSU5FICovdmFyIE1vemlsbGFCcm93c2VyQm90PWV4cG9ydHMuTW96aWxsYUJyb3dzZXJCb3Q9ZnVuY3Rpb24oX0Jyb3dzZXJCb3Qpe19pbmhlcml0cyhNb3ppbGxhQnJvd3NlckJvdCxfQnJvd3NlckJvdCk7ZnVuY3Rpb24gTW96aWxsYUJyb3dzZXJCb3QoZnJhbWUpe19jbGFzc0NhbGxDaGVjayh0aGlzLE1vemlsbGFCcm93c2VyQm90KTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoTW96aWxsYUJyb3dzZXJCb3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW96aWxsYUJyb3dzZXJCb3QpKS5jYWxsKHRoaXMsZnJhbWUpKTt9cmV0dXJuIE1vemlsbGFCcm93c2VyQm90O30oQnJvd3NlckJvdCk7dmFyIEtvbnF1ZXJvckJyb3dzZXJCb3Q9ZXhwb3J0cy5Lb25xdWVyb3JCcm93c2VyQm90PWZ1bmN0aW9uKF9Ccm93c2VyQm90Mil7X2luaGVyaXRzKEtvbnF1ZXJvckJyb3dzZXJCb3QsX0Jyb3dzZXJCb3QyKTtmdW5jdGlvbiBLb25xdWVyb3JCcm93c2VyQm90KGZyYW1lKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxLb25xdWVyb3JCcm93c2VyQm90KTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoS29ucXVlcm9yQnJvd3NlckJvdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihLb25xdWVyb3JCcm93c2VyQm90KSkuY2FsbCh0aGlzLGZyYW1lKSk7fXJldHVybiBLb25xdWVyb3JCcm93c2VyQm90O30oQnJvd3NlckJvdCk7S29ucXVlcm9yQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0SUZyYW1lTG9jYXRpb249ZnVuY3Rpb24oaWZyYW1lLGxvY2F0aW9uKXsvLyBXaW5kb3cgZG9lc24ndCBmaXJlIG9ubG9hZCBldmVudCB3aGVuIHNldHRpbmcgc3JjIHRvIHRoZSBjdXJyZW50IHZhbHVlLFxuLy8gc28gd2Ugc2V0IGl0IHRvIGJsYW5rIGZpcnN0LlxuaWZyYW1lLnNyYz0nYWJvdXQ6YmxhbmsnO2lmcmFtZS5zcmM9bG9jYXRpb247fTtLb25xdWVyb3JCcm93c2VyQm90LnByb3RvdHlwZS5faXNTYW1lRG9jdW1lbnQ9ZnVuY3Rpb24ob3JpZ2luYWxEb2N1bWVudCxjdXJyZW50RG9jdW1lbnQpey8vIHVuZGVyIEtvbnF1ZXJvciwgdGhlcmUgbWF5IGJlIHRoaXMgY2FzZTpcbi8vIG9yaWdpbmFsRG9jdW1lbnQgYW5kIGN1cnJlbnREb2N1bWVudCBhcmUgZGlmZmVyZW50IG9iamVjdHNcbi8vIHdoaWxlIHRoZWlyIGxvY2F0aW9uIGFyZSBzYW1lLlxuaWYob3JpZ2luYWxEb2N1bWVudCl7cmV0dXJuIG9yaWdpbmFsRG9jdW1lbnQubG9jYXRpb249PWN1cnJlbnREb2N1bWVudC5sb2NhdGlvbjt9ZWxzZXtyZXR1cm4gb3JpZ2luYWxEb2N1bWVudD09PWN1cnJlbnREb2N1bWVudDt9fTt2YXIgU2FmYXJpQnJvd3NlckJvdD1leHBvcnRzLlNhZmFyaUJyb3dzZXJCb3Q9ZnVuY3Rpb24oX0Jyb3dzZXJCb3QzKXtfaW5oZXJpdHMoU2FmYXJpQnJvd3NlckJvdCxfQnJvd3NlckJvdDMpO2Z1bmN0aW9uIFNhZmFyaUJyb3dzZXJCb3QoZnJhbWUpe19jbGFzc0NhbGxDaGVjayh0aGlzLFNhZmFyaUJyb3dzZXJCb3QpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChTYWZhcmlCcm93c2VyQm90Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFNhZmFyaUJyb3dzZXJCb3QpKS5jYWxsKHRoaXMsZnJhbWUpKTt9cmV0dXJuIFNhZmFyaUJyb3dzZXJCb3Q7fShCcm93c2VyQm90KTtTYWZhcmlCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbj1Lb25xdWVyb3JCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbjt2YXIgT3BlcmFCcm93c2VyQm90PWV4cG9ydHMuT3BlcmFCcm93c2VyQm90PWZ1bmN0aW9uKF9Ccm93c2VyQm90NCl7X2luaGVyaXRzKE9wZXJhQnJvd3NlckJvdCxfQnJvd3NlckJvdDQpO2Z1bmN0aW9uIE9wZXJhQnJvd3NlckJvdChmcmFtZSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsT3BlcmFCcm93c2VyQm90KTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoT3BlcmFCcm93c2VyQm90Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKE9wZXJhQnJvd3NlckJvdCkpLmNhbGwodGhpcyxmcmFtZSkpO31yZXR1cm4gT3BlcmFCcm93c2VyQm90O30oQnJvd3NlckJvdCk7T3BlcmFCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbj1mdW5jdGlvbihpZnJhbWUsbG9jYXRpb24pe2lmKGlmcmFtZS5zcmM9PWxvY2F0aW9uKXtpZnJhbWUuc3JjPWxvY2F0aW9uKyc/cmVsb2FkJzt9ZWxzZXtpZnJhbWUuc3JjPWxvY2F0aW9uO319O3ZhciBJRUJyb3dzZXJCb3Q9ZXhwb3J0cy5JRUJyb3dzZXJCb3Q9ZnVuY3Rpb24oX0Jyb3dzZXJCb3Q1KXtfaW5oZXJpdHMoSUVCcm93c2VyQm90LF9Ccm93c2VyQm90NSk7ZnVuY3Rpb24gSUVCcm93c2VyQm90KGZyYW1lKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJRUJyb3dzZXJCb3QpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChJRUJyb3dzZXJCb3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSUVCcm93c2VyQm90KSkuY2FsbCh0aGlzLGZyYW1lKSk7fXJldHVybiBJRUJyb3dzZXJCb3Q7fShCcm93c2VyQm90KTtJRUJyb3dzZXJCb3QucHJvdG90eXBlLl9oYW5kbGVDbG9zZWRTdWJGcmFtZT1mdW5jdGlvbih0ZXN0V2luZG93LGRvTm90TW9kaWZ5KXtpZih0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7cmV0dXJuIHRlc3RXaW5kb3c7fXRyeXt0ZXN0V2luZG93LmxvY2F0aW9uLmhyZWY7dGhpcy5wZXJtRGVuaWVkPTA7fWNhdGNoKGUpe3RoaXMucGVybURlbmllZCsrO31pZih0aGlzLl93aW5kb3dDbG9zZWQodGVzdFdpbmRvdyl8fHRoaXMucGVybURlbmllZD40KXtpZih0aGlzLmlzU3ViRnJhbWVTZWxlY3RlZCl7Ly9MT0cud2FybihcIkN1cnJlbnQgc3ViZnJhbWUgYXBwZWFycyB0byBoYXZlIGNsb3NlZDsgc2VsZWN0aW5nIHRvcCBmcmFtZVwiKTtcbnRoaXMuc2VsZWN0RnJhbWUoJ3JlbGF0aXZlPXRvcCcpO3JldHVybiB0aGlzLmdldEN1cnJlbnRXaW5kb3coZG9Ob3RNb2RpZnkpO31lbHNle3ZhciBjbG9zZWRFcnJvcj1uZXcgX1NlbGVuaXVtRXJyb3IyLmRlZmF1bHQoJ0N1cnJlbnQgd2luZG93IG9yIGZyYW1lIGlzIGNsb3NlZCEnKTtjbG9zZWRFcnJvci53aW5kb3dDbG9zZWQ9dHJ1ZTt0aHJvdyBjbG9zZWRFcnJvcjt9fXJldHVybiB0ZXN0V2luZG93O307SUVCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncz1mdW5jdGlvbih3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KXtCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncyh3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KTsvLyB3ZSB3aWxsIGNhbGwgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhpcyBtZXRob2QgZnJvbSB3aXRoaW4gb3VyIG93biBpbnRlcmNlcHRpb25cbnZhciBvbGRTaG93TW9kYWxEaWFsb2c9d2luZG93VG9Nb2RpZnkuc2hvd01vZGFsRGlhbG9nO3dpbmRvd1RvTW9kaWZ5LnNob3dNb2RhbERpYWxvZz1mdW5jdGlvbih1cmwsYXJncyxmZWF0dXJlcyl7Ly8gR2V0IHJlbGF0aXZlIGRpcmVjdG9yeSB0byB3aGVyZSBUZXN0UnVubmVyLmh0bWwgbGl2ZXNcbi8vIEEgcmlza3kgYXNzdW1wdGlvbiBpcyB0aGF0IHRoZSB1c2VyJ3MgVGVzdFJ1bm5lciBpcyBuYW1lZCBUZXN0UnVubmVyLmh0bWxcbnZhciBkb2NfbG9jYXRpb249ZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKTt2YXIgZW5kX29mX2Jhc2VfcmVmPWRvY19sb2NhdGlvbi5pbmRleE9mKCdUZXN0UnVubmVyLmh0bWwnKTt2YXIgYmFzZV9yZWY9ZG9jX2xvY2F0aW9uLnN1YnN0cmluZygwLGVuZF9vZl9iYXNlX3JlZik7dmFyIHJ1bkludGVydmFsPScnOy8vIE9ubHkgc2V0IHJ1biBpbnRlcnZhbCBpZiBvcHRpb25zIGlzIGRlZmluZWRcbmlmKHR5cGVvZiB3aW5kb3cucnVuT3B0aW9ucyE9J3VuZGVmaW5lZCcpe3J1bkludGVydmFsPScmcnVuSW50ZXJ2YWw9JytydW5PcHRpb25zLnJ1bkludGVydmFsOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn12YXIgdGVzdFJ1bm5lclVSTD0nVGVzdFJ1bm5lci5odG1sP2F1dG89dHJ1ZSZzaW5nbGV0ZXN0PScrZXNjYXBlKGJyb3dzZXJCb3QubW9kYWxEaWFsb2dUZXN0KSsnJmF1dG9VUkw9Jytlc2NhcGUodXJsKStydW5JbnRlcnZhbDt2YXIgZnVsbFVSTD1iYXNlX3JlZit0ZXN0UnVubmVyVVJMO2Jyb3dzZXJCb3QubW9kYWxEaWFsb2dUZXN0PW51bGw7Ly8gSWYgdXNpbmcgcHJveHkgaW5qZWN0aW9uIG1vZGVcbmlmKHRoaXMucHJveHlJbmplY3Rpb25Nb2RlKXtmdWxsVVJMPXVybDt9dmFyIHJldHVyblZhbHVlPW9sZFNob3dNb2RhbERpYWxvZyhmdWxsVVJMLGFyZ3MsZmVhdHVyZXMpO3JldHVybiByZXR1cm5WYWx1ZTt9O307SUVCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkcz1mdW5jdGlvbih3aW5kb3dPYmplY3Qpe3RoaXMucGFnZVVubG9hZGluZz1mYWxzZTt2YXIgc2VsZj10aGlzO3ZhciBwYWdlVW5sb2FkRGV0ZWN0b3I9ZnVuY3Rpb24gcGFnZVVubG9hZERldGVjdG9yKCl7c2VsZi5wYWdlVW5sb2FkaW5nPXRydWU7fTtpZih3aW5kb3dPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcil7d2luZG93T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcscGFnZVVubG9hZERldGVjdG9yLHRydWUpO31lbHNle3dpbmRvd09iamVjdC5hdHRhY2hFdmVudCgnb25iZWZvcmV1bmxvYWQnLHBhZ2VVbmxvYWREZXRlY3Rvcik7fUJyb3dzZXJCb3QucHJvdG90eXBlLm1vZGlmeVNlcGFyYXRlVGVzdFdpbmRvd1RvRGV0ZWN0UGFnZUxvYWRzLmNhbGwodGhpcyx3aW5kb3dPYmplY3QpO307SUVCcm93c2VyQm90LnByb3RvdHlwZS5wb2xsRm9yTG9hZD1mdW5jdGlvbihsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKXsvL0xPRy5kZWJ1ZyhcIklFQnJvd3NlckJvdC5wb2xsRm9yTG9hZDogXCIgKyBtYXJrZXIpO1xuaWYoIXRoaXMucGVybURlbmllZENvdW50W21hcmtlcl0pdGhpcy5wZXJtRGVuaWVkQ291bnRbbWFya2VyXT0wO0Jyb3dzZXJCb3QucHJvdG90eXBlLnBvbGxGb3JMb2FkLmNhbGwodGhpcyxsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTtpZih0aGlzLnBhZ2VMb2FkRXJyb3Ipe2lmKHRoaXMucGFnZVVubG9hZGluZyl7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBVTkxPQURJTkcgKFwiICsgbWFya2VyICsgXCIpOiBjYXVnaHQgZXhjZXB0aW9uIHdoaWxlIGZpcmluZyBldmVudHMgb24gdW5sb2FkaW5nIHBhZ2U6IFwiICsgdGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2UpO1xudGhpcy5yZXNjaGVkdWxlUG9sbGVyKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO3RoaXMucGFnZUxvYWRFcnJvcj1udWxsO3JldHVybjt9ZWxzZSBpZigodGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2U9PSdQZXJtaXNzaW9uIGRlbmllZCd8fC9eQWNjZXNzIGlzIGRlbmllZC8udGVzdCh0aGlzLnBhZ2VMb2FkRXJyb3IubWVzc2FnZSkpJiZ0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdKys8OCl7aWYodGhpcy5wZXJtRGVuaWVkQ291bnRbbWFya2VyXT40KXt2YXIgY2FuQWNjZXNzVGhpc1dpbmRvdz12b2lkIDA7dmFyIGNhbkFjY2Vzc0N1cnJlbnRseVNlbGVjdGVkV2luZG93PXZvaWQgMDt0cnl7d2luZG93T2JqZWN0LmxvY2F0aW9uLmhyZWY7Y2FuQWNjZXNzVGhpc1dpbmRvdz10cnVlO31jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxudHJ5e3RoaXMuZ2V0Q3VycmVudFdpbmRvdyh0cnVlKS5sb2NhdGlvbi5ocmVmO2NhbkFjY2Vzc0N1cnJlbnRseVNlbGVjdGVkV2luZG93PXRydWU7fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5pZihjYW5BY2Nlc3NDdXJyZW50bHlTZWxlY3RlZFdpbmRvdyYhY2FuQWNjZXNzVGhpc1dpbmRvdyl7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCAoXCIgKyBtYXJrZXIgKyBcIikgQUJPUlRJTkc6IFwiICsgdGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2UgKyBcIiAoXCIgKyB0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdICsgXCIpLCBidXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB3aW5kb3cgaXMgZmluZVwiKTtcbi8vIHJldHVybmluZyB3aXRob3V0IHJlc2NoZWR1bGluZ1xudGhpcy5wYWdlTG9hZEVycm9yPW51bGw7cmV0dXJuO319Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgdGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2UgKyBcIiAoXCIgKyB0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdICsgXCIpLCB3YWl0aW5nIHRvIHNlZSBpZiBpdCBnb2VzIGF3YXlcIik7XG50aGlzLnJlc2NoZWR1bGVQb2xsZXIobG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcik7dGhpcy5wYWdlTG9hZEVycm9yPW51bGw7cmV0dXJuO30vL2hhbmR5IGZvciBkZWJ1Z2dpbmchXG4vL3Rocm93IHRoaXMucGFnZUxvYWRFcnJvcjtcbn19O0lFQnJvd3NlckJvdC5wcm90b3R5cGUuX3dpbmRvd0Nsb3NlZD1mdW5jdGlvbih3aW4pe3RyeXt2YXIgYz13aW4uY2xvc2VkOy8vIGZyYW1lIHdpbmRvd3MgY2xhaW0gdG8gYmUgbm9uLWNsb3NlZCB3aGVuIHRoZWlyIHBhcmVudHMgYXJlIGNsb3NlZFxuLy8gYnV0IHlvdSBjYW4ndCBhY2Nlc3MgdGhlaXIgZG9jdW1lbnQgb2JqZWN0cyBpbiB0aGF0IGNhc2VcbmlmKCFjKXt0cnl7d2luLmRvY3VtZW50O31jYXRjaChkZSl7aWYoZGUubWVzc2FnZT09J1Blcm1pc3Npb24gZGVuaWVkJyl7Ly8gdGhlIHdpbmRvdyBpcyBwcm9iYWJseSB1bmxvYWRpbmcsIHdoaWNoIG1lYW5zIGl0J3MgcHJvYmFibHkgbm90IGNsb3NlZCB5ZXRcbnJldHVybiBmYWxzZTt9ZWxzZSBpZigvXkFjY2VzcyBpcyBkZW5pZWQvLnRlc3QoZGUubWVzc2FnZSkpey8vIHJhcmUgdmFyaWF0aW9uIG9uIFwiUGVybWlzc2lvbiBkZW5pZWRcIj9cbi8vTE9HLmRlYnVnKFwiSUVCcm93c2VyQm90LndpbmRvd0Nsb3NlZDogZ290IFwiICsgZGUubWVzc2FnZSArIFwiICh0aGlzLnBhZ2VVbmxvYWRpbmc9XCIgKyB0aGlzLnBhZ2VVbmxvYWRpbmcgKyBcIik7IGFzc3VtaW5nIHdpbmRvdyBpcyB1bmxvYWRpbmcsIHByb2JhYmx5IG5vdCBjbG9zZWQgeWV0XCIpO1xucmV0dXJuIGZhbHNlO31lbHNley8vIHRoaXMgaXMgcHJvYmFibHkgb25lIG9mIHRob3NlIGZyYW1lIHdpbmRvdyBzaXR1YXRpb25zXG4vL0xPRy5kZWJ1ZyhcIklFQnJvd3NlckJvdC53aW5kb3dDbG9zZWQ6IGNvdWxkbid0IHJlYWQgd2luLmRvY3VtZW50LCBhc3N1bWUgY2xvc2VkOiBcIiArIGRlLm1lc3NhZ2UgKyBcIiAodGhpcy5wYWdlVW5sb2FkaW5nPVwiICsgdGhpcy5wYWdlVW5sb2FkaW5nICsgXCIpXCIpO1xucmV0dXJuIHRydWU7fX19aWYoYz09bnVsbCl7Ly9MT0cuZGVidWcoXCJJRUJyb3dzZXJCb3Qud2luZG93Q2xvc2VkOiB3aW4uY2xvc2VkIHdhcyBudWxsLCBhc3N1bWluZyBjbG9zZWRcIik7XG5yZXR1cm4gdHJ1ZTt9cmV0dXJuIGM7fWNhdGNoKGUpey8vTE9HLmRlYnVnKFwiSUVCcm93c2VyQm90Ll93aW5kb3dDbG9zZWQ6IEdvdCBhbiBleGNlcHRpb24gdHJ5aW5nIHRvIHJlYWQgd2luLmNsb3NlZDsgd2UnbGwgaGF2ZSB0byB0YWtlIGEgZ3Vlc3MhXCIpO1xuaWYoYnJvd3NlclZlcnNpb24uaXNIVEEpe2lmKGUubWVzc2FnZT09J1Blcm1pc3Npb24gZGVuaWVkJyl7Ly8gdGhlIHdpbmRvdyBpcyBwcm9iYWJseSB1bmxvYWRpbmcsIHdoaWNoIG1lYW5zIGl0J3Mgbm90IGNsb3NlZCB5ZXRcbnJldHVybiBmYWxzZTt9ZWxzZXsvLyB0aGVyZSdzIGEgZ29vZCBjaGFuY2UgdGhhdCB3ZSd2ZSBsb3N0IGNvbnRhY3Qgd2l0aCB0aGUgd2luZG93IG9iamVjdCBpZiBpdCBpcyBjbG9zZWRcbnJldHVybiB0cnVlO319ZWxzZXsvLyB0aGUgd2luZG93IGlzIHByb2JhYmx5IHVubG9hZGluZywgd2hpY2ggbWVhbnMgaXQncyBub3QgY2xvc2VkIHlldFxucmV0dXJuIGZhbHNlO319fTsvKipcbiAqIEluIElFLCBnZXRFbGVtZW50QnlJZCgpIGFsc28gc2VhcmNoZXMgYnkgbmFtZSAtIHRoaXMgaXMgYW4gb3B0aW1pc2F0aW9uIGZvciBJRS5cbiAqL0lFQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5SWRlbnRpZmVyPWZ1bmN0aW9uKGlkZW50aWZpZXIsaW5Eb2N1bWVudCl7cmV0dXJuIGluRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllcik7fTtTYWZhcmlCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncz1mdW5jdGlvbih3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KXtCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncyh3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KTt2YXIgb3JpZ2luYWxPcGVuPXdpbmRvd1RvTW9kaWZ5Lm9wZW47LypcbiAgICogU2FmYXJpIHNlZW1zIHRvIGJlIGJyb2tlbiwgc28gdGhhdCB3aGVuIHdlIG1hbnVhbGx5IHRyaWdnZXIgdGhlIG9uY2xpY2sgbWV0aG9kXG4gICAqIG9mIGEgYnV0dG9uL2hyZWYsIGFueSB3aW5kb3cub3BlbiBjYWxscyBhcmVuJ3QgcmVzb2x2ZWQgcmVsYXRpdmUgdG8gdGhlIGFwcCBsb2NhdGlvbi5cbiAgICogU28gaGVyZSB3ZSByZXBsYWNlIHRoZSBvcGVuKCkgbWV0aG9kIHdpdGggb25lIHRoYXQgZG9lcyByZXNvbHZlIHRoZSB1cmwgY29ycmVjdGx5LlxuICAgKi93aW5kb3dUb01vZGlmeS5vcGVuPWZ1bmN0aW9uKHVybCx3aW5kb3dOYW1lLHdpbmRvd0ZlYXR1cmVzLHJlcGxhY2VGbGFnKXtpZih1cmwuc3RhcnRzV2l0aCgnaHR0cDovLycpfHx1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKXx8dXJsLnN0YXJ0c1dpdGgoJy8nKSl7cmV0dXJuIG9yaWdpbmFsT3Blbih1cmwsd2luZG93TmFtZSx3aW5kb3dGZWF0dXJlcyxyZXBsYWNlRmxhZyk7fS8vIFJlZHVjZSB0aGUgY3VycmVudCBwYXRoIHRvIHRoZSBkaXJlY3RvcnlcbnZhciBjdXJyZW50UGF0aD13aW5kb3dUb01vZGlmeS5sb2NhdGlvbi5wYXRobmFtZXx8Jy8nO2N1cnJlbnRQYXRoPWN1cnJlbnRQYXRoLnJlcGxhY2UoL1xcL1teXFwvXSokLywnLycpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbi8vIFJlbW92ZSBhbnkgbGVhZGluZyBcIi4vXCIgZnJvbSB0aGUgbmV3IHVybC5cbnVybD11cmwucmVwbGFjZSgvXlxcLlxcLy8sJycpO3ZhciBuZXdVcmw9Y3VycmVudFBhdGgrdXJsO3ZhciBvcGVuZWRXaW5kb3c9b3JpZ2luYWxPcGVuKG5ld1VybCx3aW5kb3dOYW1lLHdpbmRvd0ZlYXR1cmVzLHJlcGxhY2VGbGFnKTsvL0xPRy5kZWJ1ZyhcIndpbmRvdy5vcGVuIGNhbGwgaW50ZXJjZXB0ZWQ7IHdpbmRvdyBJRCAod2hpY2ggeW91IGNhbiB1c2Ugd2l0aCBzZWxlY3RXaW5kb3coKSkgaXMgXFxcIlwiICsgIHdpbmRvd05hbWUgKyBcIlxcXCJcIik7XG5pZih3aW5kb3dOYW1lIT1udWxsKXtvcGVuZWRXaW5kb3dbJ3NlbGVuaXVtV2luZG93TmFtZSddPXdpbmRvd05hbWU7fXJldHVybiBvcGVuZWRXaW5kb3c7fTt9O01vemlsbGFCcm93c2VyQm90LnByb3RvdHlwZS5fZmlyZUV2ZW50T25FbGVtZW50PWZ1bmN0aW9uKGV2ZW50VHlwZSxlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7dmFyIHdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpOy8vIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGRldGVjdHMgaWYgdGhlIGRlZmF1bHQgYWN0aW9uIGhhcyBiZWVuIHByZXZlbnRlZC5cbi8vIChUaGlzIGlzIGNhdXNlZCBieSBhIGphdmFzY3JpcHQgb25jbGljayBoYW5kbGVyIHJldHVybmluZyBmYWxzZSlcbi8vIHdlIGNhcHR1cmUgdGhlIHdob2xlIGV2ZW50LCByYXRoZXIgdGhhbiB0aGUgZ2V0UHJldmVudERlZmF1bHQoKSBzdGF0ZSBhdCB0aGUgdGltZSxcbi8vIGJlY2F1c2Ugd2UgbmVlZCB0byBsZXQgdGhlIGVudGlyZSBldmVudCBidWJibGluZyBhbmQgY2FwdHVyaW5nIHRvIGdvIHRocm91Z2hcbi8vIGJlZm9yZSBtYWtpbmcgYSBkZWNpc2lvbiBvbiB3aGV0aGVyIHdlIHNob3VsZCBmb3JjZSB0aGUgaHJlZlxuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSxmdW5jdGlvbigpe30sZmFsc2UpOy8vdGhpcy5fbW9kaWZ5RWxlbWVudFRhcmdldChlbGVtZW50KTtcbi8vIFRyaWdnZXIgdGhlIGV2ZW50LlxudGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsZXZlbnRUeXBlLHRydWUsY2xpZW50WCxjbGllbnRZKTtpZih0aGlzLl93aW5kb3dDbG9zZWQod2luKSl7cmV0dXJuO30vLyBQZXJmb3JtIHRoZSBsaW5rIGFjdGlvbiBpZiBwcmV2ZW50RGVmYXVsdCB3YXMgc2V0LlxuLy8gSW4gY2hyb21lIFVSTCwgdGhlIGxpbmsgYWN0aW9uIGlzIGFscmVhZHkgZXhlY3V0ZWQgYnkgdHJpZ2dlck1vdXNlRXZlbnQuXG4vL2lmICghYnJvd3NlclZlcnNpb24uaXNDaHJvbWUgJiYgc2F2ZWRFdmVudCAhPSBudWxsICYmIHNhdmVkRXZlbnQuZ2V0UHJldmVudERlZmF1bHQgJiYgIXNhdmVkRXZlbnQuZ2V0UHJldmVudERlZmF1bHQoKSkge1xuLypcbiAgICBpZiAoIWJyb3dzZXJWZXJzaW9uLmlzQ2hyb21lICYmIHNhdmVkRXZlbnQgIT0gbnVsbCAmJiBzYXZlZEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgIXNhdmVkRXZlbnQuZGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHZhciB0YXJnZXRXaW5kb3cgPSB0aGlzLmJyb3dzZXJib3QuX2dldFRhcmdldFdpbmRvdyhlbGVtZW50KTtcbiAgICAgICAgaWYgKGVsZW1lbnQuaHJlZikge1xuICAgICAgICAgICAgdGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWYgPSBlbGVtZW50LmhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJib3QuX2hhbmRsZUNsaWNraW5nSW1hZ2VzSW5zaWRlTGlua3ModGFyZ2V0V2luZG93LCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqL307T3BlcmFCcm93c2VyQm90LnByb3RvdHlwZS5fZmlyZUV2ZW50T25FbGVtZW50PWZ1bmN0aW9uKGV2ZW50VHlwZSxlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7dmFyIHdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO3RoaXMuX21vZGlmeUVsZW1lbnRUYXJnZXQoZWxlbWVudCk7Ly8gVHJpZ2dlciB0aGUgY2xpY2sgZXZlbnQuXG50aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCxldmVudFR5cGUsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO2lmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW4pKXtyZXR1cm47fX07S29ucXVlcm9yQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3ZhciB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTt0aGlzLl9tb2RpZnlFbGVtZW50VGFyZ2V0KGVsZW1lbnQpO2lmKGVsZW1lbnRbZXZlbnRUeXBlXSl7ZWxlbWVudFtldmVudFR5cGVdKCk7fWVsc2V7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsZXZlbnRUeXBlLHRydWUsY2xpZW50WCxjbGllbnRZKTt9aWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbikpe3JldHVybjt9fTtTYWZhcmlCcm93c2VyQm90LnByb3RvdHlwZS5fZmlyZUV2ZW50T25FbGVtZW50PWZ1bmN0aW9uKGV2ZW50VHlwZSxlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTt0aGlzLl9tb2RpZnlFbGVtZW50VGFyZ2V0KGVsZW1lbnQpOy8vIEZvciBmb3JtIGVsZW1lbnQgaXQgaXMgc2ltcGxlLlxuaWYoZWxlbWVudFtldmVudFR5cGVdKXtlbGVtZW50W2V2ZW50VHlwZV0oKTt9Ly8gRm9yIGxpbmtzIGFuZCBvdGhlciBlbGVtZW50cywgZXZlbnQgZW11bGF0aW9uIGlzIHJlcXVpcmVkLlxuZWxzZXsvLyB0b2RvOiBkZWFsIHdpdGggYW5jaG9ycz9cbnRoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LGV2ZW50VHlwZSx0cnVlLGNsaWVudFgsY2xpZW50WSk7fX07U2FmYXJpQnJvd3NlckJvdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7aWYod2luLmxvY2F0aW9uLmhhc2gpey8vIERHRiBTYWZhcmkgcmVmdXNlcyB0byByZWZyZXNoIHdoZW4gdGhlcmUncyBhIGhhc2ggc3ltYm9sIGluIHRoZSBVUkxcbndpbi5sb2NhdGlvbi5oYXNoPScnO3ZhciBhY3R1YWxseVJlbG9hZD1mdW5jdGlvbiBhY3R1YWxseVJlbG9hZCgpe3dpbi5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7fTt3aW5kb3cuc2V0VGltZW91dChhY3R1YWxseVJlbG9hZCwxKTt9ZWxzZXt3aW4ubG9jYXRpb24ucmVsb2FkKHRydWUpO319O0lFQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3ZhciB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7X2Nsb3N1cmVQb2x5ZmlsbC5ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTt2YXIgd2FzQ2hlY2tlZD1lbGVtZW50LmNoZWNrZWQ7Ly8gU2V0IGEgZmxhZyB0aGF0IHJlY29yZHMgaWYgdGhlIHBhZ2Ugd2lsbCB1bmxvYWQgLSB0aGlzIGlzbid0IGFsd2F5cyBhY2N1cmF0ZSwgYmVjYXVzZVxuLy8gPGEgaHJlZj1cImphdmFzY3JpcHQ6YWxlcnQoJ2ZvbycpOlwiPiB0cmlnZ2VycyB0aGUgb25iZWZvcmV1bmxvYWQgZXZlbnQsIGV2ZW4gdGhvdWdodCB0aGUgcGFnZSB3b24ndCB1bmxvYWRcbnZhciBwYWdlVW5sb2FkaW5nPWZhbHNlO3ZhciBwYWdlVW5sb2FkRGV0ZWN0b3I9ZnVuY3Rpb24gcGFnZVVubG9hZERldGVjdG9yKCl7cGFnZVVubG9hZGluZz10cnVlO307aWYod2luLmFkZEV2ZW50TGlzdGVuZXIpe3dpbi5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLHBhZ2VVbmxvYWREZXRlY3Rvcix0cnVlKTt9ZWxzZXt3aW4uYXR0YWNoRXZlbnQoJ29uYmVmb3JldW5sb2FkJyxwYWdlVW5sb2FkRGV0ZWN0b3IpO310aGlzLl9tb2RpZnlFbGVtZW50VGFyZ2V0KGVsZW1lbnQpO2lmKGVsZW1lbnRbZXZlbnRUeXBlXSl7ZWxlbWVudFtldmVudFR5cGVdKCk7fWVsc2V7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsZXZlbnRUeXBlLHRydWUsY2xpZW50WCxjbGllbnRZKTt9Ly8gSWYgdGhlIHBhZ2UgaXMgZ29pbmcgdG8gdW5sb2FkIC0gc3RpbGwgYXR0ZW1wdCB0byBmaXJlIGFueSBzdWJzZXF1ZW50IGV2ZW50cy5cbi8vIEhvd2V2ZXIsIHdlIGNhbid0IGd1YXJhbnRlZSB0aGF0IHRoZSBwYWdlIHdvbid0IHVubG9hZCBoYWxmIHdheSB0aHJvdWdoLCBzbyB3ZSBuZWVkIHRvIGhhbmRsZSBleGNlcHRpb25zLlxudHJ5e2lmKHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKXt3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25iZWZvcmV1bmxvYWQnLHBhZ2VVbmxvYWREZXRlY3Rvcix0cnVlKTt9ZWxzZXt3aW4uZGV0YWNoRXZlbnQoJ29uYmVmb3JldW5sb2FkJyxwYWdlVW5sb2FkRGV0ZWN0b3IpO31pZih0aGlzLl93aW5kb3dDbG9zZWQod2luKSl7cmV0dXJuO30vLyBPbmNoYW5nZSBldmVudCBpcyBub3QgdHJpZ2dlcmVkIGF1dG9tYXRpY2FsbHkgaW4gSUUuXG5pZihpc0RlZmluZWQoZWxlbWVudC5jaGVja2VkKSYmd2FzQ2hlY2tlZCE9ZWxlbWVudC5jaGVja2VkKXtfY2xvc3VyZVBvbHlmaWxsLmJvdC5ldmVudHMuZmlyZShlbGVtZW50LF9jbG9zdXJlUG9seWZpbGwuYm90LmV2ZW50cy5FdmVudFR5cGUuQ0hBTkdFKTt9fWNhdGNoKGUpey8vIElmIHRoZSBwYWdlIGlzIHVubG9hZGluZywgd2UgbWF5IGdldCBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBvciBcIlVuc3BlY2lmaWVkIGVycm9yXCIuXG4vLyBKdXN0IGlnbm9yZSBpdCwgYmVjYXVzZSB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgdW5sb2FkZWQuXG5pZihwYWdlVW5sb2FkaW5nKXsvL0xPRy5sb2dIb29rID0gZnVuY3Rpb24oKSB7XG4vL307XG4vL0xPRy53YXJuKFwiQ2F1Z2h0IGV4Y2VwdGlvbiB3aGVuIGZpcmluZyBldmVudHMgb24gdW5sb2FkaW5nIHBhZ2U6IFwiICsgZS5tZXNzYWdlKTtcbnJldHVybjt9dGhyb3cgZTt9fTs7dmFyIF90ZW1wPWZ1bmN0aW9uKCl7aWYodHlwZW9mIF9fUkVBQ1RfSE9UX0xPQURFUl9fPT09J3VuZGVmaW5lZCcpe3JldHVybjt9X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoYnJvd3NlclZlcnNpb24sJ2Jyb3dzZXJWZXJzaW9uJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWJyb3dzZXJib3QuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihCcm93c2VyQm90LCdCcm93c2VyQm90JywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWJyb3dzZXJib3QuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihQYWdlQm90LCdQYWdlQm90JywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWJyb3dzZXJib3QuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihlbmNvZGVVUklDb21wb25lbnRXaXRoQVNQSGFjaywnZW5jb2RlVVJJQ29tcG9uZW50V2l0aEFTUEhhY2snLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYnJvd3NlcmJvdC5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGlzRGVmaW5lZCwnaXNEZWZpbmVkJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWJyb3dzZXJib3QuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihNb3ppbGxhQnJvd3NlckJvdCwnTW96aWxsYUJyb3dzZXJCb3QnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYnJvd3NlcmJvdC5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKEtvbnF1ZXJvckJyb3dzZXJCb3QsJ0tvbnF1ZXJvckJyb3dzZXJCb3QnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYnJvd3NlcmJvdC5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKFNhZmFyaUJyb3dzZXJCb3QsJ1NhZmFyaUJyb3dzZXJCb3QnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvc2VsZW5pdW0tYnJvd3NlcmJvdC5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKE9wZXJhQnJvd3NlckJvdCwnT3BlcmFCcm93c2VyQm90JywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3NlbGVuaXVtLWJyb3dzZXJib3QuanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihJRUJyb3dzZXJCb3QsJ0lFQnJvd3NlckJvdCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9zZWxlbml1bS1icm93c2VyYm90LmpzJyk7fSgpOztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvc2VsZW5pdW0tYnJvd3NlcmJvdC5qc1xuLy8gbW9kdWxlIGlkID0gMjMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///232\n");

/***/ }),

/***/ 233:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=PatternMatcher;var _SeleniumError=__webpack_require__(110);var _SeleniumError2=_interopRequireDefault(_SeleniumError);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function PatternMatcher(pattern){this.selectStrategy(pattern);}// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nPatternMatcher.prototype={selectStrategy:function selectStrategy(pattern){this.pattern=pattern;var strategyName='glob';// by default\nif(/^([a-z-]+):(.*)/.test(pattern)){var possibleNewStrategyName=RegExp.$1;var possibleNewPattern=RegExp.$2;if(PatternMatcher.strategies[possibleNewStrategyName]){strategyName=possibleNewStrategyName;pattern=possibleNewPattern;}}var matchStrategy=PatternMatcher.strategies[strategyName];if(!matchStrategy){throw new _SeleniumError2.default('cannot find PatternMatcher.strategies.'+strategyName);}this.strategy=matchStrategy;this.matcher=new matchStrategy(pattern);},matches:function matches(actual){return this.matcher.matches(actual+'');// Note: appending an empty string avoids a Konqueror bug\n}/**\n * A \"static\" convenience method for easy matching\n */};PatternMatcher.matches=function(pattern,actual){return new PatternMatcher(pattern).matches(actual);};PatternMatcher.strategies={/**\n   * Exact matching, e.g. \"exact:***\"\n   */exact:function exact(expected){this.expected=expected;this.matches=function(actual){return actual==this.expected;};},/**\n   * Match by regular expression, e.g. \"regexp:^[0-9]+$\"\n   */regexp:function regexp(regexpString){this.regexp=new RegExp(regexpString);this.matches=function(actual){return this.regexp.test(actual);};},regex:function regex(regexpString){this.regexp=new RegExp(regexpString);this.matches=function(actual){return this.regexp.test(actual);};},regexpi:function regexpi(regexpString){this.regexp=new RegExp(regexpString,'i');this.matches=function(actual){return this.regexp.test(actual);};},regexi:function regexi(regexpString){this.regexp=new RegExp(regexpString,'i');this.matches=function(actual){return this.regexp.test(actual);};},/**\n   * \"globContains\" (aka \"wildmat\") patterns, e.g. \"glob:one,two,*\",\n   * but don't require a perfect match; instead succeed if actual\n   * contains something that matches globString.\n   * Making this distinction is motivated by a bug in IE6 which\n   * leads to the browser hanging if we implement *TextPresent tests\n   * by just matching against a regular expression beginning and\n   * ending with \".*\".  The globcontains strategy allows us to satisfy\n   * the functional needs of the *TextPresent ops more efficiently\n   * and so avoid running into this IE6 freeze.\n   */globContains:function globContains(globString){this.regexp=new RegExp(PatternMatcher.regexpFromGlobContains(globString));this.matches=function(actual){return this.regexp.test(actual);};},/**\n   * \"glob\" (aka \"wildmat\") patterns, e.g. \"glob:one,two,*\"\n   */glob:function glob(globString){this.regexp=new RegExp(PatternMatcher.regexpFromGlob(globString));this.matches=function(actual){return this.regexp.test(actual);};}};PatternMatcher.convertGlobMetaCharsToRegexpMetaChars=function(glob){var re=glob;re=re.replace(/([.^$+(){}\\[\\]\\\\|])/g,'\\\\$1');// eslint-disable-line no-useless-escape\nre=re.replace(/\\?/g,'(.|[\\r\\n])');re=re.replace(/\\*/g,'(.|[\\r\\n])*');return re;};PatternMatcher.regexpFromGlobContains=function(globContains){return PatternMatcher.convertGlobMetaCharsToRegexpMetaChars(globContains);};PatternMatcher.regexpFromGlob=function(glob){return'^'+PatternMatcher.convertGlobMetaCharsToRegexpMetaChars(glob)+'$';};;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(PatternMatcher,'PatternMatcher','/opt/selenium-ide/packages/selenium-ide/src/content/PatternMatcher.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9QYXR0ZXJuTWF0Y2hlci5qcz8yNzZmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO2V4cG9ydHMuZGVmYXVsdD1QYXR0ZXJuTWF0Y2hlcjt2YXIgX1NlbGVuaXVtRXJyb3I9cmVxdWlyZSgnLi9TZWxlbml1bUVycm9yJyk7dmFyIF9TZWxlbml1bUVycm9yMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlbml1bUVycm9yKTtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian07fWZ1bmN0aW9uIFBhdHRlcm5NYXRjaGVyKHBhdHRlcm4pe3RoaXMuc2VsZWN0U3RyYXRlZ3kocGF0dGVybik7fS8vIExpY2Vuc2VkIHRvIHRoZSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5IChTRkMpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgU0ZDIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5QYXR0ZXJuTWF0Y2hlci5wcm90b3R5cGU9e3NlbGVjdFN0cmF0ZWd5OmZ1bmN0aW9uIHNlbGVjdFN0cmF0ZWd5KHBhdHRlcm4pe3RoaXMucGF0dGVybj1wYXR0ZXJuO3ZhciBzdHJhdGVneU5hbWU9J2dsb2InOy8vIGJ5IGRlZmF1bHRcbmlmKC9eKFthLXotXSspOiguKikvLnRlc3QocGF0dGVybikpe3ZhciBwb3NzaWJsZU5ld1N0cmF0ZWd5TmFtZT1SZWdFeHAuJDE7dmFyIHBvc3NpYmxlTmV3UGF0dGVybj1SZWdFeHAuJDI7aWYoUGF0dGVybk1hdGNoZXIuc3RyYXRlZ2llc1twb3NzaWJsZU5ld1N0cmF0ZWd5TmFtZV0pe3N0cmF0ZWd5TmFtZT1wb3NzaWJsZU5ld1N0cmF0ZWd5TmFtZTtwYXR0ZXJuPXBvc3NpYmxlTmV3UGF0dGVybjt9fXZhciBtYXRjaFN0cmF0ZWd5PVBhdHRlcm5NYXRjaGVyLnN0cmF0ZWdpZXNbc3RyYXRlZ3lOYW1lXTtpZighbWF0Y2hTdHJhdGVneSl7dGhyb3cgbmV3IF9TZWxlbml1bUVycm9yMi5kZWZhdWx0KCdjYW5ub3QgZmluZCBQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzLicrc3RyYXRlZ3lOYW1lKTt9dGhpcy5zdHJhdGVneT1tYXRjaFN0cmF0ZWd5O3RoaXMubWF0Y2hlcj1uZXcgbWF0Y2hTdHJhdGVneShwYXR0ZXJuKTt9LG1hdGNoZXM6ZnVuY3Rpb24gbWF0Y2hlcyhhY3R1YWwpe3JldHVybiB0aGlzLm1hdGNoZXIubWF0Y2hlcyhhY3R1YWwrJycpOy8vIE5vdGU6IGFwcGVuZGluZyBhbiBlbXB0eSBzdHJpbmcgYXZvaWRzIGEgS29ucXVlcm9yIGJ1Z1xufS8qKlxuICogQSBcInN0YXRpY1wiIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgZWFzeSBtYXRjaGluZ1xuICovfTtQYXR0ZXJuTWF0Y2hlci5tYXRjaGVzPWZ1bmN0aW9uKHBhdHRlcm4sYWN0dWFsKXtyZXR1cm4gbmV3IFBhdHRlcm5NYXRjaGVyKHBhdHRlcm4pLm1hdGNoZXMoYWN0dWFsKTt9O1BhdHRlcm5NYXRjaGVyLnN0cmF0ZWdpZXM9ey8qKlxuICAgKiBFeGFjdCBtYXRjaGluZywgZS5nLiBcImV4YWN0OioqKlwiXG4gICAqL2V4YWN0OmZ1bmN0aW9uIGV4YWN0KGV4cGVjdGVkKXt0aGlzLmV4cGVjdGVkPWV4cGVjdGVkO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiBhY3R1YWw9PXRoaXMuZXhwZWN0ZWQ7fTt9LC8qKlxuICAgKiBNYXRjaCBieSByZWd1bGFyIGV4cHJlc3Npb24sIGUuZy4gXCJyZWdleHA6XlswLTldKyRcIlxuICAgKi9yZWdleHA6ZnVuY3Rpb24gcmVnZXhwKHJlZ2V4cFN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChyZWdleHBTdHJpbmcpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4OmZ1bmN0aW9uIHJlZ2V4KHJlZ2V4cFN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChyZWdleHBTdHJpbmcpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4cGk6ZnVuY3Rpb24gcmVnZXhwaShyZWdleHBTdHJpbmcpe3RoaXMucmVnZXhwPW5ldyBSZWdFeHAocmVnZXhwU3RyaW5nLCdpJyk7dGhpcy5tYXRjaGVzPWZ1bmN0aW9uKGFjdHVhbCl7cmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoYWN0dWFsKTt9O30scmVnZXhpOmZ1bmN0aW9uIHJlZ2V4aShyZWdleHBTdHJpbmcpe3RoaXMucmVnZXhwPW5ldyBSZWdFeHAocmVnZXhwU3RyaW5nLCdpJyk7dGhpcy5tYXRjaGVzPWZ1bmN0aW9uKGFjdHVhbCl7cmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoYWN0dWFsKTt9O30sLyoqXG4gICAqIFwiZ2xvYkNvbnRhaW5zXCIgKGFrYSBcIndpbGRtYXRcIikgcGF0dGVybnMsIGUuZy4gXCJnbG9iOm9uZSx0d28sKlwiLFxuICAgKiBidXQgZG9uJ3QgcmVxdWlyZSBhIHBlcmZlY3QgbWF0Y2g7IGluc3RlYWQgc3VjY2VlZCBpZiBhY3R1YWxcbiAgICogY29udGFpbnMgc29tZXRoaW5nIHRoYXQgbWF0Y2hlcyBnbG9iU3RyaW5nLlxuICAgKiBNYWtpbmcgdGhpcyBkaXN0aW5jdGlvbiBpcyBtb3RpdmF0ZWQgYnkgYSBidWcgaW4gSUU2IHdoaWNoXG4gICAqIGxlYWRzIHRvIHRoZSBicm93c2VyIGhhbmdpbmcgaWYgd2UgaW1wbGVtZW50ICpUZXh0UHJlc2VudCB0ZXN0c1xuICAgKiBieSBqdXN0IG1hdGNoaW5nIGFnYWluc3QgYSByZWd1bGFyIGV4cHJlc3Npb24gYmVnaW5uaW5nIGFuZFxuICAgKiBlbmRpbmcgd2l0aCBcIi4qXCIuICBUaGUgZ2xvYmNvbnRhaW5zIHN0cmF0ZWd5IGFsbG93cyB1cyB0byBzYXRpc2Z5XG4gICAqIHRoZSBmdW5jdGlvbmFsIG5lZWRzIG9mIHRoZSAqVGV4dFByZXNlbnQgb3BzIG1vcmUgZWZmaWNpZW50bHlcbiAgICogYW5kIHNvIGF2b2lkIHJ1bm5pbmcgaW50byB0aGlzIElFNiBmcmVlemUuXG4gICAqL2dsb2JDb250YWluczpmdW5jdGlvbiBnbG9iQ29udGFpbnMoZ2xvYlN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChQYXR0ZXJuTWF0Y2hlci5yZWdleHBGcm9tR2xvYkNvbnRhaW5zKGdsb2JTdHJpbmcpKTt0aGlzLm1hdGNoZXM9ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gdGhpcy5yZWdleHAudGVzdChhY3R1YWwpO307fSwvKipcbiAgICogXCJnbG9iXCIgKGFrYSBcIndpbGRtYXRcIikgcGF0dGVybnMsIGUuZy4gXCJnbG9iOm9uZSx0d28sKlwiXG4gICAqL2dsb2I6ZnVuY3Rpb24gZ2xvYihnbG9iU3RyaW5nKXt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKFBhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iKGdsb2JTdHJpbmcpKTt0aGlzLm1hdGNoZXM9ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gdGhpcy5yZWdleHAudGVzdChhY3R1YWwpO307fX07UGF0dGVybk1hdGNoZXIuY29udmVydEdsb2JNZXRhQ2hhcnNUb1JlZ2V4cE1ldGFDaGFycz1mdW5jdGlvbihnbG9iKXt2YXIgcmU9Z2xvYjtyZT1yZS5yZXBsYWNlKC8oWy5eJCsoKXt9XFxbXFxdXFxcXHxdKS9nLCdcXFxcJDEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5yZT1yZS5yZXBsYWNlKC9cXD8vZywnKC58W1xcclxcbl0pJyk7cmU9cmUucmVwbGFjZSgvXFwqL2csJygufFtcXHJcXG5dKSonKTtyZXR1cm4gcmU7fTtQYXR0ZXJuTWF0Y2hlci5yZWdleHBGcm9tR2xvYkNvbnRhaW5zPWZ1bmN0aW9uKGdsb2JDb250YWlucyl7cmV0dXJuIFBhdHRlcm5NYXRjaGVyLmNvbnZlcnRHbG9iTWV0YUNoYXJzVG9SZWdleHBNZXRhQ2hhcnMoZ2xvYkNvbnRhaW5zKTt9O1BhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iPWZ1bmN0aW9uKGdsb2Ipe3JldHVybideJytQYXR0ZXJuTWF0Y2hlci5jb252ZXJ0R2xvYk1ldGFDaGFyc1RvUmVnZXhwTWV0YUNoYXJzKGdsb2IpKyckJzt9Ozt2YXIgX3RlbXA9ZnVuY3Rpb24oKXtpZih0eXBlb2YgX19SRUFDVF9IT1RfTE9BREVSX189PT0ndW5kZWZpbmVkJyl7cmV0dXJuO31fX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihQYXR0ZXJuTWF0Y2hlciwnUGF0dGVybk1hdGNoZXInLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvUGF0dGVybk1hdGNoZXIuanMnKTt9KCk7O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9QYXR0ZXJuTWF0Y2hlci5qc1xuLy8gbW9kdWxlIGlkID0gMjMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///233\n");

/***/ }),

/***/ 332:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(141);


/***/ }),

/***/ 390:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();exports.exactMatchPattern=exactMatchPattern;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n// Modified in tools.js from selenium-IDE\nfunction exactMatchPattern(string){if(string!=null&&(string.match(/^\\w*:/)||string.indexOf('?')>=0||string.indexOf('*')>=0)){return'exact:'+string;}else{return string;}}var TargetSelector=function(){function TargetSelector(callback,cleanupCallback){var _this=this;_classCallCheck(this,TargetSelector);this.callback=callback;this.cleanupCallback=cleanupCallback;// This is for XPCOM/XUL addon and can't be used\n//var wm = Components.classes[\"@mozilla.org/appshell/window-mediator;1\"].getService(Components.interfaces.nsIWindowMediator);\n//this.win = wm.getMostRecentWindow('navigator:browser').getBrowser().contentWindow;\n// Instead, we simply assign global content window to this.win\nthis.win=window;var doc=this.win.document;var div=doc.createElement('div');div.setAttribute('style','display: none;');doc.body.insertBefore(div,doc.body.firstChild);this.div=div;this.e=null;this.r=null;this.banner=doc.createElement('div');this.banner.setAttribute('style','position: fixed;top: 0;left: 0;bottom: 0;right: 0;background: trasparent;z-index: 10000;');var header=doc.createElement('div');header.setAttribute('style',\"pointer-events: none;display: flex;align-items: center;justify-content: center;flex-direction: row;position: fixed;top: 20%;left: 35%;right: 35%;background: whitesmoke;color: #444;font-size: 28px;line-height: 50px;z-index: 10001;font-family: system, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;box-shadow: 7px 7px 10px 0 rgba(0,0,0,0.3);border: 1px white solid;\");var img=doc.createElement('img');img.src=browser.runtime.getURL('/icons/icon128.png');img.setAttribute('style','width: 28px;margin-right: 15px;');header.appendChild(img);var span=doc.createElement('span');span.innerText='Select an element';header.appendChild(span);setTimeout(function(){// this has to happen after a timeout, since adding it sync will add the event\n// before the window is focused which will case mousemove to fire before the\n// user actually moves the mouse\n_this.banner.addEventListener('mousemove',function(){setTimeout(function(){_this.banner.style.visibility='hidden';},300);},false);},300);this.banner.appendChild(header);doc.body.insertBefore(this.banner,div);doc.addEventListener('mousemove',this,true);doc.addEventListener('click',this,true);}_createClass(TargetSelector,[{key:'cleanup',value:function cleanup(){try{if(this.div){if(this.div.parentNode){this.div.parentNode.removeChild(this.div);}this.div=null;}if(this.header){if(this.header.parentNode){this.header.parentNode.removeChild(this.header);}this.header=null;}if(this.win){var doc=this.win.document;doc.removeEventListener('mousemove',this,true);doc.removeEventListener('click',this,true);}}catch(e){if(e!=\"TypeError: can't access dead object\"){throw e;}}this.win=null;if(this.cleanupCallback){this.cleanupCallback();}}},{key:'handleEvent',value:function handleEvent(evt){switch(evt.type){case'mousemove':this.highlight(evt.target.ownerDocument,evt.clientX,evt.clientY);break;case'click':if(evt.button==0&&this.e&&this.callback){this.callback(this.e,this.win);}//Right click would cancel the select\nevt.preventDefault();evt.stopPropagation();this.cleanup();break;}}},{key:'highlight',value:function highlight(doc,x,y){if(doc){var e=doc.elementFromPoint(x,y);if(e&&e!=this.e){this.highlightElement(e);}}}},{key:'highlightElement',value:function highlightElement(element){if(element&&element!=this.e&&element!==this.banner){this.e=element;}else{return;}var r=element.getBoundingClientRect();var or=this.r;if(r.left>=0&&r.top>=0&&r.width>0&&r.height>0){if(or&&r.top==or.top&&r.left==or.left&&r.width==or.width&&r.height==or.height){return;}this.r=r;var style='pointer-events: none; position: absolute; background-color: rgb(78, 171, 230); opacity: 0.4; border: 1px solid #0e0e0e; z-index: 1000000;';var pos='top:'+(r.top+this.win.scrollY)+'px; left:'+(r.left+this.win.scrollX)+'px; width:'+r.width+'px; height:'+r.height+'px;';this.div.setAttribute('style',style+pos);}else if(or){this.div.setAttribute('style','display: none;');}}}]);return TargetSelector;}();var _default=TargetSelector;exports.default=_default;;var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(exactMatchPattern,'exactMatchPattern','/opt/selenium-ide/packages/selenium-ide/src/content/targetSelector.js');__REACT_HOT_LOADER__.register(TargetSelector,'TargetSelector','/opt/selenium-ide/packages/selenium-ide/src/content/targetSelector.js');__REACT_HOT_LOADER__.register(_default,'default','/opt/selenium-ide/packages/selenium-ide/src/content/targetSelector.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC90YXJnZXRTZWxlY3Rvci5qcz8wODY2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKFwidmFsdWVcImluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZXhwb3J0cy5leGFjdE1hdGNoUGF0dGVybj1leGFjdE1hdGNoUGF0dGVybjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7fX0vLyBMaWNlbnNlZCB0byB0aGUgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeSAoU0ZDKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIFNGQyBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuLy8gTW9kaWZpZWQgaW4gdG9vbHMuanMgZnJvbSBzZWxlbml1bS1JREVcbmZ1bmN0aW9uIGV4YWN0TWF0Y2hQYXR0ZXJuKHN0cmluZyl7aWYoc3RyaW5nIT1udWxsJiYoc3RyaW5nLm1hdGNoKC9eXFx3KjovKXx8c3RyaW5nLmluZGV4T2YoJz8nKT49MHx8c3RyaW5nLmluZGV4T2YoJyonKT49MCkpe3JldHVybidleGFjdDonK3N0cmluZzt9ZWxzZXtyZXR1cm4gc3RyaW5nO319dmFyIFRhcmdldFNlbGVjdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVGFyZ2V0U2VsZWN0b3IoY2FsbGJhY2ssY2xlYW51cENhbGxiYWNrKXt2YXIgX3RoaXM9dGhpcztfY2xhc3NDYWxsQ2hlY2sodGhpcyxUYXJnZXRTZWxlY3Rvcik7dGhpcy5jYWxsYmFjaz1jYWxsYmFjazt0aGlzLmNsZWFudXBDYWxsYmFjaz1jbGVhbnVwQ2FsbGJhY2s7Ly8gVGhpcyBpcyBmb3IgWFBDT00vWFVMIGFkZG9uIGFuZCBjYW4ndCBiZSB1c2VkXG4vL3ZhciB3bSA9IENvbXBvbmVudHMuY2xhc3Nlc1tcIkBtb3ppbGxhLm9yZy9hcHBzaGVsbC93aW5kb3ctbWVkaWF0b3I7MVwiXS5nZXRTZXJ2aWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lXaW5kb3dNZWRpYXRvcik7XG4vL3RoaXMud2luID0gd20uZ2V0TW9zdFJlY2VudFdpbmRvdygnbmF2aWdhdG9yOmJyb3dzZXInKS5nZXRCcm93c2VyKCkuY29udGVudFdpbmRvdztcbi8vIEluc3RlYWQsIHdlIHNpbXBseSBhc3NpZ24gZ2xvYmFsIGNvbnRlbnQgd2luZG93IHRvIHRoaXMud2luXG50aGlzLndpbj13aW5kb3c7dmFyIGRvYz10aGlzLndpbi5kb2N1bWVudDt2YXIgZGl2PWRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsJ2Rpc3BsYXk6IG5vbmU7Jyk7ZG9jLmJvZHkuaW5zZXJ0QmVmb3JlKGRpdixkb2MuYm9keS5maXJzdENoaWxkKTt0aGlzLmRpdj1kaXY7dGhpcy5lPW51bGw7dGhpcy5yPW51bGw7dGhpcy5iYW5uZXI9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO3RoaXMuYmFubmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdwb3NpdGlvbjogZml4ZWQ7dG9wOiAwO2xlZnQ6IDA7Ym90dG9tOiAwO3JpZ2h0OiAwO2JhY2tncm91bmQ6IHRyYXNwYXJlbnQ7ei1pbmRleDogMTAwMDA7Jyk7dmFyIGhlYWRlcj1kb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7aGVhZGVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLFwicG9pbnRlci1ldmVudHM6IG5vbmU7ZGlzcGxheTogZmxleDthbGlnbi1pdGVtczogY2VudGVyO2p1c3RpZnktY29udGVudDogY2VudGVyO2ZsZXgtZGlyZWN0aW9uOiByb3c7cG9zaXRpb246IGZpeGVkO3RvcDogMjAlO2xlZnQ6IDM1JTtyaWdodDogMzUlO2JhY2tncm91bmQ6IHdoaXRlc21va2U7Y29sb3I6ICM0NDQ7Zm9udC1zaXplOiAyOHB4O2xpbmUtaGVpZ2h0OiA1MHB4O3otaW5kZXg6IDEwMDAxO2ZvbnQtZmFtaWx5OiBzeXN0ZW0sIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsIHNhbnMtc2VyaWY7Ym94LXNoYWRvdzogN3B4IDdweCAxMHB4IDAgcmdiYSgwLDAsMCwwLjMpO2JvcmRlcjogMXB4IHdoaXRlIHNvbGlkO1wiKTt2YXIgaW1nPWRvYy5jcmVhdGVFbGVtZW50KCdpbWcnKTtpbWcuc3JjPWJyb3dzZXIucnVudGltZS5nZXRVUkwoJy9pY29ucy9pY29uMTI4LnBuZycpO2ltZy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnd2lkdGg6IDI4cHg7bWFyZ2luLXJpZ2h0OiAxNXB4OycpO2hlYWRlci5hcHBlbmRDaGlsZChpbWcpO3ZhciBzcGFuPWRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7c3Bhbi5pbm5lclRleHQ9J1NlbGVjdCBhbiBlbGVtZW50JztoZWFkZXIuYXBwZW5kQ2hpbGQoc3Bhbik7c2V0VGltZW91dChmdW5jdGlvbigpey8vIHRoaXMgaGFzIHRvIGhhcHBlbiBhZnRlciBhIHRpbWVvdXQsIHNpbmNlIGFkZGluZyBpdCBzeW5jIHdpbGwgYWRkIHRoZSBldmVudFxuLy8gYmVmb3JlIHRoZSB3aW5kb3cgaXMgZm9jdXNlZCB3aGljaCB3aWxsIGNhc2UgbW91c2Vtb3ZlIHRvIGZpcmUgYmVmb3JlIHRoZVxuLy8gdXNlciBhY3R1YWxseSBtb3ZlcyB0aGUgbW91c2Vcbl90aGlzLmJhbm5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe190aGlzLmJhbm5lci5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nO30sMzAwKTt9LGZhbHNlKTt9LDMwMCk7dGhpcy5iYW5uZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKTtkb2MuYm9keS5pbnNlcnRCZWZvcmUodGhpcy5iYW5uZXIsZGl2KTtkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLHRydWUpO2RvYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsdGhpcyx0cnVlKTt9X2NyZWF0ZUNsYXNzKFRhcmdldFNlbGVjdG9yLFt7a2V5OidjbGVhbnVwJyx2YWx1ZTpmdW5jdGlvbiBjbGVhbnVwKCl7dHJ5e2lmKHRoaXMuZGl2KXtpZih0aGlzLmRpdi5wYXJlbnROb2RlKXt0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTt9dGhpcy5kaXY9bnVsbDt9aWYodGhpcy5oZWFkZXIpe2lmKHRoaXMuaGVhZGVyLnBhcmVudE5vZGUpe3RoaXMuaGVhZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oZWFkZXIpO310aGlzLmhlYWRlcj1udWxsO31pZih0aGlzLndpbil7dmFyIGRvYz10aGlzLndpbi5kb2N1bWVudDtkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLHRydWUpO2RvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsdGhpcyx0cnVlKTt9fWNhdGNoKGUpe2lmKGUhPVwiVHlwZUVycm9yOiBjYW4ndCBhY2Nlc3MgZGVhZCBvYmplY3RcIil7dGhyb3cgZTt9fXRoaXMud2luPW51bGw7aWYodGhpcy5jbGVhbnVwQ2FsbGJhY2spe3RoaXMuY2xlYW51cENhbGxiYWNrKCk7fX19LHtrZXk6J2hhbmRsZUV2ZW50Jyx2YWx1ZTpmdW5jdGlvbiBoYW5kbGVFdmVudChldnQpe3N3aXRjaChldnQudHlwZSl7Y2FzZSdtb3VzZW1vdmUnOnRoaXMuaGlnaGxpZ2h0KGV2dC50YXJnZXQub3duZXJEb2N1bWVudCxldnQuY2xpZW50WCxldnQuY2xpZW50WSk7YnJlYWs7Y2FzZSdjbGljayc6aWYoZXZ0LmJ1dHRvbj09MCYmdGhpcy5lJiZ0aGlzLmNhbGxiYWNrKXt0aGlzLmNhbGxiYWNrKHRoaXMuZSx0aGlzLndpbik7fS8vUmlnaHQgY2xpY2sgd291bGQgY2FuY2VsIHRoZSBzZWxlY3RcbmV2dC5wcmV2ZW50RGVmYXVsdCgpO2V2dC5zdG9wUHJvcGFnYXRpb24oKTt0aGlzLmNsZWFudXAoKTticmVhazt9fX0se2tleTonaGlnaGxpZ2h0Jyx2YWx1ZTpmdW5jdGlvbiBoaWdobGlnaHQoZG9jLHgseSl7aWYoZG9jKXt2YXIgZT1kb2MuZWxlbWVudEZyb21Qb2ludCh4LHkpO2lmKGUmJmUhPXRoaXMuZSl7dGhpcy5oaWdobGlnaHRFbGVtZW50KGUpO319fX0se2tleTonaGlnaGxpZ2h0RWxlbWVudCcsdmFsdWU6ZnVuY3Rpb24gaGlnaGxpZ2h0RWxlbWVudChlbGVtZW50KXtpZihlbGVtZW50JiZlbGVtZW50IT10aGlzLmUmJmVsZW1lbnQhPT10aGlzLmJhbm5lcil7dGhpcy5lPWVsZW1lbnQ7fWVsc2V7cmV0dXJuO312YXIgcj1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBvcj10aGlzLnI7aWYoci5sZWZ0Pj0wJiZyLnRvcD49MCYmci53aWR0aD4wJiZyLmhlaWdodD4wKXtpZihvciYmci50b3A9PW9yLnRvcCYmci5sZWZ0PT1vci5sZWZ0JiZyLndpZHRoPT1vci53aWR0aCYmci5oZWlnaHQ9PW9yLmhlaWdodCl7cmV0dXJuO310aGlzLnI9cjt2YXIgc3R5bGU9J3BvaW50ZXItZXZlbnRzOiBub25lOyBwb3NpdGlvbjogYWJzb2x1dGU7IGJhY2tncm91bmQtY29sb3I6IHJnYig3OCwgMTcxLCAyMzApOyBvcGFjaXR5OiAwLjQ7IGJvcmRlcjogMXB4IHNvbGlkICMwZTBlMGU7IHotaW5kZXg6IDEwMDAwMDA7Jzt2YXIgcG9zPSd0b3A6Jysoci50b3ArdGhpcy53aW4uc2Nyb2xsWSkrJ3B4OyBsZWZ0OicrKHIubGVmdCt0aGlzLndpbi5zY3JvbGxYKSsncHg7IHdpZHRoOicrci53aWR0aCsncHg7IGhlaWdodDonK3IuaGVpZ2h0KydweDsnO3RoaXMuZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLHN0eWxlK3Bvcyk7fWVsc2UgaWYob3Ipe3RoaXMuZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdkaXNwbGF5OiBub25lOycpO319fV0pO3JldHVybiBUYXJnZXRTZWxlY3Rvcjt9KCk7dmFyIF9kZWZhdWx0PVRhcmdldFNlbGVjdG9yO2V4cG9ydHMuZGVmYXVsdD1fZGVmYXVsdDs7dmFyIF90ZW1wPWZ1bmN0aW9uKCl7aWYodHlwZW9mIF9fUkVBQ1RfSE9UX0xPQURFUl9fPT09J3VuZGVmaW5lZCcpe3JldHVybjt9X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoZXhhY3RNYXRjaFBhdHRlcm4sJ2V4YWN0TWF0Y2hQYXR0ZXJuJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3RhcmdldFNlbGVjdG9yLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoVGFyZ2V0U2VsZWN0b3IsJ1RhcmdldFNlbGVjdG9yJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3RhcmdldFNlbGVjdG9yLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoX2RlZmF1bHQsJ2RlZmF1bHQnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvdGFyZ2V0U2VsZWN0b3IuanMnKTt9KCk7O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC90YXJnZXRTZWxlY3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMzkwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///390\n");

/***/ }),

/***/ 393:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.editRegion=editRegion;exports.removeRegion=removeRegion;// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nvar coords={startX:0,startY:0,endX:0,endY:0};var mouseOffset={x:0,y:0};var STATES={create:1,update:2,resize:3};var state=STATES.create;var canvasExists=false;function editRegion(rect,cb){if(canvasExists){return cb(false);}var container=document.createElement('div');container.id='selenium-container';var canvas=document.createElement('div');canvas.id='selenium-canvas';var region=createRegion();setStyle(canvas,region);setEvents(container);var buttonContainer=createButtons(cb);buttonContainer.style.zIndex='10002';if(rect){region.style.left=rect.x+'px';region.style.top=rect.y+'px';region.style.width=rect.width+'px';region.style.height=rect.height+'px';}container.appendChild(buttonContainer);container.appendChild(canvas);container.appendChild(region);document.body.appendChild(container);canvasExists=true;}function removeRegion(){if(canvasExists){document.body.removeChild(document.getElementById('selenium-container'));}canvasExists=false;}function setStyle(canvas,region){canvas.style.position='fixed';canvas.style.top=0;canvas.style.bottom=0;canvas.style.right=0;canvas.style.left=0;canvas.style.zIndex='10000';canvas.style.cursor='crosshair';region.style.position='absolute';region.style.zIndex='10001';region.style.backgroundColor='rgb(78, 171, 230)';region.style.opacity='0.4';region.style.border='1px solid #0e0e0e';}function setEvents(container){container.addEventListener('mousedown',mousedown);container.addEventListener('mouseup',mouseup);}function mousedown(e){var container=document.getElementById('selenium-container');var canvas=document.getElementById('selenium-canvas');var region=document.getElementById('selenium-region');e.stopPropagation();if(e.target.tagName==='BUTTON')return;if(e.target===canvas){updateRegion(e.pageX,e.pageY,e.pageX,e.pageY);state=STATES.create;region.style.cursor='crosshair';}else if(e.target===region){state=STATES.update;mouseOffset.x=e.pageX;mouseOffset.y=e.pageY;region.style.cursor='move';}else if(e.target.parentElement===region){state=STATES.resize;}container.addEventListener('mousemove',mousemove);}function mousemove(e){e.stopPropagation();if(e.target.tagName==='BUTTON')return;if(state===STATES.create||state===STATES.resize){updateRegion(undefined,undefined,e.pageX,e.pageY);}else if(state===STATES.update){moveRegion(e.pageX,e.pageY);}}function mouseup(e){var container=document.getElementById('selenium-container');var canvas=document.getElementById('selenium-canvas');var region=document.getElementById('selenium-region');e.stopPropagation();region.style.cursor='move';canvas.style.cursor='crosshair';container.removeEventListener('mousemove',mousemove);showButtons();}function calculateRectFromCoords(coords){return calculateRect({x:coords.startX,y:coords.startY},{x:coords.endX,y:coords.endY});}function calculateRect(p1,p2){return{left:Math.min(p1.x,p2.x),top:Math.min(p1.y,p2.y),width:Math.abs(p1.x-p2.x),height:Math.abs(p1.y-p2.y)};}function updateRegion(startX,startY,endX,endY){hideButtons();var region=document.getElementById('selenium-region');if(startX){coords.startX=startX;}if(startY){coords.startY=startY;}if(endX){coords.endX=endX;}if(endY){coords.endY=endY;}var rect=calculateRectFromCoords(coords);region.style.left=rect.left+'px';region.style.top=rect.top+'px';region.style.width=rect.width+'px';region.style.height=rect.height+'px';}function moveRegion(mouseX,mouseY){var dx=mouseOffset.x-mouseX;var dy=mouseOffset.y-mouseY;mouseOffset.x=mouseX;mouseOffset.y=mouseY;if(coords.startX-dx<5||coords.endX-dx<5)dx=0;if(coords.startY-dy<5||coords.endY-dy<5)dy=0;updateRegion(coords.startX-dx,coords.startY-dy,coords.endX-dx,coords.endY-dy);}function createRegion(){var region=document.createElement('div');region.id='selenium-region';var cornerSize=20;var tlc=createHotCorner(cornerSize);tlc.style.top='-5px';tlc.style.left='-5px';tlc.style.cursor='nw-resize';tlc.addEventListener('mousedown',function(){var canvas=document.getElementById('selenium-canvas');var region=document.getElementById('selenium-region');canvas.style.cursor='nw-resize';region.style.cursor='nw-resize';updateRegion(Math.max(coords.startX,coords.endX),Math.max(coords.startY,coords.endY),Math.min(coords.startX,coords.endX),Math.min(coords.startY,coords.endY));});region.appendChild(tlc);var trc=createHotCorner(cornerSize);trc.style.top='-5px';trc.style.right='-5px';trc.style.cursor='ne-resize';trc.addEventListener('mousedown',function(){var canvas=document.getElementById('selenium-canvas');var region=document.getElementById('selenium-region');canvas.style.cursor='ne-resize';region.style.cursor='ne-resize';updateRegion(Math.min(coords.startX,coords.endX),Math.max(coords.startY,coords.endY),Math.max(coords.startX,coords.endX),Math.min(coords.startY,coords.endY));});region.appendChild(trc);var blc=createHotCorner(cornerSize);blc.style.bottom='-5px';blc.style.left='-5px';blc.style.cursor='sw-resize';blc.addEventListener('mousedown',function(){var canvas=document.getElementById('selenium-canvas');var region=document.getElementById('selenium-region');canvas.style.cursor='sw-resize';region.style.cursor='sw-resize';updateRegion(Math.max(coords.startX,coords.endX),Math.min(coords.startY,coords.endY),Math.min(coords.startX,coords.endX),Math.max(coords.startY,coords.endY));});region.appendChild(blc);var brc=createHotCorner(cornerSize);brc.style.bottom='-5px';brc.style.right='-5px';brc.style.cursor='se-resize';brc.addEventListener('mousedown',function(){var canvas=document.getElementById('selenium-canvas');var region=document.getElementById('selenium-region');canvas.style.cursor='se-resize';region.style.cursor='se-resize';updateRegion(Math.min(coords.startX,coords.endX),Math.min(coords.startY,coords.endY),Math.max(coords.startX,coords.endX),Math.max(coords.startY,coords.endY));});region.appendChild(brc);return region;}function createHotCorner(size){var c=document.createElement('div');c.style.position='absolute';c.style.height=size+'px';c.style.width=size+'px';return c;}function showButtons(){var canvasRect=document.getElementById('selenium-canvas').getBoundingClientRect();var buttonContainer=document.getElementById('region-control-panel');var top=coords.startY;var bottom=coords.endY;var left=coords.startX;var right=coords.endX;var width=right-left;if(canvasRect.bottom-bottom<=100)bottom=top;if(width<0)left=coords.endX;right=coords.startX;width=Math.abs(width);if(width<225)width=225;buttonContainer.style.position='absolute';buttonContainer.style.top=bottom+'px';buttonContainer.style.left=left+'px';buttonContainer.style.right=right+'px';buttonContainer.style.width=width+'px';buttonContainer.style.backgroundColor='rgba(0, 0, 0, 0.55)';buttonContainer.style.visibility='visible';}function hideButtons(){var buttonContainer=document.getElementById('region-control-panel');buttonContainer.style.visibility='hidden';}function createButtons(cb){var container=document.createElement('div');container.id='region-control-panel';var buttons=document.createElement('div');var confirm=document.createElement('button');confirm.innerText='Confirm';confirm.addEventListener('click',function(){hideButtons();removeRegion();var rect=calculateRectFromCoords(coords);cb('x: '+rect.left+', y: '+rect.top+', width: '+rect.width+', height: '+rect.height);});var cancel=document.createElement('button');cancel.innerText='Cancel';cancel.addEventListener('click',function(){hideButtons();removeRegion();cb(false);});container.style.visibility='hidden';buttons.style.display='flex';buttons.style.alignItems='center';buttons.style.justifyContent='center';styleButton(confirm);styleButton(cancel);buttons.appendChild(cancel);buttons.appendChild(confirm);container.appendChild(buttons);return container;}function styleButton(button){button.style.color='#656565';button.style.backgroundColor='#F5F5F5';button.style.padding='10px 20px';button.style.margin='5px 8px';button.style.borderRadius='4px';button.style.outline='0';button.style.textTransform='capitalize';};var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(coords,'coords','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(mouseOffset,'mouseOffset','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(STATES,'STATES','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(state,'state','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(canvasExists,'canvasExists','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(editRegion,'editRegion','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(removeRegion,'removeRegion','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(setStyle,'setStyle','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(setEvents,'setEvents','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(mousedown,'mousedown','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(mousemove,'mousemove','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(mouseup,'mouseup','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(calculateRectFromCoords,'calculateRectFromCoords','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(calculateRect,'calculateRect','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(updateRegion,'updateRegion','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(moveRegion,'moveRegion','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(createRegion,'createRegion','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(createHotCorner,'createHotCorner','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(showButtons,'showButtons','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(hideButtons,'hideButtons','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(createButtons,'createButtons','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');__REACT_HOT_LOADER__.register(styleButton,'styleButton','/opt/selenium-ide/packages/selenium-ide/src/content/region.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9yZWdpb24uanM/ZmYyMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmVkaXRSZWdpb249ZWRpdFJlZ2lvbjtleHBvcnRzLnJlbW92ZVJlZ2lvbj1yZW1vdmVSZWdpb247Ly8gTGljZW5zZWQgdG8gdGhlIFNvZnR3YXJlIEZyZWVkb20gQ29uc2VydmFuY3kgKFNGQykgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBTRkMgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cbnZhciBjb29yZHM9e3N0YXJ0WDowLHN0YXJ0WTowLGVuZFg6MCxlbmRZOjB9O3ZhciBtb3VzZU9mZnNldD17eDowLHk6MH07dmFyIFNUQVRFUz17Y3JlYXRlOjEsdXBkYXRlOjIscmVzaXplOjN9O3ZhciBzdGF0ZT1TVEFURVMuY3JlYXRlO3ZhciBjYW52YXNFeGlzdHM9ZmFsc2U7ZnVuY3Rpb24gZWRpdFJlZ2lvbihyZWN0LGNiKXtpZihjYW52YXNFeGlzdHMpe3JldHVybiBjYihmYWxzZSk7fXZhciBjb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7Y29udGFpbmVyLmlkPSdzZWxlbml1bS1jb250YWluZXInO3ZhciBjYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7Y2FudmFzLmlkPSdzZWxlbml1bS1jYW52YXMnO3ZhciByZWdpb249Y3JlYXRlUmVnaW9uKCk7c2V0U3R5bGUoY2FudmFzLHJlZ2lvbik7c2V0RXZlbnRzKGNvbnRhaW5lcik7dmFyIGJ1dHRvbkNvbnRhaW5lcj1jcmVhdGVCdXR0b25zKGNiKTtidXR0b25Db250YWluZXIuc3R5bGUuekluZGV4PScxMDAwMic7aWYocmVjdCl7cmVnaW9uLnN0eWxlLmxlZnQ9cmVjdC54KydweCc7cmVnaW9uLnN0eWxlLnRvcD1yZWN0LnkrJ3B4JztyZWdpb24uc3R5bGUud2lkdGg9cmVjdC53aWR0aCsncHgnO3JlZ2lvbi5zdHlsZS5oZWlnaHQ9cmVjdC5oZWlnaHQrJ3B4Jzt9Y29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7Y29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhcyk7Y29udGFpbmVyLmFwcGVuZENoaWxkKHJlZ2lvbik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO2NhbnZhc0V4aXN0cz10cnVlO31mdW5jdGlvbiByZW1vdmVSZWdpb24oKXtpZihjYW52YXNFeGlzdHMpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNvbnRhaW5lcicpKTt9Y2FudmFzRXhpc3RzPWZhbHNlO31mdW5jdGlvbiBzZXRTdHlsZShjYW52YXMscmVnaW9uKXtjYW52YXMuc3R5bGUucG9zaXRpb249J2ZpeGVkJztjYW52YXMuc3R5bGUudG9wPTA7Y2FudmFzLnN0eWxlLmJvdHRvbT0wO2NhbnZhcy5zdHlsZS5yaWdodD0wO2NhbnZhcy5zdHlsZS5sZWZ0PTA7Y2FudmFzLnN0eWxlLnpJbmRleD0nMTAwMDAnO2NhbnZhcy5zdHlsZS5jdXJzb3I9J2Nyb3NzaGFpcic7cmVnaW9uLnN0eWxlLnBvc2l0aW9uPSdhYnNvbHV0ZSc7cmVnaW9uLnN0eWxlLnpJbmRleD0nMTAwMDEnO3JlZ2lvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9J3JnYig3OCwgMTcxLCAyMzApJztyZWdpb24uc3R5bGUub3BhY2l0eT0nMC40JztyZWdpb24uc3R5bGUuYm9yZGVyPScxcHggc29saWQgIzBlMGUwZSc7fWZ1bmN0aW9uIHNldEV2ZW50cyhjb250YWluZXIpe2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLG1vdXNlZG93bik7Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLG1vdXNldXApO31mdW5jdGlvbiBtb3VzZWRvd24oZSl7dmFyIGNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY29udGFpbmVyJyk7dmFyIGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7dmFyIHJlZ2lvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tcmVnaW9uJyk7ZS5zdG9wUHJvcGFnYXRpb24oKTtpZihlLnRhcmdldC50YWdOYW1lPT09J0JVVFRPTicpcmV0dXJuO2lmKGUudGFyZ2V0PT09Y2FudmFzKXt1cGRhdGVSZWdpb24oZS5wYWdlWCxlLnBhZ2VZLGUucGFnZVgsZS5wYWdlWSk7c3RhdGU9U1RBVEVTLmNyZWF0ZTtyZWdpb24uc3R5bGUuY3Vyc29yPSdjcm9zc2hhaXInO31lbHNlIGlmKGUudGFyZ2V0PT09cmVnaW9uKXtzdGF0ZT1TVEFURVMudXBkYXRlO21vdXNlT2Zmc2V0Lng9ZS5wYWdlWDttb3VzZU9mZnNldC55PWUucGFnZVk7cmVnaW9uLnN0eWxlLmN1cnNvcj0nbW92ZSc7fWVsc2UgaWYoZS50YXJnZXQucGFyZW50RWxlbWVudD09PXJlZ2lvbil7c3RhdGU9U1RBVEVTLnJlc2l6ZTt9Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsbW91c2Vtb3ZlKTt9ZnVuY3Rpb24gbW91c2Vtb3ZlKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7aWYoZS50YXJnZXQudGFnTmFtZT09PSdCVVRUT04nKXJldHVybjtpZihzdGF0ZT09PVNUQVRFUy5jcmVhdGV8fHN0YXRlPT09U1RBVEVTLnJlc2l6ZSl7dXBkYXRlUmVnaW9uKHVuZGVmaW5lZCx1bmRlZmluZWQsZS5wYWdlWCxlLnBhZ2VZKTt9ZWxzZSBpZihzdGF0ZT09PVNUQVRFUy51cGRhdGUpe21vdmVSZWdpb24oZS5wYWdlWCxlLnBhZ2VZKTt9fWZ1bmN0aW9uIG1vdXNldXAoZSl7dmFyIGNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY29udGFpbmVyJyk7dmFyIGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7dmFyIHJlZ2lvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tcmVnaW9uJyk7ZS5zdG9wUHJvcGFnYXRpb24oKTtyZWdpb24uc3R5bGUuY3Vyc29yPSdtb3ZlJztjYW52YXMuc3R5bGUuY3Vyc29yPSdjcm9zc2hhaXInO2NvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLG1vdXNlbW92ZSk7c2hvd0J1dHRvbnMoKTt9ZnVuY3Rpb24gY2FsY3VsYXRlUmVjdEZyb21Db29yZHMoY29vcmRzKXtyZXR1cm4gY2FsY3VsYXRlUmVjdCh7eDpjb29yZHMuc3RhcnRYLHk6Y29vcmRzLnN0YXJ0WX0se3g6Y29vcmRzLmVuZFgseTpjb29yZHMuZW5kWX0pO31mdW5jdGlvbiBjYWxjdWxhdGVSZWN0KHAxLHAyKXtyZXR1cm57bGVmdDpNYXRoLm1pbihwMS54LHAyLngpLHRvcDpNYXRoLm1pbihwMS55LHAyLnkpLHdpZHRoOk1hdGguYWJzKHAxLngtcDIueCksaGVpZ2h0Ok1hdGguYWJzKHAxLnktcDIueSl9O31mdW5jdGlvbiB1cGRhdGVSZWdpb24oc3RhcnRYLHN0YXJ0WSxlbmRYLGVuZFkpe2hpZGVCdXR0b25zKCk7dmFyIHJlZ2lvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tcmVnaW9uJyk7aWYoc3RhcnRYKXtjb29yZHMuc3RhcnRYPXN0YXJ0WDt9aWYoc3RhcnRZKXtjb29yZHMuc3RhcnRZPXN0YXJ0WTt9aWYoZW5kWCl7Y29vcmRzLmVuZFg9ZW5kWDt9aWYoZW5kWSl7Y29vcmRzLmVuZFk9ZW5kWTt9dmFyIHJlY3Q9Y2FsY3VsYXRlUmVjdEZyb21Db29yZHMoY29vcmRzKTtyZWdpb24uc3R5bGUubGVmdD1yZWN0LmxlZnQrJ3B4JztyZWdpb24uc3R5bGUudG9wPXJlY3QudG9wKydweCc7cmVnaW9uLnN0eWxlLndpZHRoPXJlY3Qud2lkdGgrJ3B4JztyZWdpb24uc3R5bGUuaGVpZ2h0PXJlY3QuaGVpZ2h0KydweCc7fWZ1bmN0aW9uIG1vdmVSZWdpb24obW91c2VYLG1vdXNlWSl7dmFyIGR4PW1vdXNlT2Zmc2V0LngtbW91c2VYO3ZhciBkeT1tb3VzZU9mZnNldC55LW1vdXNlWTttb3VzZU9mZnNldC54PW1vdXNlWDttb3VzZU9mZnNldC55PW1vdXNlWTtpZihjb29yZHMuc3RhcnRYLWR4PDV8fGNvb3Jkcy5lbmRYLWR4PDUpZHg9MDtpZihjb29yZHMuc3RhcnRZLWR5PDV8fGNvb3Jkcy5lbmRZLWR5PDUpZHk9MDt1cGRhdGVSZWdpb24oY29vcmRzLnN0YXJ0WC1keCxjb29yZHMuc3RhcnRZLWR5LGNvb3Jkcy5lbmRYLWR4LGNvb3Jkcy5lbmRZLWR5KTt9ZnVuY3Rpb24gY3JlYXRlUmVnaW9uKCl7dmFyIHJlZ2lvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtyZWdpb24uaWQ9J3NlbGVuaXVtLXJlZ2lvbic7dmFyIGNvcm5lclNpemU9MjA7dmFyIHRsYz1jcmVhdGVIb3RDb3JuZXIoY29ybmVyU2l6ZSk7dGxjLnN0eWxlLnRvcD0nLTVweCc7dGxjLnN0eWxlLmxlZnQ9Jy01cHgnO3RsYy5zdHlsZS5jdXJzb3I9J253LXJlc2l6ZSc7dGxjLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsZnVuY3Rpb24oKXt2YXIgY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKTt2YXIgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtjYW52YXMuc3R5bGUuY3Vyc29yPSdudy1yZXNpemUnO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J253LXJlc2l6ZSc7dXBkYXRlUmVnaW9uKE1hdGgubWF4KGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpLE1hdGgubWluKGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWluKGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpKTt9KTtyZWdpb24uYXBwZW5kQ2hpbGQodGxjKTt2YXIgdHJjPWNyZWF0ZUhvdENvcm5lcihjb3JuZXJTaXplKTt0cmMuc3R5bGUudG9wPSctNXB4Jzt0cmMuc3R5bGUucmlnaHQ9Jy01cHgnO3RyYy5zdHlsZS5jdXJzb3I9J25lLXJlc2l6ZSc7dHJjLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsZnVuY3Rpb24oKXt2YXIgY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKTt2YXIgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtjYW52YXMuc3R5bGUuY3Vyc29yPSduZS1yZXNpemUnO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J25lLXJlc2l6ZSc7dXBkYXRlUmVnaW9uKE1hdGgubWluKGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWluKGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpKTt9KTtyZWdpb24uYXBwZW5kQ2hpbGQodHJjKTt2YXIgYmxjPWNyZWF0ZUhvdENvcm5lcihjb3JuZXJTaXplKTtibGMuc3R5bGUuYm90dG9tPSctNXB4JztibGMuc3R5bGUubGVmdD0nLTVweCc7YmxjLnN0eWxlLmN1cnNvcj0nc3ctcmVzaXplJztibGMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxmdW5jdGlvbigpe3ZhciBjYW52YXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNhbnZhcycpO3ZhciByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2NhbnZhcy5zdHlsZS5jdXJzb3I9J3N3LXJlc2l6ZSc7cmVnaW9uLnN0eWxlLmN1cnNvcj0nc3ctcmVzaXplJzt1cGRhdGVSZWdpb24oTWF0aC5tYXgoY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5taW4oY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSksTWF0aC5taW4oY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSkpO30pO3JlZ2lvbi5hcHBlbmRDaGlsZChibGMpO3ZhciBicmM9Y3JlYXRlSG90Q29ybmVyKGNvcm5lclNpemUpO2JyYy5zdHlsZS5ib3R0b209Jy01cHgnO2JyYy5zdHlsZS5yaWdodD0nLTVweCc7YnJjLnN0eWxlLmN1cnNvcj0nc2UtcmVzaXplJzticmMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxmdW5jdGlvbigpe3ZhciBjYW52YXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNhbnZhcycpO3ZhciByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2NhbnZhcy5zdHlsZS5jdXJzb3I9J3NlLXJlc2l6ZSc7cmVnaW9uLnN0eWxlLmN1cnNvcj0nc2UtcmVzaXplJzt1cGRhdGVSZWdpb24oTWF0aC5taW4oY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5taW4oY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSkpO30pO3JlZ2lvbi5hcHBlbmRDaGlsZChicmMpO3JldHVybiByZWdpb247fWZ1bmN0aW9uIGNyZWF0ZUhvdENvcm5lcihzaXplKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtjLnN0eWxlLnBvc2l0aW9uPSdhYnNvbHV0ZSc7Yy5zdHlsZS5oZWlnaHQ9c2l6ZSsncHgnO2Muc3R5bGUud2lkdGg9c2l6ZSsncHgnO3JldHVybiBjO31mdW5jdGlvbiBzaG93QnV0dG9ucygpe3ZhciBjYW52YXNSZWN0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgYnV0dG9uQ29udGFpbmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb24tY29udHJvbC1wYW5lbCcpO3ZhciB0b3A9Y29vcmRzLnN0YXJ0WTt2YXIgYm90dG9tPWNvb3Jkcy5lbmRZO3ZhciBsZWZ0PWNvb3Jkcy5zdGFydFg7dmFyIHJpZ2h0PWNvb3Jkcy5lbmRYO3ZhciB3aWR0aD1yaWdodC1sZWZ0O2lmKGNhbnZhc1JlY3QuYm90dG9tLWJvdHRvbTw9MTAwKWJvdHRvbT10b3A7aWYod2lkdGg8MClsZWZ0PWNvb3Jkcy5lbmRYO3JpZ2h0PWNvb3Jkcy5zdGFydFg7d2lkdGg9TWF0aC5hYnMod2lkdGgpO2lmKHdpZHRoPDIyNSl3aWR0aD0yMjU7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPSdhYnNvbHV0ZSc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnRvcD1ib3R0b20rJ3B4JztidXR0b25Db250YWluZXIuc3R5bGUubGVmdD1sZWZ0KydweCc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnJpZ2h0PXJpZ2h0KydweCc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLndpZHRoPXdpZHRoKydweCc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcj0ncmdiYSgwLCAwLCAwLCAwLjU1KSc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9J3Zpc2libGUnO31mdW5jdGlvbiBoaWRlQnV0dG9ucygpe3ZhciBidXR0b25Db250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbi1jb250cm9sLXBhbmVsJyk7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7fWZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbnMoY2Ipe3ZhciBjb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7Y29udGFpbmVyLmlkPSdyZWdpb24tY29udHJvbC1wYW5lbCc7dmFyIGJ1dHRvbnM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7dmFyIGNvbmZpcm09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7Y29uZmlybS5pbm5lclRleHQ9J0NvbmZpcm0nO2NvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7aGlkZUJ1dHRvbnMoKTtyZW1vdmVSZWdpb24oKTt2YXIgcmVjdD1jYWxjdWxhdGVSZWN0RnJvbUNvb3Jkcyhjb29yZHMpO2NiKCd4OiAnK3JlY3QubGVmdCsnLCB5OiAnK3JlY3QudG9wKycsIHdpZHRoOiAnK3JlY3Qud2lkdGgrJywgaGVpZ2h0OiAnK3JlY3QuaGVpZ2h0KTt9KTt2YXIgY2FuY2VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO2NhbmNlbC5pbm5lclRleHQ9J0NhbmNlbCc7Y2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbigpe2hpZGVCdXR0b25zKCk7cmVtb3ZlUmVnaW9uKCk7Y2IoZmFsc2UpO30pO2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nO2J1dHRvbnMuc3R5bGUuZGlzcGxheT0nZmxleCc7YnV0dG9ucy5zdHlsZS5hbGlnbkl0ZW1zPSdjZW50ZXInO2J1dHRvbnMuc3R5bGUuanVzdGlmeUNvbnRlbnQ9J2NlbnRlcic7c3R5bGVCdXR0b24oY29uZmlybSk7c3R5bGVCdXR0b24oY2FuY2VsKTtidXR0b25zLmFwcGVuZENoaWxkKGNhbmNlbCk7YnV0dG9ucy5hcHBlbmRDaGlsZChjb25maXJtKTtjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7cmV0dXJuIGNvbnRhaW5lcjt9ZnVuY3Rpb24gc3R5bGVCdXR0b24oYnV0dG9uKXtidXR0b24uc3R5bGUuY29sb3I9JyM2NTY1NjUnO2J1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9JyNGNUY1RjUnO2J1dHRvbi5zdHlsZS5wYWRkaW5nPScxMHB4IDIwcHgnO2J1dHRvbi5zdHlsZS5tYXJnaW49JzVweCA4cHgnO2J1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXM9JzRweCc7YnV0dG9uLnN0eWxlLm91dGxpbmU9JzAnO2J1dHRvbi5zdHlsZS50ZXh0VHJhbnNmb3JtPSdjYXBpdGFsaXplJzt9O3ZhciBfdGVtcD1mdW5jdGlvbigpe2lmKHR5cGVvZiBfX1JFQUNUX0hPVF9MT0FERVJfXz09PSd1bmRlZmluZWQnKXtyZXR1cm47fV9fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGNvb3JkcywnY29vcmRzJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3JlZ2lvbi5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKG1vdXNlT2Zmc2V0LCdtb3VzZU9mZnNldCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihTVEFURVMsJ1NUQVRFUycsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihzdGF0ZSwnc3RhdGUnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoY2FudmFzRXhpc3RzLCdjYW52YXNFeGlzdHMnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoZWRpdFJlZ2lvbiwnZWRpdFJlZ2lvbicsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihyZW1vdmVSZWdpb24sJ3JlbW92ZVJlZ2lvbicsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihzZXRTdHlsZSwnc2V0U3R5bGUnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoc2V0RXZlbnRzLCdzZXRFdmVudHMnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIobW91c2Vkb3duLCdtb3VzZWRvd24nLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIobW91c2Vtb3ZlLCdtb3VzZW1vdmUnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIobW91c2V1cCwnbW91c2V1cCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihjYWxjdWxhdGVSZWN0RnJvbUNvb3JkcywnY2FsY3VsYXRlUmVjdEZyb21Db29yZHMnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoY2FsY3VsYXRlUmVjdCwnY2FsY3VsYXRlUmVjdCcsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcih1cGRhdGVSZWdpb24sJ3VwZGF0ZVJlZ2lvbicsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3Rlcihtb3ZlUmVnaW9uLCdtb3ZlUmVnaW9uJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3JlZ2lvbi5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGNyZWF0ZVJlZ2lvbiwnY3JlYXRlUmVnaW9uJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3JlZ2lvbi5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGNyZWF0ZUhvdENvcm5lciwnY3JlYXRlSG90Q29ybmVyJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3JlZ2lvbi5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKHNob3dCdXR0b25zLCdzaG93QnV0dG9ucycsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihoaWRlQnV0dG9ucywnaGlkZUJ1dHRvbnMnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoY3JlYXRlQnV0dG9ucywnY3JlYXRlQnV0dG9ucycsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9yZWdpb24uanMnKTtfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihzdHlsZUJ1dHRvbiwnc3R5bGVCdXR0b24nLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcmVnaW9uLmpzJyk7fSgpOztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvcmVnaW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///393\n");

/***/ }),

/***/ 394:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports,\"__esModule\",{value:true});exports.attach=attach;exports.detach=detach;var _webextensionPolyfill=__webpack_require__(11);var _webextensionPolyfill2=_interopRequireDefault(_webextensionPolyfill);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var handler=void 0,elementForInjectingScript=void 0;// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nfunction attach(selenium){elementForInjectingScript=document.createElement('script');elementForInjectingScript.src=_webextensionPolyfill2.default.runtime.getURL('/assets/prompt.js');(document.head||document.documentElement).appendChild(elementForInjectingScript);if(window===window.top){handler=function handler(e){return handleMessage(e,selenium);};window.addEventListener('message',handler);}}function detach(){window.postMessage({direction:'from-content-script',detach:true},'*');elementForInjectingScript.parentNode.removeChild(elementForInjectingScript);window.removeEventListener('message',handler);}function handleMessage(event,selenium){if(event.source.top==window&&event.data&&event.data.direction=='from-page-script'){if(event.data.response){switch(event.data.response){case'prompt':selenium.browserbot.promptResponse=true;if(event.data.value)selenium.browserbot.promptMessage=event.data.value;break;case'confirm':selenium.browserbot.confirmationResponse=true;if(event.data.value)selenium.browserbot.confirmationMessage=event.data.value;break;case'alert':selenium.browserbot.alertResponse=true;if(event.data.value)selenium.browserbot.alertMessage=event.data.value;break;}}}};var _temp=function(){if(typeof __REACT_HOT_LOADER__==='undefined'){return;}__REACT_HOT_LOADER__.register(handler,'handler','/opt/selenium-ide/packages/selenium-ide/src/content/prompt-injector.js');__REACT_HOT_LOADER__.register(elementForInjectingScript,'elementForInjectingScript','/opt/selenium-ide/packages/selenium-ide/src/content/prompt-injector.js');__REACT_HOT_LOADER__.register(attach,'attach','/opt/selenium-ide/packages/selenium-ide/src/content/prompt-injector.js');__REACT_HOT_LOADER__.register(detach,'detach','/opt/selenium-ide/packages/selenium-ide/src/content/prompt-injector.js');__REACT_HOT_LOADER__.register(handleMessage,'handleMessage','/opt/selenium-ide/packages/selenium-ide/src/content/prompt-injector.js');}();;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9wcm9tcHQtaW5qZWN0b3IuanM/YTlkMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOnRydWV9KTtleHBvcnRzLmF0dGFjaD1hdHRhY2g7ZXhwb3J0cy5kZXRhY2g9ZGV0YWNoO3ZhciBfd2ViZXh0ZW5zaW9uUG9seWZpbGw9cmVxdWlyZSgnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJyk7dmFyIF93ZWJleHRlbnNpb25Qb2x5ZmlsbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2ViZXh0ZW5zaW9uUG9seWZpbGwpO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfTt9dmFyIGhhbmRsZXI9dm9pZCAwLGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQ9dm9pZCAwOy8vIExpY2Vuc2VkIHRvIHRoZSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5IChTRkMpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgU0ZDIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5mdW5jdGlvbiBhdHRhY2goc2VsZW5pdW0pe2VsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7ZWxlbWVudEZvckluamVjdGluZ1NjcmlwdC5zcmM9X3dlYmV4dGVuc2lvblBvbHlmaWxsMi5kZWZhdWx0LnJ1bnRpbWUuZ2V0VVJMKCcvYXNzZXRzL3Byb21wdC5qcycpOyhkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQpO2lmKHdpbmRvdz09PXdpbmRvdy50b3Ape2hhbmRsZXI9ZnVuY3Rpb24gaGFuZGxlcihlKXtyZXR1cm4gaGFuZGxlTWVzc2FnZShlLHNlbGVuaXVtKTt9O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxoYW5kbGVyKTt9fWZ1bmN0aW9uIGRldGFjaCgpe3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0JyxkZXRhY2g6dHJ1ZX0sJyonKTtlbGVtZW50Rm9ySW5qZWN0aW5nU2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudEZvckluamVjdGluZ1NjcmlwdCk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLGhhbmRsZXIpO31mdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGV2ZW50LHNlbGVuaXVtKXtpZihldmVudC5zb3VyY2UudG9wPT13aW5kb3cmJmV2ZW50LmRhdGEmJmV2ZW50LmRhdGEuZGlyZWN0aW9uPT0nZnJvbS1wYWdlLXNjcmlwdCcpe2lmKGV2ZW50LmRhdGEucmVzcG9uc2Upe3N3aXRjaChldmVudC5kYXRhLnJlc3BvbnNlKXtjYXNlJ3Byb21wdCc6c2VsZW5pdW0uYnJvd3NlcmJvdC5wcm9tcHRSZXNwb25zZT10cnVlO2lmKGV2ZW50LmRhdGEudmFsdWUpc2VsZW5pdW0uYnJvd3NlcmJvdC5wcm9tcHRNZXNzYWdlPWV2ZW50LmRhdGEudmFsdWU7YnJlYWs7Y2FzZSdjb25maXJtJzpzZWxlbml1bS5icm93c2VyYm90LmNvbmZpcm1hdGlvblJlc3BvbnNlPXRydWU7aWYoZXZlbnQuZGF0YS52YWx1ZSlzZWxlbml1bS5icm93c2VyYm90LmNvbmZpcm1hdGlvbk1lc3NhZ2U9ZXZlbnQuZGF0YS52YWx1ZTticmVhaztjYXNlJ2FsZXJ0JzpzZWxlbml1bS5icm93c2VyYm90LmFsZXJ0UmVzcG9uc2U9dHJ1ZTtpZihldmVudC5kYXRhLnZhbHVlKXNlbGVuaXVtLmJyb3dzZXJib3QuYWxlcnRNZXNzYWdlPWV2ZW50LmRhdGEudmFsdWU7YnJlYWs7fX19fTt2YXIgX3RlbXA9ZnVuY3Rpb24oKXtpZih0eXBlb2YgX19SRUFDVF9IT1RfTE9BREVSX189PT0ndW5kZWZpbmVkJyl7cmV0dXJuO31fX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihoYW5kbGVyLCdoYW5kbGVyJywnL29wdC9zZWxlbml1bS1pZGUvcGFja2FnZXMvc2VsZW5pdW0taWRlL3NyYy9jb250ZW50L3Byb21wdC1pbmplY3Rvci5qcycpO19fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQsJ2VsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcHJvbXB0LWluamVjdG9yLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoYXR0YWNoLCdhdHRhY2gnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcHJvbXB0LWluamVjdG9yLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoZGV0YWNoLCdkZXRhY2gnLCcvb3B0L3NlbGVuaXVtLWlkZS9wYWNrYWdlcy9zZWxlbml1bS1pZGUvc3JjL2NvbnRlbnQvcHJvbXB0LWluamVjdG9yLmpzJyk7X19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIoaGFuZGxlTWVzc2FnZSwnaGFuZGxlTWVzc2FnZScsJy9vcHQvc2VsZW5pdW0taWRlL3BhY2thZ2VzL3NlbGVuaXVtLWlkZS9zcmMvY29udGVudC9wcm9tcHQtaW5qZWN0b3IuanMnKTt9KCk7O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9wcm9tcHQtaW5qZWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDM5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///394\n");

/***/ })

},[332]);
});